var Q1=t=>{throw TypeError(t)};var cy=(t,e,n)=>e.has(t)||Q1("Cannot "+n);var oe=(t,e,n)=>(cy(t,e,"read from private field"),n?n.call(t):e.get(t)),lt=(t,e,n)=>e.has(t)?Q1("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),Be=(t,e,n,r)=>(cy(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),bn=(t,e,n)=>(cy(t,e,"access private method"),n);var _f=(t,e,n,r)=>({set _(i){Be(t,e,i,n)},get _(){return oe(t,e,r)}});function ZM(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(r,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const o of s.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=n(i);fetch(i.href,s)}})();var X1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function N0(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var lP={exports:{}},qm={},cP={exports:{}},Ge={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ph=Symbol.for("react.element"),ej=Symbol.for("react.portal"),tj=Symbol.for("react.fragment"),nj=Symbol.for("react.strict_mode"),rj=Symbol.for("react.profiler"),ij=Symbol.for("react.provider"),sj=Symbol.for("react.context"),oj=Symbol.for("react.forward_ref"),aj=Symbol.for("react.suspense"),lj=Symbol.for("react.memo"),cj=Symbol.for("react.lazy"),J1=Symbol.iterator;function uj(t){return t===null||typeof t!="object"?null:(t=J1&&t[J1]||t["@@iterator"],typeof t=="function"?t:null)}var uP={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},dP=Object.assign,hP={};function cu(t,e,n){this.props=t,this.context=e,this.refs=hP,this.updater=n||uP}cu.prototype.isReactComponent={};cu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};cu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function fP(){}fP.prototype=cu.prototype;function O0(t,e,n){this.props=t,this.context=e,this.refs=hP,this.updater=n||uP}var D0=O0.prototype=new fP;D0.constructor=O0;dP(D0,cu.prototype);D0.isPureReactComponent=!0;var Z1=Array.isArray,pP=Object.prototype.hasOwnProperty,M0={current:null},mP={key:!0,ref:!0,__self:!0,__source:!0};function gP(t,e,n){var r,i={},s=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)pP.call(e,r)&&!mP.hasOwnProperty(r)&&(i[r]=e[r]);var a=arguments.length-2;if(a===1)i.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)i[r]===void 0&&(i[r]=a[r]);return{$$typeof:Ph,type:t,key:s,ref:o,props:i,_owner:M0.current}}function dj(t,e){return{$$typeof:Ph,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function j0(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ph}function hj(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var eb=/\/+/g;function uy(t,e){return typeof t=="object"&&t!==null&&t.key!=null?hj(""+t.key):e.toString(36)}function ip(t,e,n,r,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Ph:case ej:o=!0}}if(o)return o=t,i=i(o),t=r===""?"."+uy(o,0):r,Z1(i)?(n="",t!=null&&(n=t.replace(eb,"$&/")+"/"),ip(i,e,n,"",function(c){return c})):i!=null&&(j0(i)&&(i=dj(i,n+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(eb,"$&/")+"/")+t)),e.push(i)),1;if(o=0,r=r===""?".":r+":",Z1(t))for(var a=0;a<t.length;a++){s=t[a];var l=r+uy(s,a);o+=ip(s,e,n,l,i)}else if(l=uj(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=r+uy(s,a++),o+=ip(s,e,n,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function wf(t,e,n){if(t==null)return t;var r=[],i=0;return ip(t,r,"","",function(s){return e.call(n,s,i++)}),r}function fj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gn={current:null},sp={transition:null},pj={ReactCurrentDispatcher:Gn,ReactCurrentBatchConfig:sp,ReactCurrentOwner:M0};function yP(){throw Error("act(...) is not supported in production builds of React.")}Ge.Children={map:wf,forEach:function(t,e,n){wf(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return wf(t,function(){e++}),e},toArray:function(t){return wf(t,function(e){return e})||[]},only:function(t){if(!j0(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ge.Component=cu;Ge.Fragment=tj;Ge.Profiler=rj;Ge.PureComponent=O0;Ge.StrictMode=nj;Ge.Suspense=aj;Ge.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pj;Ge.act=yP;Ge.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=dP({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=M0.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)pP.call(e,l)&&!mP.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:Ph,type:t.type,key:i,ref:s,props:r,_owner:o}};Ge.createContext=function(t){return t={$$typeof:sj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:ij,_context:t},t.Consumer=t};Ge.createElement=gP;Ge.createFactory=function(t){var e=gP.bind(null,t);return e.type=t,e};Ge.createRef=function(){return{current:null}};Ge.forwardRef=function(t){return{$$typeof:oj,render:t}};Ge.isValidElement=j0;Ge.lazy=function(t){return{$$typeof:cj,_payload:{_status:-1,_result:t},_init:fj}};Ge.memo=function(t,e){return{$$typeof:lj,type:t,compare:e===void 0?null:e}};Ge.startTransition=function(t){var e=sp.transition;sp.transition={};try{t()}finally{sp.transition=e}};Ge.unstable_act=yP;Ge.useCallback=function(t,e){return Gn.current.useCallback(t,e)};Ge.useContext=function(t){return Gn.current.useContext(t)};Ge.useDebugValue=function(){};Ge.useDeferredValue=function(t){return Gn.current.useDeferredValue(t)};Ge.useEffect=function(t,e){return Gn.current.useEffect(t,e)};Ge.useId=function(){return Gn.current.useId()};Ge.useImperativeHandle=function(t,e,n){return Gn.current.useImperativeHandle(t,e,n)};Ge.useInsertionEffect=function(t,e){return Gn.current.useInsertionEffect(t,e)};Ge.useLayoutEffect=function(t,e){return Gn.current.useLayoutEffect(t,e)};Ge.useMemo=function(t,e){return Gn.current.useMemo(t,e)};Ge.useReducer=function(t,e,n){return Gn.current.useReducer(t,e,n)};Ge.useRef=function(t){return Gn.current.useRef(t)};Ge.useState=function(t){return Gn.current.useState(t)};Ge.useSyncExternalStore=function(t,e,n){return Gn.current.useSyncExternalStore(t,e,n)};Ge.useTransition=function(){return Gn.current.useTransition()};Ge.version="18.3.1";cP.exports=Ge;var S=cP.exports;const pn=N0(S),vP=ZM({__proto__:null,default:pn},[S]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mj=S,gj=Symbol.for("react.element"),yj=Symbol.for("react.fragment"),vj=Object.prototype.hasOwnProperty,_j=mj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,wj={key:!0,ref:!0,__self:!0,__source:!0};function _P(t,e,n){var r,i={},s=null,o=null;n!==void 0&&(s=""+n),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)vj.call(e,r)&&!wj.hasOwnProperty(r)&&(i[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)i[r]===void 0&&(i[r]=e[r]);return{$$typeof:gj,type:t,key:s,ref:o,props:i,_owner:_j.current}}qm.Fragment=yj;qm.jsx=_P;qm.jsxs=_P;lP.exports=qm;var g=lP.exports,wP={exports:{}},wr={},xP={exports:{}},bP={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(re,le){var _e=re.length;re.push(le);e:for(;0<_e;){var Re=_e-1>>>1,Ze=re[Re];if(0<i(Ze,le))re[Re]=le,re[_e]=Ze,_e=Re;else break e}}function n(re){return re.length===0?null:re[0]}function r(re){if(re.length===0)return null;var le=re[0],_e=re.pop();if(_e!==le){re[0]=_e;e:for(var Re=0,Ze=re.length,bt=Ze>>>1;Re<bt;){var mt=2*(Re+1)-1,Qt=re[mt],yt=mt+1,Ie=re[yt];if(0>i(Qt,_e))yt<Ze&&0>i(Ie,Qt)?(re[Re]=Ie,re[yt]=_e,Re=yt):(re[Re]=Qt,re[mt]=_e,Re=mt);else if(yt<Ze&&0>i(Ie,_e))re[Re]=Ie,re[yt]=_e,Re=yt;else break e}}return le}function i(re,le){var _e=re.sortIndex-le.sortIndex;return _e!==0?_e:re.id-le.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],h=1,p=null,m=3,w=!1,T=!1,_=!1,I=typeof setTimeout=="function"?setTimeout:null,b=typeof clearTimeout=="function"?clearTimeout:null,E=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function k(re){for(var le=n(c);le!==null;){if(le.callback===null)r(c);else if(le.startTime<=re)r(c),le.sortIndex=le.expirationTime,e(l,le);else break;le=n(c)}}function M(re){if(_=!1,k(re),!T)if(n(l)!==null)T=!0,xe(U);else{var le=n(c);le!==null&&Te(M,le.startTime-re)}}function U(re,le){T=!1,_&&(_=!1,b(R),R=-1),w=!0;var _e=m;try{for(k(le),p=n(l);p!==null&&(!(p.expirationTime>le)||re&&!B());){var Re=p.callback;if(typeof Re=="function"){p.callback=null,m=p.priorityLevel;var Ze=Re(p.expirationTime<=le);le=t.unstable_now(),typeof Ze=="function"?p.callback=Ze:p===n(l)&&r(l),k(le)}else r(l);p=n(l)}if(p!==null)var bt=!0;else{var mt=n(c);mt!==null&&Te(M,mt.startTime-le),bt=!1}return bt}finally{p=null,m=_e,w=!1}}var H=!1,N=null,R=-1,j=5,D=-1;function B(){return!(t.unstable_now()-D<j)}function L(){if(N!==null){var re=t.unstable_now();D=re;var le=!0;try{le=N(!0,re)}finally{le?F():(H=!1,N=null)}}else H=!1}var F;if(typeof E=="function")F=function(){E(L)};else if(typeof MessageChannel<"u"){var ae=new MessageChannel,Ce=ae.port2;ae.port1.onmessage=L,F=function(){Ce.postMessage(null)}}else F=function(){I(L,0)};function xe(re){N=re,H||(H=!0,F())}function Te(re,le){R=I(function(){re(t.unstable_now())},le)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(re){re.callback=null},t.unstable_continueExecution=function(){T||w||(T=!0,xe(U))},t.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):j=0<re?Math.floor(1e3/re):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(re){switch(m){case 1:case 2:case 3:var le=3;break;default:le=m}var _e=m;m=le;try{return re()}finally{m=_e}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(re,le){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var _e=m;m=re;try{return le()}finally{m=_e}},t.unstable_scheduleCallback=function(re,le,_e){var Re=t.unstable_now();switch(typeof _e=="object"&&_e!==null?(_e=_e.delay,_e=typeof _e=="number"&&0<_e?Re+_e:Re):_e=Re,re){case 1:var Ze=-1;break;case 2:Ze=250;break;case 5:Ze=1073741823;break;case 4:Ze=1e4;break;default:Ze=5e3}return Ze=_e+Ze,re={id:h++,callback:le,priorityLevel:re,startTime:_e,expirationTime:Ze,sortIndex:-1},_e>Re?(re.sortIndex=_e,e(c,re),n(l)===null&&re===n(c)&&(_?(b(R),R=-1):_=!0,Te(M,_e-Re))):(re.sortIndex=Ze,e(l,re),T||w||(T=!0,xe(U))),re},t.unstable_shouldYield=B,t.unstable_wrapCallback=function(re){var le=m;return function(){var _e=m;m=le;try{return re.apply(this,arguments)}finally{m=_e}}}})(bP);xP.exports=bP;var xj=xP.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bj=S,vr=xj;function ce(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var SP=new Set,Fd={};function wl(t,e){Uc(t,e),Uc(t+"Capture",e)}function Uc(t,e){for(Fd[t]=e,t=0;t<e.length;t++)SP.add(e[t])}var As=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),kv=Object.prototype.hasOwnProperty,Sj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,tb={},nb={};function Ej(t){return kv.call(nb,t)?!0:kv.call(tb,t)?!1:Sj.test(t)?nb[t]=!0:(tb[t]=!0,!1)}function Cj(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Tj(t,e,n,r){if(e===null||typeof e>"u"||Cj(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qn(t,e,n,r,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var vn={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){vn[t]=new qn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];vn[e]=new qn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){vn[t]=new qn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){vn[t]=new qn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){vn[t]=new qn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){vn[t]=new qn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){vn[t]=new qn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){vn[t]=new qn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){vn[t]=new qn(t,5,!1,t.toLowerCase(),null,!1,!1)});var L0=/[\-:]([a-z])/g;function F0(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(L0,F0);vn[e]=new qn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(L0,F0);vn[e]=new qn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(L0,F0);vn[e]=new qn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){vn[t]=new qn(t,1,!1,t.toLowerCase(),null,!1,!1)});vn.xlinkHref=new qn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){vn[t]=new qn(t,1,!1,t.toLowerCase(),null,!0,!0)});function V0(t,e,n,r){var i=vn.hasOwnProperty(e)?vn[e]:null;(i!==null?i.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Tj(e,n,i,r)&&(n=null),r||i===null?Ej(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):i.mustUseProperty?t[i.propertyName]=n===null?i.type===3?!1:"":n:(e=i.attributeName,r=i.attributeNamespace,n===null?t.removeAttribute(e):(i=i.type,n=i===3||i===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var zs=bj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,xf=Symbol.for("react.element"),Xl=Symbol.for("react.portal"),Jl=Symbol.for("react.fragment"),U0=Symbol.for("react.strict_mode"),Rv=Symbol.for("react.profiler"),EP=Symbol.for("react.provider"),CP=Symbol.for("react.context"),B0=Symbol.for("react.forward_ref"),Av=Symbol.for("react.suspense"),Nv=Symbol.for("react.suspense_list"),$0=Symbol.for("react.memo"),mo=Symbol.for("react.lazy"),TP=Symbol.for("react.offscreen"),rb=Symbol.iterator;function Fu(t){return t===null||typeof t!="object"?null:(t=rb&&t[rb]||t["@@iterator"],typeof t=="function"?t:null)}var Dt=Object.assign,dy;function td(t){if(dy===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);dy=e&&e[1]||""}return`
`+dy+t}var hy=!1;function fy(t,e){if(!t||hy)return"";hy=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=r.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{hy=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?td(t):""}function Pj(t){switch(t.tag){case 5:return td(t.type);case 16:return td("Lazy");case 13:return td("Suspense");case 19:return td("SuspenseList");case 0:case 2:case 15:return t=fy(t.type,!1),t;case 11:return t=fy(t.type.render,!1),t;case 1:return t=fy(t.type,!0),t;default:return""}}function Ov(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Jl:return"Fragment";case Xl:return"Portal";case Rv:return"Profiler";case U0:return"StrictMode";case Av:return"Suspense";case Nv:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case CP:return(t.displayName||"Context")+".Consumer";case EP:return(t._context.displayName||"Context")+".Provider";case B0:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case $0:return e=t.displayName||null,e!==null?e:Ov(t.type)||"Memo";case mo:e=t._payload,t=t._init;try{return Ov(t(e))}catch{}}return null}function Ij(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ov(e);case 8:return e===U0?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ko(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function PP(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function kj(t){var e=PP(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var i=n.get,s=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){r=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function bf(t){t._valueTracker||(t._valueTracker=kj(t))}function IP(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=PP(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Mp(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Dv(t,e){var n=e.checked;return Dt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function ib(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ko(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function kP(t,e){e=e.checked,e!=null&&V0(t,"checked",e,!1)}function Mv(t,e){kP(t,e);var n=Ko(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?jv(t,e.type,n):e.hasOwnProperty("defaultValue")&&jv(t,e.type,Ko(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function sb(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function jv(t,e,n){(e!=="number"||Mp(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var nd=Array.isArray;function gc(t,e,n,r){if(t=t.options,e){e={};for(var i=0;i<n.length;i++)e["$"+n[i]]=!0;for(n=0;n<t.length;n++)i=e.hasOwnProperty("$"+t[n].value),t[n].selected!==i&&(t[n].selected=i),i&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ko(n),e=null,i=0;i<t.length;i++){if(t[i].value===n){t[i].selected=!0,r&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function Lv(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ce(91));return Dt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function ob(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(ce(92));if(nd(n)){if(1<n.length)throw Error(ce(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ko(n)}}function RP(t,e){var n=Ko(e.value),r=Ko(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function ab(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function AP(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fv(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?AP(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Sf,NP=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,i){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Sf=Sf||document.createElement("div"),Sf.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Sf.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Vd(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var dd={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Rj=["Webkit","ms","Moz","O"];Object.keys(dd).forEach(function(t){Rj.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),dd[e]=dd[t]})});function OP(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||dd.hasOwnProperty(t)&&dd[t]?(""+e).trim():e+"px"}function DP(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,i=OP(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,i):t[n]=i}}var Aj=Dt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Vv(t,e){if(e){if(Aj[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ce(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ce(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ce(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ce(62))}}function Uv(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bv=null;function z0(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $v=null,yc=null,vc=null;function lb(t){if(t=Rh(t)){if(typeof $v!="function")throw Error(ce(280));var e=t.stateNode;e&&(e=Zm(e),$v(t.stateNode,t.type,e))}}function MP(t){yc?vc?vc.push(t):vc=[t]:yc=t}function jP(){if(yc){var t=yc,e=vc;if(vc=yc=null,lb(t),e)for(t=0;t<e.length;t++)lb(e[t])}}function LP(t,e){return t(e)}function FP(){}var py=!1;function VP(t,e,n){if(py)return t(e,n);py=!0;try{return LP(t,e,n)}finally{py=!1,(yc!==null||vc!==null)&&(FP(),jP())}}function Ud(t,e){var n=t.stateNode;if(n===null)return null;var r=Zm(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(ce(231,e,typeof n));return n}var zv=!1;if(As)try{var Vu={};Object.defineProperty(Vu,"passive",{get:function(){zv=!0}}),window.addEventListener("test",Vu,Vu),window.removeEventListener("test",Vu,Vu)}catch{zv=!1}function Nj(t,e,n,r,i,s,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(h){this.onError(h)}}var hd=!1,jp=null,Lp=!1,Wv=null,Oj={onError:function(t){hd=!0,jp=t}};function Dj(t,e,n,r,i,s,o,a,l){hd=!1,jp=null,Nj.apply(Oj,arguments)}function Mj(t,e,n,r,i,s,o,a,l){if(Dj.apply(this,arguments),hd){if(hd){var c=jp;hd=!1,jp=null}else throw Error(ce(198));Lp||(Lp=!0,Wv=c)}}function xl(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function UP(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function cb(t){if(xl(t)!==t)throw Error(ce(188))}function jj(t){var e=t.alternate;if(!e){if(e=xl(t),e===null)throw Error(ce(188));return e!==t?null:t}for(var n=t,r=e;;){var i=n.return;if(i===null)break;var s=i.alternate;if(s===null){if(r=i.return,r!==null){n=r;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===n)return cb(i),t;if(s===r)return cb(i),e;s=s.sibling}throw Error(ce(188))}if(n.return!==r.return)n=i,r=s;else{for(var o=!1,a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o)throw Error(ce(189))}}if(n.alternate!==r)throw Error(ce(190))}if(n.tag!==3)throw Error(ce(188));return n.stateNode.current===n?t:e}function BP(t){return t=jj(t),t!==null?$P(t):null}function $P(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=$P(t);if(e!==null)return e;t=t.sibling}return null}var zP=vr.unstable_scheduleCallback,ub=vr.unstable_cancelCallback,Lj=vr.unstable_shouldYield,Fj=vr.unstable_requestPaint,Kt=vr.unstable_now,Vj=vr.unstable_getCurrentPriorityLevel,W0=vr.unstable_ImmediatePriority,WP=vr.unstable_UserBlockingPriority,Fp=vr.unstable_NormalPriority,Uj=vr.unstable_LowPriority,HP=vr.unstable_IdlePriority,Ym=null,zi=null;function Bj(t){if(zi&&typeof zi.onCommitFiberRoot=="function")try{zi.onCommitFiberRoot(Ym,t,void 0,(t.current.flags&128)===128)}catch{}}var gi=Math.clz32?Math.clz32:Wj,$j=Math.log,zj=Math.LN2;function Wj(t){return t>>>=0,t===0?32:31-($j(t)/zj|0)|0}var Ef=64,Cf=4194304;function rd(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Vp(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,i=t.suspendedLanes,s=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~i;a!==0?r=rd(a):(s&=o,s!==0&&(r=rd(s)))}else o=n&~i,o!==0?r=rd(o):s!==0&&(r=rd(s));if(r===0)return 0;if(e!==0&&e!==r&&!(e&i)&&(i=r&-r,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-gi(e),i=1<<n,r|=t[n],e&=~i;return r}function Hj(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Kj(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-gi(s),a=1<<o,l=i[o];l===-1?(!(a&n)||a&r)&&(i[o]=Hj(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function Hv(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function KP(){var t=Ef;return Ef<<=1,!(Ef&4194240)&&(Ef=64),t}function my(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Ih(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-gi(e),t[e]=n}function Gj(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var i=31-gi(n),s=1<<i;e[i]=0,r[i]=-1,t[i]=-1,n&=~s}}function H0(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-gi(n),i=1<<r;i&e|t[r]&e&&(t[r]|=e),n&=~i}}var ut=0;function GP(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var qP,K0,YP,QP,XP,Kv=!1,Tf=[],Oo=null,Do=null,Mo=null,Bd=new Map,$d=new Map,yo=[],qj="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function db(t,e){switch(t){case"focusin":case"focusout":Oo=null;break;case"dragenter":case"dragleave":Do=null;break;case"mouseover":case"mouseout":Mo=null;break;case"pointerover":case"pointerout":Bd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":$d.delete(e.pointerId)}}function Uu(t,e,n,r,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Rh(e),e!==null&&K0(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function Yj(t,e,n,r,i){switch(e){case"focusin":return Oo=Uu(Oo,t,e,n,r,i),!0;case"dragenter":return Do=Uu(Do,t,e,n,r,i),!0;case"mouseover":return Mo=Uu(Mo,t,e,n,r,i),!0;case"pointerover":var s=i.pointerId;return Bd.set(s,Uu(Bd.get(s)||null,t,e,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,$d.set(s,Uu($d.get(s)||null,t,e,n,r,i)),!0}return!1}function JP(t){var e=za(t.target);if(e!==null){var n=xl(e);if(n!==null){if(e=n.tag,e===13){if(e=UP(n),e!==null){t.blockedOn=e,XP(t.priority,function(){YP(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function op(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Gv(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bv=r,n.target.dispatchEvent(r),Bv=null}else return e=Rh(n),e!==null&&K0(e),t.blockedOn=n,!1;e.shift()}return!0}function hb(t,e,n){op(t)&&n.delete(e)}function Qj(){Kv=!1,Oo!==null&&op(Oo)&&(Oo=null),Do!==null&&op(Do)&&(Do=null),Mo!==null&&op(Mo)&&(Mo=null),Bd.forEach(hb),$d.forEach(hb)}function Bu(t,e){t.blockedOn===e&&(t.blockedOn=null,Kv||(Kv=!0,vr.unstable_scheduleCallback(vr.unstable_NormalPriority,Qj)))}function zd(t){function e(i){return Bu(i,t)}if(0<Tf.length){Bu(Tf[0],t);for(var n=1;n<Tf.length;n++){var r=Tf[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Oo!==null&&Bu(Oo,t),Do!==null&&Bu(Do,t),Mo!==null&&Bu(Mo,t),Bd.forEach(e),$d.forEach(e),n=0;n<yo.length;n++)r=yo[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<yo.length&&(n=yo[0],n.blockedOn===null);)JP(n),n.blockedOn===null&&yo.shift()}var _c=zs.ReactCurrentBatchConfig,Up=!0;function Xj(t,e,n,r){var i=ut,s=_c.transition;_c.transition=null;try{ut=1,G0(t,e,n,r)}finally{ut=i,_c.transition=s}}function Jj(t,e,n,r){var i=ut,s=_c.transition;_c.transition=null;try{ut=4,G0(t,e,n,r)}finally{ut=i,_c.transition=s}}function G0(t,e,n,r){if(Up){var i=Gv(t,e,n,r);if(i===null)Cy(t,e,r,Bp,n),db(t,r);else if(Yj(i,t,e,n,r))r.stopPropagation();else if(db(t,r),e&4&&-1<qj.indexOf(t)){for(;i!==null;){var s=Rh(i);if(s!==null&&qP(s),s=Gv(t,e,n,r),s===null&&Cy(t,e,r,Bp,n),s===i)break;i=s}i!==null&&r.stopPropagation()}else Cy(t,e,r,null,n)}}var Bp=null;function Gv(t,e,n,r){if(Bp=null,t=z0(r),t=za(t),t!==null)if(e=xl(t),e===null)t=null;else if(n=e.tag,n===13){if(t=UP(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Bp=t,null}function ZP(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Vj()){case W0:return 1;case WP:return 4;case Fp:case Uj:return 16;case HP:return 536870912;default:return 16}default:return 16}}var ko=null,q0=null,ap=null;function eI(){if(ap)return ap;var t,e=q0,n=e.length,r,i="value"in ko?ko.value:ko.textContent,s=i.length;for(t=0;t<n&&e[t]===i[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===i[s-r];r++);return ap=i.slice(t,1<r?1-r:void 0)}function lp(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Pf(){return!0}function fb(){return!1}function xr(t){function e(n,r,i,s,o){this._reactName=n,this._targetInst=i,this.type=r,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Pf:fb,this.isPropagationStopped=fb,this}return Dt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Pf)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Pf)},persist:function(){},isPersistent:Pf}),e}var uu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Y0=xr(uu),kh=Dt({},uu,{view:0,detail:0}),Zj=xr(kh),gy,yy,$u,Qm=Dt({},kh,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Q0,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==$u&&($u&&t.type==="mousemove"?(gy=t.screenX-$u.screenX,yy=t.screenY-$u.screenY):yy=gy=0,$u=t),gy)},movementY:function(t){return"movementY"in t?t.movementY:yy}}),pb=xr(Qm),eL=Dt({},Qm,{dataTransfer:0}),tL=xr(eL),nL=Dt({},kh,{relatedTarget:0}),vy=xr(nL),rL=Dt({},uu,{animationName:0,elapsedTime:0,pseudoElement:0}),iL=xr(rL),sL=Dt({},uu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oL=xr(sL),aL=Dt({},uu,{data:0}),mb=xr(aL),lL={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cL={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uL={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dL(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uL[t])?!!e[t]:!1}function Q0(){return dL}var hL=Dt({},kh,{key:function(t){if(t.key){var e=lL[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=lp(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cL[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Q0,charCode:function(t){return t.type==="keypress"?lp(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?lp(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fL=xr(hL),pL=Dt({},Qm,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),gb=xr(pL),mL=Dt({},kh,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Q0}),gL=xr(mL),yL=Dt({},uu,{propertyName:0,elapsedTime:0,pseudoElement:0}),vL=xr(yL),_L=Dt({},Qm,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),wL=xr(_L),xL=[9,13,27,32],X0=As&&"CompositionEvent"in window,fd=null;As&&"documentMode"in document&&(fd=document.documentMode);var bL=As&&"TextEvent"in window&&!fd,tI=As&&(!X0||fd&&8<fd&&11>=fd),yb=" ",vb=!1;function nI(t,e){switch(t){case"keyup":return xL.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rI(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Zl=!1;function SL(t,e){switch(t){case"compositionend":return rI(e);case"keypress":return e.which!==32?null:(vb=!0,yb);case"textInput":return t=e.data,t===yb&&vb?null:t;default:return null}}function EL(t,e){if(Zl)return t==="compositionend"||!X0&&nI(t,e)?(t=eI(),ap=q0=ko=null,Zl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return tI&&e.locale!=="ko"?null:e.data;default:return null}}var CL={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function _b(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!CL[t.type]:e==="textarea"}function iI(t,e,n,r){MP(r),e=$p(e,"onChange"),0<e.length&&(n=new Y0("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var pd=null,Wd=null;function TL(t){mI(t,0)}function Xm(t){var e=nc(t);if(IP(e))return t}function PL(t,e){if(t==="change")return e}var sI=!1;if(As){var _y;if(As){var wy="oninput"in document;if(!wy){var wb=document.createElement("div");wb.setAttribute("oninput","return;"),wy=typeof wb.oninput=="function"}_y=wy}else _y=!1;sI=_y&&(!document.documentMode||9<document.documentMode)}function xb(){pd&&(pd.detachEvent("onpropertychange",oI),Wd=pd=null)}function oI(t){if(t.propertyName==="value"&&Xm(Wd)){var e=[];iI(e,Wd,t,z0(t)),VP(TL,e)}}function IL(t,e,n){t==="focusin"?(xb(),pd=e,Wd=n,pd.attachEvent("onpropertychange",oI)):t==="focusout"&&xb()}function kL(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Xm(Wd)}function RL(t,e){if(t==="click")return Xm(e)}function AL(t,e){if(t==="input"||t==="change")return Xm(e)}function NL(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var _i=typeof Object.is=="function"?Object.is:NL;function Hd(t,e){if(_i(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!kv.call(e,i)||!_i(t[i],e[i]))return!1}return!0}function bb(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Sb(t,e){var n=bb(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=bb(n)}}function aI(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aI(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function lI(){for(var t=window,e=Mp();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Mp(t.document)}return e}function J0(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OL(t){var e=lI(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&aI(n.ownerDocument.documentElement,n)){if(r!==null&&J0(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=r.end===void 0?s:Math.min(r.end,i),!t.extend&&s>r&&(i=r,r=s,s=i),i=Sb(n,s);var o=Sb(n,r);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var DL=As&&"documentMode"in document&&11>=document.documentMode,ec=null,qv=null,md=null,Yv=!1;function Eb(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yv||ec==null||ec!==Mp(r)||(r=ec,"selectionStart"in r&&J0(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),md&&Hd(md,r)||(md=r,r=$p(qv,"onSelect"),0<r.length&&(e=new Y0("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ec)))}function If(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var tc={animationend:If("Animation","AnimationEnd"),animationiteration:If("Animation","AnimationIteration"),animationstart:If("Animation","AnimationStart"),transitionend:If("Transition","TransitionEnd")},xy={},cI={};As&&(cI=document.createElement("div").style,"AnimationEvent"in window||(delete tc.animationend.animation,delete tc.animationiteration.animation,delete tc.animationstart.animation),"TransitionEvent"in window||delete tc.transitionend.transition);function Jm(t){if(xy[t])return xy[t];if(!tc[t])return t;var e=tc[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in cI)return xy[t]=e[n];return t}var uI=Jm("animationend"),dI=Jm("animationiteration"),hI=Jm("animationstart"),fI=Jm("transitionend"),pI=new Map,Cb="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){pI.set(t,e),wl(e,[t])}for(var by=0;by<Cb.length;by++){var Sy=Cb[by],ML=Sy.toLowerCase(),jL=Sy[0].toUpperCase()+Sy.slice(1);sa(ML,"on"+jL)}sa(uI,"onAnimationEnd");sa(dI,"onAnimationIteration");sa(hI,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(fI,"onTransitionEnd");Uc("onMouseEnter",["mouseout","mouseover"]);Uc("onMouseLeave",["mouseout","mouseover"]);Uc("onPointerEnter",["pointerout","pointerover"]);Uc("onPointerLeave",["pointerout","pointerover"]);wl("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wl("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wl("onBeforeInput",["compositionend","keypress","textInput","paste"]);wl("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wl("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var id="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LL=new Set("cancel close invalid load scroll toggle".split(" ").concat(id));function Tb(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,Mj(r,e,void 0,t),t.currentTarget=null}function mI(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],i=r.event;r=r.listeners;e:{var s=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;Tb(i,a,c),s=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;Tb(i,a,c),s=l}}}if(Lp)throw t=Wv,Lp=!1,Wv=null,t}function Et(t,e){var n=e[e_];n===void 0&&(n=e[e_]=new Set);var r=t+"__bubble";n.has(r)||(gI(e,t,2,!1),n.add(r))}function Ey(t,e,n){var r=0;e&&(r|=4),gI(n,t,r,e)}var kf="_reactListening"+Math.random().toString(36).slice(2);function Kd(t){if(!t[kf]){t[kf]=!0,SP.forEach(function(n){n!=="selectionchange"&&(LL.has(n)||Ey(n,!1,t),Ey(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[kf]||(e[kf]=!0,Ey("selectionchange",!1,e))}}function gI(t,e,n,r){switch(ZP(e)){case 1:var i=Xj;break;case 4:i=Jj;break;default:i=G0}n=i.bind(null,e,n,t),i=void 0,!zv||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),r?i!==void 0?t.addEventListener(e,n,{capture:!0,passive:i}):t.addEventListener(e,n,!0):i!==void 0?t.addEventListener(e,n,{passive:i}):t.addEventListener(e,n,!1)}function Cy(t,e,n,r,i){var s=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=za(a),o===null)return;if(l=o.tag,l===5||l===6){r=s=o;continue e}a=a.parentNode}}r=r.return}VP(function(){var c=s,h=z0(n),p=[];e:{var m=pI.get(t);if(m!==void 0){var w=Y0,T=t;switch(t){case"keypress":if(lp(n)===0)break e;case"keydown":case"keyup":w=fL;break;case"focusin":T="focus",w=vy;break;case"focusout":T="blur",w=vy;break;case"beforeblur":case"afterblur":w=vy;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":w=pb;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":w=tL;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":w=gL;break;case uI:case dI:case hI:w=iL;break;case fI:w=vL;break;case"scroll":w=Zj;break;case"wheel":w=wL;break;case"copy":case"cut":case"paste":w=oL;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":w=gb}var _=(e&4)!==0,I=!_&&t==="scroll",b=_?m!==null?m+"Capture":null:m;_=[];for(var E=c,k;E!==null;){k=E;var M=k.stateNode;if(k.tag===5&&M!==null&&(k=M,b!==null&&(M=Ud(E,b),M!=null&&_.push(Gd(E,M,k)))),I)break;E=E.return}0<_.length&&(m=new w(m,T,null,n,h),p.push({event:m,listeners:_}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",w=t==="mouseout"||t==="pointerout",m&&n!==Bv&&(T=n.relatedTarget||n.fromElement)&&(za(T)||T[Ns]))break e;if((w||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,w?(T=n.relatedTarget||n.toElement,w=c,T=T?za(T):null,T!==null&&(I=xl(T),T!==I||T.tag!==5&&T.tag!==6)&&(T=null)):(w=null,T=c),w!==T)){if(_=pb,M="onMouseLeave",b="onMouseEnter",E="mouse",(t==="pointerout"||t==="pointerover")&&(_=gb,M="onPointerLeave",b="onPointerEnter",E="pointer"),I=w==null?m:nc(w),k=T==null?m:nc(T),m=new _(M,E+"leave",w,n,h),m.target=I,m.relatedTarget=k,M=null,za(h)===c&&(_=new _(b,E+"enter",T,n,h),_.target=k,_.relatedTarget=I,M=_),I=M,w&&T)t:{for(_=w,b=T,E=0,k=_;k;k=Hl(k))E++;for(k=0,M=b;M;M=Hl(M))k++;for(;0<E-k;)_=Hl(_),E--;for(;0<k-E;)b=Hl(b),k--;for(;E--;){if(_===b||b!==null&&_===b.alternate)break t;_=Hl(_),b=Hl(b)}_=null}else _=null;w!==null&&Pb(p,m,w,_,!1),T!==null&&I!==null&&Pb(p,I,T,_,!0)}}e:{if(m=c?nc(c):window,w=m.nodeName&&m.nodeName.toLowerCase(),w==="select"||w==="input"&&m.type==="file")var U=PL;else if(_b(m))if(sI)U=AL;else{U=kL;var H=IL}else(w=m.nodeName)&&w.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(U=RL);if(U&&(U=U(t,c))){iI(p,U,n,h);break e}H&&H(t,m,c),t==="focusout"&&(H=m._wrapperState)&&H.controlled&&m.type==="number"&&jv(m,"number",m.value)}switch(H=c?nc(c):window,t){case"focusin":(_b(H)||H.contentEditable==="true")&&(ec=H,qv=c,md=null);break;case"focusout":md=qv=ec=null;break;case"mousedown":Yv=!0;break;case"contextmenu":case"mouseup":case"dragend":Yv=!1,Eb(p,n,h);break;case"selectionchange":if(DL)break;case"keydown":case"keyup":Eb(p,n,h)}var N;if(X0)e:{switch(t){case"compositionstart":var R="onCompositionStart";break e;case"compositionend":R="onCompositionEnd";break e;case"compositionupdate":R="onCompositionUpdate";break e}R=void 0}else Zl?nI(t,n)&&(R="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(R="onCompositionStart");R&&(tI&&n.locale!=="ko"&&(Zl||R!=="onCompositionStart"?R==="onCompositionEnd"&&Zl&&(N=eI()):(ko=h,q0="value"in ko?ko.value:ko.textContent,Zl=!0)),H=$p(c,R),0<H.length&&(R=new mb(R,t,null,n,h),p.push({event:R,listeners:H}),N?R.data=N:(N=rI(n),N!==null&&(R.data=N)))),(N=bL?SL(t,n):EL(t,n))&&(c=$p(c,"onBeforeInput"),0<c.length&&(h=new mb("onBeforeInput","beforeinput",null,n,h),p.push({event:h,listeners:c}),h.data=N))}mI(p,e)})}function Gd(t,e,n){return{instance:t,listener:e,currentTarget:n}}function $p(t,e){for(var n=e+"Capture",r=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ud(t,n),s!=null&&r.unshift(Gd(t,s,i)),s=Ud(t,e),s!=null&&r.push(Gd(t,s,i))),t=t.return}return r}function Hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Pb(t,e,n,r,i){for(var s=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,i?(l=Ud(n,s),l!=null&&o.unshift(Gd(n,l,a))):i||(l=Ud(n,s),l!=null&&o.push(Gd(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var FL=/\r\n?/g,VL=/\u0000|\uFFFD/g;function Ib(t){return(typeof t=="string"?t:""+t).replace(FL,`
`).replace(VL,"")}function Rf(t,e,n){if(e=Ib(e),Ib(t)!==e&&n)throw Error(ce(425))}function zp(){}var Qv=null,Xv=null;function Jv(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Zv=typeof setTimeout=="function"?setTimeout:void 0,UL=typeof clearTimeout=="function"?clearTimeout:void 0,kb=typeof Promise=="function"?Promise:void 0,BL=typeof queueMicrotask=="function"?queueMicrotask:typeof kb<"u"?function(t){return kb.resolve(null).then(t).catch($L)}:Zv;function $L(t){setTimeout(function(){throw t})}function Ty(t,e){var n=e,r=0;do{var i=n.nextSibling;if(t.removeChild(n),i&&i.nodeType===8)if(n=i.data,n==="/$"){if(r===0){t.removeChild(i),zd(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=i}while(n);zd(e)}function jo(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Rb(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var du=Math.random().toString(36).slice(2),Ui="__reactFiber$"+du,qd="__reactProps$"+du,Ns="__reactContainer$"+du,e_="__reactEvents$"+du,zL="__reactListeners$"+du,WL="__reactHandles$"+du;function za(t){var e=t[Ui];if(e)return e;for(var n=t.parentNode;n;){if(e=n[Ns]||n[Ui]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Rb(t);t!==null;){if(n=t[Ui])return n;t=Rb(t)}return e}t=n,n=t.parentNode}return null}function Rh(t){return t=t[Ui]||t[Ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function nc(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ce(33))}function Zm(t){return t[qd]||null}var t_=[],rc=-1;function oa(t){return{current:t}}function Ct(t){0>rc||(t.current=t_[rc],t_[rc]=null,rc--)}function xt(t,e){rc++,t_[rc]=t.current,t.current=e}var Go={},kn=oa(Go),Zn=oa(!1),ol=Go;function Bc(t,e){var n=t.type.contextTypes;if(!n)return Go;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in n)i[s]=e[s];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function er(t){return t=t.childContextTypes,t!=null}function Wp(){Ct(Zn),Ct(kn)}function Ab(t,e,n){if(kn.current!==Go)throw Error(ce(168));xt(kn,e),xt(Zn,n)}function yI(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var i in r)if(!(i in e))throw Error(ce(108,Ij(t)||"Unknown",i));return Dt({},n,r)}function Hp(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Go,ol=kn.current,xt(kn,t),xt(Zn,Zn.current),!0}function Nb(t,e,n){var r=t.stateNode;if(!r)throw Error(ce(169));n?(t=yI(t,e,ol),r.__reactInternalMemoizedMergedChildContext=t,Ct(Zn),Ct(kn),xt(kn,t)):Ct(Zn),xt(Zn,n)}var ys=null,eg=!1,Py=!1;function vI(t){ys===null?ys=[t]:ys.push(t)}function HL(t){eg=!0,vI(t)}function aa(){if(!Py&&ys!==null){Py=!0;var t=0,e=ut;try{var n=ys;for(ut=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}ys=null,eg=!1}catch(i){throw ys!==null&&(ys=ys.slice(t+1)),zP(W0,aa),i}finally{ut=e,Py=!1}}return null}var ic=[],sc=0,Kp=null,Gp=0,Ar=[],Nr=0,al=null,ws=1,xs="";function Ma(t,e){ic[sc++]=Gp,ic[sc++]=Kp,Kp=t,Gp=e}function _I(t,e,n){Ar[Nr++]=ws,Ar[Nr++]=xs,Ar[Nr++]=al,al=t;var r=ws;t=xs;var i=32-gi(r)-1;r&=~(1<<i),n+=1;var s=32-gi(e)+i;if(30<s){var o=i-i%5;s=(r&(1<<o)-1).toString(32),r>>=o,i-=o,ws=1<<32-gi(e)+i|n<<i|r,xs=s+t}else ws=1<<s|n<<i|r,xs=t}function Z0(t){t.return!==null&&(Ma(t,1),_I(t,1,0))}function ew(t){for(;t===Kp;)Kp=ic[--sc],ic[sc]=null,Gp=ic[--sc],ic[sc]=null;for(;t===al;)al=Ar[--Nr],Ar[Nr]=null,xs=Ar[--Nr],Ar[Nr]=null,ws=Ar[--Nr],Ar[Nr]=null}var mr=null,pr=null,Pt=!1,ci=null;function wI(t,e){var n=Mr(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ob(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,mr=t,pr=jo(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,mr=t,pr=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=al!==null?{id:ws,overflow:xs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Mr(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,mr=t,pr=null,!0):!1;default:return!1}}function n_(t){return(t.mode&1)!==0&&(t.flags&128)===0}function r_(t){if(Pt){var e=pr;if(e){var n=e;if(!Ob(t,e)){if(n_(t))throw Error(ce(418));e=jo(n.nextSibling);var r=mr;e&&Ob(t,e)?wI(r,n):(t.flags=t.flags&-4097|2,Pt=!1,mr=t)}}else{if(n_(t))throw Error(ce(418));t.flags=t.flags&-4097|2,Pt=!1,mr=t}}}function Db(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;mr=t}function Af(t){if(t!==mr)return!1;if(!Pt)return Db(t),Pt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Jv(t.type,t.memoizedProps)),e&&(e=pr)){if(n_(t))throw xI(),Error(ce(418));for(;e;)wI(t,e),e=jo(e.nextSibling)}if(Db(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ce(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){pr=jo(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}pr=null}}else pr=mr?jo(t.stateNode.nextSibling):null;return!0}function xI(){for(var t=pr;t;)t=jo(t.nextSibling)}function $c(){pr=mr=null,Pt=!1}function tw(t){ci===null?ci=[t]:ci.push(t)}var KL=zs.ReactCurrentBatchConfig;function zu(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(ce(309));var r=n.stateNode}if(!r)throw Error(ce(147,t));var i=r,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(ce(284));if(!n._owner)throw Error(ce(290,t))}return t}function Nf(t,e){throw t=Object.prototype.toString.call(e),Error(ce(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Mb(t){var e=t._init;return e(t._payload)}function bI(t){function e(b,E){if(t){var k=b.deletions;k===null?(b.deletions=[E],b.flags|=16):k.push(E)}}function n(b,E){if(!t)return null;for(;E!==null;)e(b,E),E=E.sibling;return null}function r(b,E){for(b=new Map;E!==null;)E.key!==null?b.set(E.key,E):b.set(E.index,E),E=E.sibling;return b}function i(b,E){return b=Uo(b,E),b.index=0,b.sibling=null,b}function s(b,E,k){return b.index=k,t?(k=b.alternate,k!==null?(k=k.index,k<E?(b.flags|=2,E):k):(b.flags|=2,E)):(b.flags|=1048576,E)}function o(b){return t&&b.alternate===null&&(b.flags|=2),b}function a(b,E,k,M){return E===null||E.tag!==6?(E=Dy(k,b.mode,M),E.return=b,E):(E=i(E,k),E.return=b,E)}function l(b,E,k,M){var U=k.type;return U===Jl?h(b,E,k.props.children,M,k.key):E!==null&&(E.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===mo&&Mb(U)===E.type)?(M=i(E,k.props),M.ref=zu(b,E,k),M.return=b,M):(M=mp(k.type,k.key,k.props,null,b.mode,M),M.ref=zu(b,E,k),M.return=b,M)}function c(b,E,k,M){return E===null||E.tag!==4||E.stateNode.containerInfo!==k.containerInfo||E.stateNode.implementation!==k.implementation?(E=My(k,b.mode,M),E.return=b,E):(E=i(E,k.children||[]),E.return=b,E)}function h(b,E,k,M,U){return E===null||E.tag!==7?(E=el(k,b.mode,M,U),E.return=b,E):(E=i(E,k),E.return=b,E)}function p(b,E,k){if(typeof E=="string"&&E!==""||typeof E=="number")return E=Dy(""+E,b.mode,k),E.return=b,E;if(typeof E=="object"&&E!==null){switch(E.$$typeof){case xf:return k=mp(E.type,E.key,E.props,null,b.mode,k),k.ref=zu(b,null,E),k.return=b,k;case Xl:return E=My(E,b.mode,k),E.return=b,E;case mo:var M=E._init;return p(b,M(E._payload),k)}if(nd(E)||Fu(E))return E=el(E,b.mode,k,null),E.return=b,E;Nf(b,E)}return null}function m(b,E,k,M){var U=E!==null?E.key:null;if(typeof k=="string"&&k!==""||typeof k=="number")return U!==null?null:a(b,E,""+k,M);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case xf:return k.key===U?l(b,E,k,M):null;case Xl:return k.key===U?c(b,E,k,M):null;case mo:return U=k._init,m(b,E,U(k._payload),M)}if(nd(k)||Fu(k))return U!==null?null:h(b,E,k,M,null);Nf(b,k)}return null}function w(b,E,k,M,U){if(typeof M=="string"&&M!==""||typeof M=="number")return b=b.get(k)||null,a(E,b,""+M,U);if(typeof M=="object"&&M!==null){switch(M.$$typeof){case xf:return b=b.get(M.key===null?k:M.key)||null,l(E,b,M,U);case Xl:return b=b.get(M.key===null?k:M.key)||null,c(E,b,M,U);case mo:var H=M._init;return w(b,E,k,H(M._payload),U)}if(nd(M)||Fu(M))return b=b.get(k)||null,h(E,b,M,U,null);Nf(E,M)}return null}function T(b,E,k,M){for(var U=null,H=null,N=E,R=E=0,j=null;N!==null&&R<k.length;R++){N.index>R?(j=N,N=null):j=N.sibling;var D=m(b,N,k[R],M);if(D===null){N===null&&(N=j);break}t&&N&&D.alternate===null&&e(b,N),E=s(D,E,R),H===null?U=D:H.sibling=D,H=D,N=j}if(R===k.length)return n(b,N),Pt&&Ma(b,R),U;if(N===null){for(;R<k.length;R++)N=p(b,k[R],M),N!==null&&(E=s(N,E,R),H===null?U=N:H.sibling=N,H=N);return Pt&&Ma(b,R),U}for(N=r(b,N);R<k.length;R++)j=w(N,b,R,k[R],M),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?R:j.key),E=s(j,E,R),H===null?U=j:H.sibling=j,H=j);return t&&N.forEach(function(B){return e(b,B)}),Pt&&Ma(b,R),U}function _(b,E,k,M){var U=Fu(k);if(typeof U!="function")throw Error(ce(150));if(k=U.call(k),k==null)throw Error(ce(151));for(var H=U=null,N=E,R=E=0,j=null,D=k.next();N!==null&&!D.done;R++,D=k.next()){N.index>R?(j=N,N=null):j=N.sibling;var B=m(b,N,D.value,M);if(B===null){N===null&&(N=j);break}t&&N&&B.alternate===null&&e(b,N),E=s(B,E,R),H===null?U=B:H.sibling=B,H=B,N=j}if(D.done)return n(b,N),Pt&&Ma(b,R),U;if(N===null){for(;!D.done;R++,D=k.next())D=p(b,D.value,M),D!==null&&(E=s(D,E,R),H===null?U=D:H.sibling=D,H=D);return Pt&&Ma(b,R),U}for(N=r(b,N);!D.done;R++,D=k.next())D=w(N,b,R,D.value,M),D!==null&&(t&&D.alternate!==null&&N.delete(D.key===null?R:D.key),E=s(D,E,R),H===null?U=D:H.sibling=D,H=D);return t&&N.forEach(function(L){return e(b,L)}),Pt&&Ma(b,R),U}function I(b,E,k,M){if(typeof k=="object"&&k!==null&&k.type===Jl&&k.key===null&&(k=k.props.children),typeof k=="object"&&k!==null){switch(k.$$typeof){case xf:e:{for(var U=k.key,H=E;H!==null;){if(H.key===U){if(U=k.type,U===Jl){if(H.tag===7){n(b,H.sibling),E=i(H,k.props.children),E.return=b,b=E;break e}}else if(H.elementType===U||typeof U=="object"&&U!==null&&U.$$typeof===mo&&Mb(U)===H.type){n(b,H.sibling),E=i(H,k.props),E.ref=zu(b,H,k),E.return=b,b=E;break e}n(b,H);break}else e(b,H);H=H.sibling}k.type===Jl?(E=el(k.props.children,b.mode,M,k.key),E.return=b,b=E):(M=mp(k.type,k.key,k.props,null,b.mode,M),M.ref=zu(b,E,k),M.return=b,b=M)}return o(b);case Xl:e:{for(H=k.key;E!==null;){if(E.key===H)if(E.tag===4&&E.stateNode.containerInfo===k.containerInfo&&E.stateNode.implementation===k.implementation){n(b,E.sibling),E=i(E,k.children||[]),E.return=b,b=E;break e}else{n(b,E);break}else e(b,E);E=E.sibling}E=My(k,b.mode,M),E.return=b,b=E}return o(b);case mo:return H=k._init,I(b,E,H(k._payload),M)}if(nd(k))return T(b,E,k,M);if(Fu(k))return _(b,E,k,M);Nf(b,k)}return typeof k=="string"&&k!==""||typeof k=="number"?(k=""+k,E!==null&&E.tag===6?(n(b,E.sibling),E=i(E,k),E.return=b,b=E):(n(b,E),E=Dy(k,b.mode,M),E.return=b,b=E),o(b)):n(b,E)}return I}var zc=bI(!0),SI=bI(!1),qp=oa(null),Yp=null,oc=null,nw=null;function rw(){nw=oc=Yp=null}function iw(t){var e=qp.current;Ct(qp),t._currentValue=e}function i_(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function wc(t,e){Yp=t,nw=oc=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Xn=!0),t.firstContext=null)}function Vr(t){var e=t._currentValue;if(nw!==t)if(t={context:t,memoizedValue:e,next:null},oc===null){if(Yp===null)throw Error(ce(308));oc=t,Yp.dependencies={lanes:0,firstContext:t}}else oc=oc.next=t;return e}var Wa=null;function sw(t){Wa===null?Wa=[t]:Wa.push(t)}function EI(t,e,n,r){var i=e.interleaved;return i===null?(n.next=n,sw(e)):(n.next=i.next,i.next=n),e.interleaved=n,Os(t,r)}function Os(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var go=!1;function ow(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function CI(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ps(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Lo(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,et&2){var i=r.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),r.pending=e,Os(t,n)}return i=r.interleaved,i===null?(e.next=e,sw(r)):(e.next=i.next,i.next=e),r.interleaved=e,Os(t,n)}function cp(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}function jb(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var i=null,s=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};s===null?i=s=o:s=s.next=o,n=n.next}while(n!==null);s===null?i=s=e:s=s.next=e}else i=s=e;n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Qp(t,e,n,r){var i=t.updateQueue;go=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?s=c:o.next=c,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=c:a.next=c,h.lastBaseUpdate=l))}if(s!==null){var p=i.baseState;o=0,h=c=l=null,a=s;do{var m=a.lane,w=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:w,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,_=a;switch(m=e,w=n,_.tag){case 1:if(T=_.payload,typeof T=="function"){p=T.call(w,p,m);break e}p=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=_.payload,m=typeof T=="function"?T.call(w,p,m):T,m==null)break e;p=Dt({},p,m);break e;case 2:go=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=i.effects,m===null?i.effects=[a]:m.push(a))}else w={eventTime:w,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(c=h=w,l=p):h=h.next=w,o|=m;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;m=a,a=m.next,m.next=null,i.lastBaseUpdate=m,i.shared.pending=null}}while(!0);if(h===null&&(l=p),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=h,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);cl|=o,t.lanes=o,t.memoizedState=p}}function Lb(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],i=r.callback;if(i!==null){if(r.callback=null,r=n,typeof i!="function")throw Error(ce(191,i));i.call(r)}}}var Ah={},Wi=oa(Ah),Yd=oa(Ah),Qd=oa(Ah);function Ha(t){if(t===Ah)throw Error(ce(174));return t}function aw(t,e){switch(xt(Qd,e),xt(Yd,t),xt(Wi,Ah),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fv(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fv(e,t)}Ct(Wi),xt(Wi,e)}function Wc(){Ct(Wi),Ct(Yd),Ct(Qd)}function TI(t){Ha(Qd.current);var e=Ha(Wi.current),n=Fv(e,t.type);e!==n&&(xt(Yd,t),xt(Wi,n))}function lw(t){Yd.current===t&&(Ct(Wi),Ct(Yd))}var At=oa(0);function Xp(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Iy=[];function cw(){for(var t=0;t<Iy.length;t++)Iy[t]._workInProgressVersionPrimary=null;Iy.length=0}var up=zs.ReactCurrentDispatcher,ky=zs.ReactCurrentBatchConfig,ll=0,Ot=null,Zt=null,an=null,Jp=!1,gd=!1,Xd=0,GL=0;function Sn(){throw Error(ce(321))}function uw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!_i(t[n],e[n]))return!1;return!0}function dw(t,e,n,r,i,s){if(ll=s,Ot=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,up.current=t===null||t.memoizedState===null?XL:JL,t=n(r,i),gd){s=0;do{if(gd=!1,Xd=0,25<=s)throw Error(ce(301));s+=1,an=Zt=null,e.updateQueue=null,up.current=ZL,t=n(r,i)}while(gd)}if(up.current=Zp,e=Zt!==null&&Zt.next!==null,ll=0,an=Zt=Ot=null,Jp=!1,e)throw Error(ce(300));return t}function hw(){var t=Xd!==0;return Xd=0,t}function Di(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Ot.memoizedState=an=t:an=an.next=t,an}function Ur(){if(Zt===null){var t=Ot.alternate;t=t!==null?t.memoizedState:null}else t=Zt.next;var e=an===null?Ot.memoizedState:an.next;if(e!==null)an=e,Zt=t;else{if(t===null)throw Error(ce(310));Zt=t,t={memoizedState:Zt.memoizedState,baseState:Zt.baseState,baseQueue:Zt.baseQueue,queue:Zt.queue,next:null},an===null?Ot.memoizedState=an=t:an=an.next=t}return an}function Jd(t,e){return typeof e=="function"?e(t):e}function Ry(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=Zt,i=r.baseQueue,s=n.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}r.baseQueue=i=s,n.pending=null}if(i!==null){s=i.next,r=r.baseState;var a=o=null,l=null,c=s;do{var h=c.lane;if((ll&h)===h)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var p={lane:h,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=p,o=r):l=l.next=p,Ot.lanes|=h,cl|=h}c=c.next}while(c!==null&&c!==s);l===null?o=r:l.next=a,_i(r,e.memoizedState)||(Xn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){i=t;do s=i.lane,Ot.lanes|=s,cl|=s,i=i.next;while(i!==t)}else i===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Ay(t){var e=Ur(),n=e.queue;if(n===null)throw Error(ce(311));n.lastRenderedReducer=t;var r=n.dispatch,i=n.pending,s=e.memoizedState;if(i!==null){n.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);_i(s,e.memoizedState)||(Xn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),n.lastRenderedState=s}return[s,r]}function PI(){}function II(t,e){var n=Ot,r=Ur(),i=e(),s=!_i(r.memoizedState,i);if(s&&(r.memoizedState=i,Xn=!0),r=r.queue,fw(AI.bind(null,n,r,t),[t]),r.getSnapshot!==e||s||an!==null&&an.memoizedState.tag&1){if(n.flags|=2048,Zd(9,RI.bind(null,n,r,i,e),void 0,null),cn===null)throw Error(ce(349));ll&30||kI(n,e,i)}return i}function kI(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function RI(t,e,n,r){e.value=n,e.getSnapshot=r,NI(e)&&OI(t)}function AI(t,e,n){return n(function(){NI(e)&&OI(t)})}function NI(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!_i(t,n)}catch{return!0}}function OI(t){var e=Os(t,1);e!==null&&yi(e,t,1,-1)}function Fb(t){var e=Di();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Jd,lastRenderedState:t},e.queue=t,t=t.dispatch=QL.bind(null,Ot,t),[e.memoizedState,t]}function Zd(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ot.updateQueue,e===null?(e={lastEffect:null,stores:null},Ot.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function DI(){return Ur().memoizedState}function dp(t,e,n,r){var i=Di();Ot.flags|=t,i.memoizedState=Zd(1|e,n,void 0,r===void 0?null:r)}function tg(t,e,n,r){var i=Ur();r=r===void 0?null:r;var s=void 0;if(Zt!==null){var o=Zt.memoizedState;if(s=o.destroy,r!==null&&uw(r,o.deps)){i.memoizedState=Zd(e,n,s,r);return}}Ot.flags|=t,i.memoizedState=Zd(1|e,n,s,r)}function Vb(t,e){return dp(8390656,8,t,e)}function fw(t,e){return tg(2048,8,t,e)}function MI(t,e){return tg(4,2,t,e)}function jI(t,e){return tg(4,4,t,e)}function LI(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function FI(t,e,n){return n=n!=null?n.concat([t]):null,tg(4,4,LI.bind(null,e,t),n)}function pw(){}function VI(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function UI(t,e){var n=Ur();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&uw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function BI(t,e,n){return ll&21?(_i(n,e)||(n=KP(),Ot.lanes|=n,cl|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Xn=!0),t.memoizedState=n)}function qL(t,e){var n=ut;ut=n!==0&&4>n?n:4,t(!0);var r=ky.transition;ky.transition={};try{t(!1),e()}finally{ut=n,ky.transition=r}}function $I(){return Ur().memoizedState}function YL(t,e,n){var r=Vo(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},zI(t))WI(e,n);else if(n=EI(t,e,n,r),n!==null){var i=Wn();yi(n,t,r,i),HI(n,e,r)}}function QL(t,e,n){var r=Vo(t),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(zI(t))WI(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,n);if(i.hasEagerState=!0,i.eagerState=a,_i(a,o)){var l=e.interleaved;l===null?(i.next=i,sw(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}n=EI(t,e,i,r),n!==null&&(i=Wn(),yi(n,t,r,i),HI(n,e,r))}}function zI(t){var e=t.alternate;return t===Ot||e!==null&&e===Ot}function WI(t,e){gd=Jp=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function HI(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,H0(t,n)}}var Zp={readContext:Vr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},XL={readContext:Vr,useCallback:function(t,e){return Di().memoizedState=[t,e===void 0?null:e],t},useContext:Vr,useEffect:Vb,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,dp(4194308,4,LI.bind(null,e,t),n)},useLayoutEffect:function(t,e){return dp(4194308,4,t,e)},useInsertionEffect:function(t,e){return dp(4,2,t,e)},useMemo:function(t,e){var n=Di();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Di();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=YL.bind(null,Ot,t),[r.memoizedState,t]},useRef:function(t){var e=Di();return t={current:t},e.memoizedState=t},useState:Fb,useDebugValue:pw,useDeferredValue:function(t){return Di().memoizedState=t},useTransition:function(){var t=Fb(!1),e=t[0];return t=qL.bind(null,t[1]),Di().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ot,i=Di();if(Pt){if(n===void 0)throw Error(ce(407));n=n()}else{if(n=e(),cn===null)throw Error(ce(349));ll&30||kI(r,e,n)}i.memoizedState=n;var s={value:n,getSnapshot:e};return i.queue=s,Vb(AI.bind(null,r,s,t),[t]),r.flags|=2048,Zd(9,RI.bind(null,r,s,n,e),void 0,null),n},useId:function(){var t=Di(),e=cn.identifierPrefix;if(Pt){var n=xs,r=ws;n=(r&~(1<<32-gi(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Xd++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=GL++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JL={readContext:Vr,useCallback:VI,useContext:Vr,useEffect:fw,useImperativeHandle:FI,useInsertionEffect:MI,useLayoutEffect:jI,useMemo:UI,useReducer:Ry,useRef:DI,useState:function(){return Ry(Jd)},useDebugValue:pw,useDeferredValue:function(t){var e=Ur();return BI(e,Zt.memoizedState,t)},useTransition:function(){var t=Ry(Jd)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:PI,useSyncExternalStore:II,useId:$I,unstable_isNewReconciler:!1},ZL={readContext:Vr,useCallback:VI,useContext:Vr,useEffect:fw,useImperativeHandle:FI,useInsertionEffect:MI,useLayoutEffect:jI,useMemo:UI,useReducer:Ay,useRef:DI,useState:function(){return Ay(Jd)},useDebugValue:pw,useDeferredValue:function(t){var e=Ur();return Zt===null?e.memoizedState=t:BI(e,Zt.memoizedState,t)},useTransition:function(){var t=Ay(Jd)[0],e=Ur().memoizedState;return[t,e]},useMutableSource:PI,useSyncExternalStore:II,useId:$I,unstable_isNewReconciler:!1};function si(t,e){if(t&&t.defaultProps){e=Dt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function s_(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:Dt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var ng={isMounted:function(t){return(t=t._reactInternals)?xl(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=Vo(t),s=Ps(r,i);s.payload=e,n!=null&&(s.callback=n),e=Lo(t,s,i),e!==null&&(yi(e,t,i,r),cp(e,t,i))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Wn(),i=Vo(t),s=Ps(r,i);s.tag=1,s.payload=e,n!=null&&(s.callback=n),e=Lo(t,s,i),e!==null&&(yi(e,t,i,r),cp(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Wn(),r=Vo(t),i=Ps(n,r);i.tag=2,e!=null&&(i.callback=e),e=Lo(t,i,r),e!==null&&(yi(e,t,r,n),cp(e,t,r))}};function Ub(t,e,n,r,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,s,o):e.prototype&&e.prototype.isPureReactComponent?!Hd(n,r)||!Hd(i,s):!0}function KI(t,e,n){var r=!1,i=Go,s=e.contextType;return typeof s=="object"&&s!==null?s=Vr(s):(i=er(e)?ol:kn.current,r=e.contextTypes,s=(r=r!=null)?Bc(t,i):Go),e=new e(n,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=ng,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Bb(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&ng.enqueueReplaceState(e,e.state,null)}function o_(t,e,n,r){var i=t.stateNode;i.props=n,i.state=t.memoizedState,i.refs={},ow(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Vr(s):(s=er(e)?ol:kn.current,i.context=Bc(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(s_(t,e,s,n),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&ng.enqueueReplaceState(i,i.state,null),Qp(t,n,i,r),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Hc(t,e){try{var n="",r=e;do n+=Pj(r),r=r.return;while(r);var i=n}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Ny(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function a_(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eF=typeof WeakMap=="function"?WeakMap:Map;function GI(t,e,n){n=Ps(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){tm||(tm=!0,y_=r),a_(t,e)},n}function qI(t,e,n){n=Ps(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var i=e.value;n.payload=function(){return r(i)},n.callback=function(){a_(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(n.callback=function(){a_(t,e),typeof r!="function"&&(Fo===null?Fo=new Set([this]):Fo.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function $b(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eF;var i=new Set;r.set(e,i)}else i=r.get(e),i===void 0&&(i=new Set,r.set(e,i));i.has(n)||(i.add(n),t=pF.bind(null,t,e,n),e.then(t,t))}function zb(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Wb(t,e,n,r,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=Ps(-1,1),e.tag=2,Lo(n,e,1))),n.lanes|=1),t)}var tF=zs.ReactCurrentOwner,Xn=!1;function Vn(t,e,n,r){e.child=t===null?SI(e,null,n,r):zc(e,t.child,n,r)}function Hb(t,e,n,r,i){n=n.render;var s=e.ref;return wc(e,i),r=dw(t,e,n,r,s,i),n=hw(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ds(t,e,i)):(Pt&&n&&Z0(e),e.flags|=1,Vn(t,e,r,i),e.child)}function Kb(t,e,n,r,i){if(t===null){var s=n.type;return typeof s=="function"&&!bw(s)&&s.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=s,YI(t,e,s,r,i)):(t=mp(n.type,null,r,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(n=n.compare,n=n!==null?n:Hd,n(o,r)&&t.ref===e.ref)return Ds(t,e,i)}return e.flags|=1,t=Uo(s,r),t.ref=e.ref,t.return=e,e.child=t}function YI(t,e,n,r,i){if(t!==null){var s=t.memoizedProps;if(Hd(s,r)&&t.ref===e.ref)if(Xn=!1,e.pendingProps=r=s,(t.lanes&i)!==0)t.flags&131072&&(Xn=!0);else return e.lanes=t.lanes,Ds(t,e,i)}return l_(t,e,n,r,i)}function QI(t,e,n){var r=e.pendingProps,i=r.children,s=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(lc,ur),ur|=n;else{if(!(n&1073741824))return t=s!==null?s.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(lc,ur),ur|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=s!==null?s.baseLanes:n,xt(lc,ur),ur|=r}else s!==null?(r=s.baseLanes|n,e.memoizedState=null):r=n,xt(lc,ur),ur|=r;return Vn(t,e,i,n),e.child}function XI(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function l_(t,e,n,r,i){var s=er(n)?ol:kn.current;return s=Bc(e,s),wc(e,i),n=dw(t,e,n,r,s,i),r=hw(),t!==null&&!Xn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ds(t,e,i)):(Pt&&r&&Z0(e),e.flags|=1,Vn(t,e,n,i),e.child)}function Gb(t,e,n,r,i){if(er(n)){var s=!0;Hp(e)}else s=!1;if(wc(e,i),e.stateNode===null)hp(t,e),KI(e,n,r),o_(e,n,r,i),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Vr(c):(c=er(n)?ol:kn.current,c=Bc(e,c));var h=n.getDerivedStateFromProps,p=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";p||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Bb(e,o,r,c),go=!1;var m=e.memoizedState;o.state=m,Qp(e,r,o,i),l=e.memoizedState,a!==r||m!==l||Zn.current||go?(typeof h=="function"&&(s_(e,n,h,r),l=e.memoizedState),(a=go||Ub(e,n,a,r,m,l,c))?(p||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,CI(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:si(e.type,a),o.props=c,p=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vr(l):(l=er(n)?ol:kn.current,l=Bc(e,l));var w=n.getDerivedStateFromProps;(h=typeof w=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==p||m!==l)&&Bb(e,o,r,l),go=!1,m=e.memoizedState,o.state=m,Qp(e,r,o,i);var T=e.memoizedState;a!==p||m!==T||Zn.current||go?(typeof w=="function"&&(s_(e,n,w,r),T=e.memoizedState),(c=go||Ub(e,n,c,r,m,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return c_(t,e,n,r,s,i)}function c_(t,e,n,r,i,s){XI(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return i&&Nb(e,n,!1),Ds(t,e,s);r=e.stateNode,tF.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=zc(e,t.child,null,s),e.child=zc(e,null,a,s)):Vn(t,e,a,s),e.memoizedState=r.state,i&&Nb(e,n,!0),e.child}function JI(t){var e=t.stateNode;e.pendingContext?Ab(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Ab(t,e.context,!1),aw(t,e.containerInfo)}function qb(t,e,n,r,i){return $c(),tw(i),e.flags|=256,Vn(t,e,n,r),e.child}var u_={dehydrated:null,treeContext:null,retryLane:0};function d_(t){return{baseLanes:t,cachePool:null,transitions:null}}function ZI(t,e,n){var r=e.pendingProps,i=At.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(At,i&1),t===null)return r_(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,s?(r=e.mode,s=e.child,o={mode:"hidden",children:o},!(r&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=sg(o,r,0,null),t=el(t,r,n,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=d_(n),e.memoizedState=u_,t):mw(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return nF(t,e,o,r,a,i,n);if(s){s=r.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==i?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Uo(i,l),r.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Uo(a,s):(s=el(s,o,n,null),s.flags|=2),s.return=e,r.return=e,r.sibling=s,e.child=r,r=s,s=e.child,o=t.child.memoizedState,o=o===null?d_(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~n,e.memoizedState=u_,r}return s=t.child,t=s.sibling,r=Uo(s,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function mw(t,e){return e=sg({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Of(t,e,n,r){return r!==null&&tw(r),zc(e,t.child,null,n),t=mw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nF(t,e,n,r,i,s,o){if(n)return e.flags&256?(e.flags&=-257,r=Ny(Error(ce(422))),Of(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=r.fallback,i=e.mode,r=sg({mode:"visible",children:r.children},i,0,null),s=el(s,i,o,null),s.flags|=2,r.return=e,s.return=e,r.sibling=s,e.child=r,e.mode&1&&zc(e,t.child,null,o),e.child.memoizedState=d_(o),e.memoizedState=u_,s);if(!(e.mode&1))return Of(t,e,o,null);if(i.data==="$!"){if(r=i.nextSibling&&i.nextSibling.dataset,r)var a=r.dgst;return r=a,s=Error(ce(419)),r=Ny(s,r,void 0),Of(t,e,o,r)}if(a=(o&t.childLanes)!==0,Xn||a){if(r=cn,r!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(r.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Os(t,i),yi(r,t,i,-1))}return xw(),r=Ny(Error(ce(421))),Of(t,e,o,r)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=mF.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,pr=jo(i.nextSibling),mr=e,Pt=!0,ci=null,t!==null&&(Ar[Nr++]=ws,Ar[Nr++]=xs,Ar[Nr++]=al,ws=t.id,xs=t.overflow,al=e),e=mw(e,r.children),e.flags|=4096,e)}function Yb(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),i_(t.return,e,n)}function Oy(t,e,n,r,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function ek(t,e,n){var r=e.pendingProps,i=r.revealOrder,s=r.tail;if(Vn(t,e,r.children,n),r=At.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&Yb(t,n,e);else if(t.tag===19)Yb(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(xt(At,r),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(n=e.child,i=null;n!==null;)t=n.alternate,t!==null&&Xp(t)===null&&(i=n),n=n.sibling;n=i,n===null?(i=e.child,e.child=null):(i=n.sibling,n.sibling=null),Oy(e,!1,i,n,s);break;case"backwards":for(n=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Xp(t)===null){e.child=i;break}t=i.sibling,i.sibling=n,n=i,i=t}Oy(e,!0,n,null,s);break;case"together":Oy(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function hp(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ds(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),cl|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ce(153));if(e.child!==null){for(t=e.child,n=Uo(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Uo(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rF(t,e,n){switch(e.tag){case 3:JI(e),$c();break;case 5:TI(e);break;case 1:er(e.type)&&Hp(e);break;case 4:aw(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,i=e.memoizedProps.value;xt(qp,r._currentValue),r._currentValue=i;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(xt(At,At.current&1),e.flags|=128,null):n&e.child.childLanes?ZI(t,e,n):(xt(At,At.current&1),t=Ds(t,e,n),t!==null?t.sibling:null);xt(At,At.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return ek(t,e,n);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(At,At.current),r)break;return null;case 22:case 23:return e.lanes=0,QI(t,e,n)}return Ds(t,e,n)}var tk,h_,nk,rk;tk=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};h_=function(){};nk=function(t,e,n,r){var i=t.memoizedProps;if(i!==r){t=e.stateNode,Ha(Wi.current);var s=null;switch(n){case"input":i=Dv(t,i),r=Dv(t,r),s=[];break;case"select":i=Dt({},i,{value:void 0}),r=Dt({},r,{value:void 0}),s=[];break;case"textarea":i=Lv(t,i),r=Lv(t,r),s=[];break;default:typeof i.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=zp)}Vv(n,r);var o;n=null;for(c in i)if(!r.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var a=i[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(Fd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in r){var l=r[c];if(a=i!=null?i[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(s||(s=[]),s.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(Fd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&Et("scroll",t),s||a===l||(s=[])):(s=s||[]).push(c,l))}n&&(s=s||[]).push("style",n);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};rk=function(t,e,n,r){n!==r&&(e.flags|=4)};function Wu(t,e){if(!Pt)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function En(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags&14680064,r|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function iF(t,e,n){var r=e.pendingProps;switch(ew(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return En(e),null;case 1:return er(e.type)&&Wp(),En(e),null;case 3:return r=e.stateNode,Wc(),Ct(Zn),Ct(kn),cw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(Af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ci!==null&&(w_(ci),ci=null))),h_(t,e),En(e),null;case 5:lw(e);var i=Ha(Qd.current);if(n=e.type,t!==null&&e.stateNode!=null)nk(t,e,n,r,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(ce(166));return En(e),null}if(t=Ha(Wi.current),Af(e)){r=e.stateNode,n=e.type;var s=e.memoizedProps;switch(r[Ui]=e,r[qd]=s,t=(e.mode&1)!==0,n){case"dialog":Et("cancel",r),Et("close",r);break;case"iframe":case"object":case"embed":Et("load",r);break;case"video":case"audio":for(i=0;i<id.length;i++)Et(id[i],r);break;case"source":Et("error",r);break;case"img":case"image":case"link":Et("error",r),Et("load",r);break;case"details":Et("toggle",r);break;case"input":ib(r,s),Et("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!s.multiple},Et("invalid",r);break;case"textarea":ob(r,s),Et("invalid",r)}Vv(n,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?r.textContent!==a&&(s.suppressHydrationWarning!==!0&&Rf(r.textContent,a,t),i=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&Rf(r.textContent,a,t),i=["children",""+a]):Fd.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Et("scroll",r)}switch(n){case"input":bf(r),sb(r,s,!0);break;case"textarea":bf(r),ab(r);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(r.onclick=zp)}r=i,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=AP(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Ui]=e,t[qd]=r,tk(t,e,!1,!1),e.stateNode=t;e:{switch(o=Uv(n,r),n){case"dialog":Et("cancel",t),Et("close",t),i=r;break;case"iframe":case"object":case"embed":Et("load",t),i=r;break;case"video":case"audio":for(i=0;i<id.length;i++)Et(id[i],t);i=r;break;case"source":Et("error",t),i=r;break;case"img":case"image":case"link":Et("error",t),Et("load",t),i=r;break;case"details":Et("toggle",t),i=r;break;case"input":ib(t,r),i=Dv(t,r),Et("invalid",t);break;case"option":i=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},i=Dt({},r,{value:void 0}),Et("invalid",t);break;case"textarea":ob(t,r),i=Lv(t,r),Et("invalid",t);break;default:i=r}Vv(n,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?DP(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&NP(t,l)):s==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Vd(t,l):typeof l=="number"&&Vd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Fd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&Et("scroll",t):l!=null&&V0(t,s,l,o))}switch(n){case"input":bf(t),sb(t,r,!1);break;case"textarea":bf(t),ab(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ko(r.value));break;case"select":t.multiple=!!r.multiple,s=r.value,s!=null?gc(t,!!r.multiple,s,!1):r.defaultValue!=null&&gc(t,!!r.multiple,r.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=zp)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return En(e),null;case 6:if(t&&e.stateNode!=null)rk(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(ce(166));if(n=Ha(Qd.current),Ha(Wi.current),Af(e)){if(r=e.stateNode,n=e.memoizedProps,r[Ui]=e,(s=r.nodeValue!==n)&&(t=mr,t!==null))switch(t.tag){case 3:Rf(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Rf(r.nodeValue,n,(t.mode&1)!==0)}s&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Ui]=e,e.stateNode=r}return En(e),null;case 13:if(Ct(At),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Pt&&pr!==null&&e.mode&1&&!(e.flags&128))xI(),$c(),e.flags|=98560,s=!1;else if(s=Af(e),r!==null&&r.dehydrated!==null){if(t===null){if(!s)throw Error(ce(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ce(317));s[Ui]=e}else $c(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;En(e),s=!1}else ci!==null&&(w_(ci),ci=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||At.current&1?nn===0&&(nn=3):xw())),e.updateQueue!==null&&(e.flags|=4),En(e),null);case 4:return Wc(),h_(t,e),t===null&&Kd(e.stateNode.containerInfo),En(e),null;case 10:return iw(e.type._context),En(e),null;case 17:return er(e.type)&&Wp(),En(e),null;case 19:if(Ct(At),s=e.memoizedState,s===null)return En(e),null;if(r=(e.flags&128)!==0,o=s.rendering,o===null)if(r)Wu(s,!1);else{if(nn!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Xp(t),o!==null){for(e.flags|=128,Wu(s,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)s=n,t=r,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return xt(At,At.current&1|2),e.child}t=t.sibling}s.tail!==null&&Kt()>Kc&&(e.flags|=128,r=!0,Wu(s,!1),e.lanes=4194304)}else{if(!r)if(t=Xp(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),Wu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!Pt)return En(e),null}else 2*Kt()-s.renderingStartTime>Kc&&n!==1073741824&&(e.flags|=128,r=!0,Wu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(n=s.last,n!==null?n.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Kt(),e.sibling=null,n=At.current,xt(At,r?n&1|2:n&1),e):(En(e),null);case 22:case 23:return ww(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?ur&1073741824&&(En(e),e.subtreeFlags&6&&(e.flags|=8192)):En(e),null;case 24:return null;case 25:return null}throw Error(ce(156,e.tag))}function sF(t,e){switch(ew(e),e.tag){case 1:return er(e.type)&&Wp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wc(),Ct(Zn),Ct(kn),cw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return lw(e),null;case 13:if(Ct(At),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ce(340));$c()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ct(At),null;case 4:return Wc(),null;case 10:return iw(e.type._context),null;case 22:case 23:return ww(),null;case 24:return null;default:return null}}var Df=!1,Pn=!1,oF=typeof WeakSet=="function"?WeakSet:Set,Se=null;function ac(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Ut(t,e,r)}else n.current=null}function f_(t,e,n){try{n()}catch(r){Ut(t,e,r)}}var Qb=!1;function aF(t,e){if(Qv=Up,t=lI(),J0(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var i=r.anchorOffset,s=r.focusNode;r=r.focusOffset;try{n.nodeType,s.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,h=0,p=t,m=null;t:for(;;){for(var w;p!==n||i!==0&&p.nodeType!==3||(a=o+i),p!==s||r!==0&&p.nodeType!==3||(l=o+r),p.nodeType===3&&(o+=p.nodeValue.length),(w=p.firstChild)!==null;)m=p,p=w;for(;;){if(p===t)break t;if(m===n&&++c===i&&(a=o),m===s&&++h===r&&(l=o),(w=p.nextSibling)!==null)break;p=m,m=p.parentNode}p=w}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Xv={focusedElem:t,selectionRange:n},Up=!1,Se=e;Se!==null;)if(e=Se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,Se=t;else for(;Se!==null;){e=Se;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var _=T.memoizedProps,I=T.memoizedState,b=e.stateNode,E=b.getSnapshotBeforeUpdate(e.elementType===e.type?_:si(e.type,_),I);b.__reactInternalSnapshotBeforeUpdate=E}break;case 3:var k=e.stateNode.containerInfo;k.nodeType===1?k.textContent="":k.nodeType===9&&k.documentElement&&k.removeChild(k.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ce(163))}}catch(M){Ut(e,e.return,M)}if(t=e.sibling,t!==null){t.return=e.return,Se=t;break}Se=e.return}return T=Qb,Qb=!1,T}function yd(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var i=r=r.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&f_(e,n,s)}i=i.next}while(i!==r)}}function rg(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function p_(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function ik(t){var e=t.alternate;e!==null&&(t.alternate=null,ik(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ui],delete e[qd],delete e[e_],delete e[zL],delete e[WL])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function sk(t){return t.tag===5||t.tag===3||t.tag===4}function Xb(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||sk(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function m_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=zp));else if(r!==4&&(t=t.child,t!==null))for(m_(t,e,n),t=t.sibling;t!==null;)m_(t,e,n),t=t.sibling}function g_(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(g_(t,e,n),t=t.sibling;t!==null;)g_(t,e,n),t=t.sibling}var un=null,li=!1;function oo(t,e,n){for(n=n.child;n!==null;)ok(t,e,n),n=n.sibling}function ok(t,e,n){if(zi&&typeof zi.onCommitFiberUnmount=="function")try{zi.onCommitFiberUnmount(Ym,n)}catch{}switch(n.tag){case 5:Pn||ac(n,e);case 6:var r=un,i=li;un=null,oo(t,e,n),un=r,li=i,un!==null&&(li?(t=un,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):un.removeChild(n.stateNode));break;case 18:un!==null&&(li?(t=un,n=n.stateNode,t.nodeType===8?Ty(t.parentNode,n):t.nodeType===1&&Ty(t,n),zd(t)):Ty(un,n.stateNode));break;case 4:r=un,i=li,un=n.stateNode.containerInfo,li=!0,oo(t,e,n),un=r,li=i;break;case 0:case 11:case 14:case 15:if(!Pn&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){i=r=r.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&f_(n,e,o),i=i.next}while(i!==r)}oo(t,e,n);break;case 1:if(!Pn&&(ac(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Ut(n,e,a)}oo(t,e,n);break;case 21:oo(t,e,n);break;case 22:n.mode&1?(Pn=(r=Pn)||n.memoizedState!==null,oo(t,e,n),Pn=r):oo(t,e,n);break;default:oo(t,e,n)}}function Jb(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oF),e.forEach(function(r){var i=gF.bind(null,t,r);n.has(r)||(n.add(r),r.then(i,i))})}}function ni(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var i=n[r];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:un=a.stateNode,li=!1;break e;case 3:un=a.stateNode.containerInfo,li=!0;break e;case 4:un=a.stateNode.containerInfo,li=!0;break e}a=a.return}if(un===null)throw Error(ce(160));ok(s,o,i),un=null,li=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){Ut(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)ak(e,t),e=e.sibling}function ak(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ni(e,t),Oi(t),r&4){try{yd(3,t,t.return),rg(3,t)}catch(_){Ut(t,t.return,_)}try{yd(5,t,t.return)}catch(_){Ut(t,t.return,_)}}break;case 1:ni(e,t),Oi(t),r&512&&n!==null&&ac(n,n.return);break;case 5:if(ni(e,t),Oi(t),r&512&&n!==null&&ac(n,n.return),t.flags&32){var i=t.stateNode;try{Vd(i,"")}catch(_){Ut(t,t.return,_)}}if(r&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=n!==null?n.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&kP(i,s),Uv(a,o);var c=Uv(a,s);for(o=0;o<l.length;o+=2){var h=l[o],p=l[o+1];h==="style"?DP(i,p):h==="dangerouslySetInnerHTML"?NP(i,p):h==="children"?Vd(i,p):V0(i,h,p,c)}switch(a){case"input":Mv(i,s);break;case"textarea":RP(i,s);break;case"select":var m=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var w=s.value;w!=null?gc(i,!!s.multiple,w,!1):m!==!!s.multiple&&(s.defaultValue!=null?gc(i,!!s.multiple,s.defaultValue,!0):gc(i,!!s.multiple,s.multiple?[]:"",!1))}i[qd]=s}catch(_){Ut(t,t.return,_)}}break;case 6:if(ni(e,t),Oi(t),r&4){if(t.stateNode===null)throw Error(ce(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(_){Ut(t,t.return,_)}}break;case 3:if(ni(e,t),Oi(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{zd(e.containerInfo)}catch(_){Ut(t,t.return,_)}break;case 4:ni(e,t),Oi(t);break;case 13:ni(e,t),Oi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(vw=Kt())),r&4&&Jb(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(Pn=(c=Pn)||h,ni(e,t),Pn=c):ni(e,t),Oi(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!h&&t.mode&1)for(Se=t,h=t.child;h!==null;){for(p=Se=h;Se!==null;){switch(m=Se,w=m.child,m.tag){case 0:case 11:case 14:case 15:yd(4,m,m.return);break;case 1:ac(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(_){Ut(r,n,_)}}break;case 5:ac(m,m.return);break;case 22:if(m.memoizedState!==null){eS(p);continue}}w!==null?(w.return=m,Se=w):eS(p)}h=h.sibling}e:for(h=null,p=t;;){if(p.tag===5){if(h===null){h=p;try{i=p.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=p.stateNode,l=p.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=OP("display",o))}catch(_){Ut(t,t.return,_)}}}else if(p.tag===6){if(h===null)try{p.stateNode.nodeValue=c?"":p.memoizedProps}catch(_){Ut(t,t.return,_)}}else if((p.tag!==22&&p.tag!==23||p.memoizedState===null||p===t)&&p.child!==null){p.child.return=p,p=p.child;continue}if(p===t)break e;for(;p.sibling===null;){if(p.return===null||p.return===t)break e;h===p&&(h=null),p=p.return}h===p&&(h=null),p.sibling.return=p.return,p=p.sibling}}break;case 19:ni(e,t),Oi(t),r&4&&Jb(t);break;case 21:break;default:ni(e,t),Oi(t)}}function Oi(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(sk(n)){var r=n;break e}n=n.return}throw Error(ce(160))}switch(r.tag){case 5:var i=r.stateNode;r.flags&32&&(Vd(i,""),r.flags&=-33);var s=Xb(t);g_(t,s,i);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Xb(t);m_(t,a,o);break;default:throw Error(ce(161))}}catch(l){Ut(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lF(t,e,n){Se=t,lk(t)}function lk(t,e,n){for(var r=(t.mode&1)!==0;Se!==null;){var i=Se,s=i.child;if(i.tag===22&&r){var o=i.memoizedState!==null||Df;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||Pn;a=Df;var c=Pn;if(Df=o,(Pn=l)&&!c)for(Se=i;Se!==null;)o=Se,l=o.child,o.tag===22&&o.memoizedState!==null?tS(i):l!==null?(l.return=o,Se=l):tS(i);for(;s!==null;)Se=s,lk(s),s=s.sibling;Se=i,Df=a,Pn=c}Zb(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,Se=s):Zb(t)}}function Zb(t){for(;Se!==null;){var e=Se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Pn||rg(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!Pn)if(n===null)r.componentDidMount();else{var i=e.elementType===e.type?n.memoizedProps:si(e.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Lb(e,s,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Lb(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var h=c.memoizedState;if(h!==null){var p=h.dehydrated;p!==null&&zd(p)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ce(163))}Pn||e.flags&512&&p_(e)}catch(m){Ut(e,e.return,m)}}if(e===t){Se=null;break}if(n=e.sibling,n!==null){n.return=e.return,Se=n;break}Se=e.return}}function eS(t){for(;Se!==null;){var e=Se;if(e===t){Se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,Se=n;break}Se=e.return}}function tS(t){for(;Se!==null;){var e=Se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{rg(4,e)}catch(l){Ut(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var i=e.return;try{r.componentDidMount()}catch(l){Ut(e,i,l)}}var s=e.return;try{p_(e)}catch(l){Ut(e,s,l)}break;case 5:var o=e.return;try{p_(e)}catch(l){Ut(e,o,l)}}}catch(l){Ut(e,e.return,l)}if(e===t){Se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,Se=a;break}Se=e.return}}var cF=Math.ceil,em=zs.ReactCurrentDispatcher,gw=zs.ReactCurrentOwner,Lr=zs.ReactCurrentBatchConfig,et=0,cn=null,qt=null,yn=0,ur=0,lc=oa(0),nn=0,eh=null,cl=0,ig=0,yw=0,vd=null,Qn=null,vw=0,Kc=1/0,gs=null,tm=!1,y_=null,Fo=null,Mf=!1,Ro=null,nm=0,_d=0,v_=null,fp=-1,pp=0;function Wn(){return et&6?Kt():fp!==-1?fp:fp=Kt()}function Vo(t){return t.mode&1?et&2&&yn!==0?yn&-yn:KL.transition!==null?(pp===0&&(pp=KP()),pp):(t=ut,t!==0||(t=window.event,t=t===void 0?16:ZP(t.type)),t):1}function yi(t,e,n,r){if(50<_d)throw _d=0,v_=null,Error(ce(185));Ih(t,n,r),(!(et&2)||t!==cn)&&(t===cn&&(!(et&2)&&(ig|=n),nn===4&&vo(t,yn)),tr(t,r),n===1&&et===0&&!(e.mode&1)&&(Kc=Kt()+500,eg&&aa()))}function tr(t,e){var n=t.callbackNode;Kj(t,e);var r=Vp(t,t===cn?yn:0);if(r===0)n!==null&&ub(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&ub(n),e===1)t.tag===0?HL(nS.bind(null,t)):vI(nS.bind(null,t)),BL(function(){!(et&6)&&aa()}),n=null;else{switch(GP(r)){case 1:n=W0;break;case 4:n=WP;break;case 16:n=Fp;break;case 536870912:n=HP;break;default:n=Fp}n=gk(n,ck.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function ck(t,e){if(fp=-1,pp=0,et&6)throw Error(ce(327));var n=t.callbackNode;if(xc()&&t.callbackNode!==n)return null;var r=Vp(t,t===cn?yn:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=rm(t,r);else{e=r;var i=et;et|=2;var s=dk();(cn!==t||yn!==e)&&(gs=null,Kc=Kt()+500,Za(t,e));do try{hF();break}catch(a){uk(t,a)}while(!0);rw(),em.current=s,et=i,qt!==null?e=0:(cn=null,yn=0,e=nn)}if(e!==0){if(e===2&&(i=Hv(t),i!==0&&(r=i,e=__(t,i))),e===1)throw n=eh,Za(t,0),vo(t,r),tr(t,Kt()),n;if(e===6)vo(t,r);else{if(i=t.current.alternate,!(r&30)&&!uF(i)&&(e=rm(t,r),e===2&&(s=Hv(t),s!==0&&(r=s,e=__(t,s))),e===1))throw n=eh,Za(t,0),vo(t,r),tr(t,Kt()),n;switch(t.finishedWork=i,t.finishedLanes=r,e){case 0:case 1:throw Error(ce(345));case 2:ja(t,Qn,gs);break;case 3:if(vo(t,r),(r&130023424)===r&&(e=vw+500-Kt(),10<e)){if(Vp(t,0)!==0)break;if(i=t.suspendedLanes,(i&r)!==r){Wn(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=Zv(ja.bind(null,t,Qn,gs),e);break}ja(t,Qn,gs);break;case 4:if(vo(t,r),(r&4194240)===r)break;for(e=t.eventTimes,i=-1;0<r;){var o=31-gi(r);s=1<<o,o=e[o],o>i&&(i=o),r&=~s}if(r=i,r=Kt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cF(r/1960))-r,10<r){t.timeoutHandle=Zv(ja.bind(null,t,Qn,gs),r);break}ja(t,Qn,gs);break;case 5:ja(t,Qn,gs);break;default:throw Error(ce(329))}}}return tr(t,Kt()),t.callbackNode===n?ck.bind(null,t):null}function __(t,e){var n=vd;return t.current.memoizedState.isDehydrated&&(Za(t,e).flags|=256),t=rm(t,e),t!==2&&(e=Qn,Qn=n,e!==null&&w_(e)),t}function w_(t){Qn===null?Qn=t:Qn.push.apply(Qn,t)}function uF(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!_i(s(),i))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vo(t,e){for(e&=~yw,e&=~ig,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-gi(e),r=1<<n;t[n]=-1,e&=~r}}function nS(t){if(et&6)throw Error(ce(327));xc();var e=Vp(t,0);if(!(e&1))return tr(t,Kt()),null;var n=rm(t,e);if(t.tag!==0&&n===2){var r=Hv(t);r!==0&&(e=r,n=__(t,r))}if(n===1)throw n=eh,Za(t,0),vo(t,e),tr(t,Kt()),n;if(n===6)throw Error(ce(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ja(t,Qn,gs),tr(t,Kt()),null}function _w(t,e){var n=et;et|=1;try{return t(e)}finally{et=n,et===0&&(Kc=Kt()+500,eg&&aa())}}function ul(t){Ro!==null&&Ro.tag===0&&!(et&6)&&xc();var e=et;et|=1;var n=Lr.transition,r=ut;try{if(Lr.transition=null,ut=1,t)return t()}finally{ut=r,Lr.transition=n,et=e,!(et&6)&&aa()}}function ww(){ur=lc.current,Ct(lc)}function Za(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UL(n)),qt!==null)for(n=qt.return;n!==null;){var r=n;switch(ew(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&Wp();break;case 3:Wc(),Ct(Zn),Ct(kn),cw();break;case 5:lw(r);break;case 4:Wc();break;case 13:Ct(At);break;case 19:Ct(At);break;case 10:iw(r.type._context);break;case 22:case 23:ww()}n=n.return}if(cn=t,qt=t=Uo(t.current,null),yn=ur=e,nn=0,eh=null,yw=ig=cl=0,Qn=vd=null,Wa!==null){for(e=0;e<Wa.length;e++)if(n=Wa[e],r=n.interleaved,r!==null){n.interleaved=null;var i=r.next,s=n.pending;if(s!==null){var o=s.next;s.next=i,r.next=o}n.pending=r}Wa=null}return t}function uk(t,e){do{var n=qt;try{if(rw(),up.current=Zp,Jp){for(var r=Ot.memoizedState;r!==null;){var i=r.queue;i!==null&&(i.pending=null),r=r.next}Jp=!1}if(ll=0,an=Zt=Ot=null,gd=!1,Xd=0,gw.current=null,n===null||n.return===null){nn=1,eh=e,qt=null;break}e:{var s=t,o=n.return,a=n,l=e;if(e=yn,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,h=a,p=h.tag;if(!(h.mode&1)&&(p===0||p===11||p===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var w=zb(o);if(w!==null){w.flags&=-257,Wb(w,o,a,s,e),w.mode&1&&$b(s,c,e),e=w,l=c;var T=e.updateQueue;if(T===null){var _=new Set;_.add(l),e.updateQueue=_}else T.add(l);break e}else{if(!(e&1)){$b(s,c,e),xw();break e}l=Error(ce(426))}}else if(Pt&&a.mode&1){var I=zb(o);if(I!==null){!(I.flags&65536)&&(I.flags|=256),Wb(I,o,a,s,e),tw(Hc(l,a));break e}}s=l=Hc(l,a),nn!==4&&(nn=2),vd===null?vd=[s]:vd.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var b=GI(s,l,e);jb(s,b);break e;case 1:a=l;var E=s.type,k=s.stateNode;if(!(s.flags&128)&&(typeof E.getDerivedStateFromError=="function"||k!==null&&typeof k.componentDidCatch=="function"&&(Fo===null||!Fo.has(k)))){s.flags|=65536,e&=-e,s.lanes|=e;var M=qI(s,a,e);jb(s,M);break e}}s=s.return}while(s!==null)}fk(n)}catch(U){e=U,qt===n&&n!==null&&(qt=n=n.return);continue}break}while(!0)}function dk(){var t=em.current;return em.current=Zp,t===null?Zp:t}function xw(){(nn===0||nn===3||nn===2)&&(nn=4),cn===null||!(cl&268435455)&&!(ig&268435455)||vo(cn,yn)}function rm(t,e){var n=et;et|=2;var r=dk();(cn!==t||yn!==e)&&(gs=null,Za(t,e));do try{dF();break}catch(i){uk(t,i)}while(!0);if(rw(),et=n,em.current=r,qt!==null)throw Error(ce(261));return cn=null,yn=0,nn}function dF(){for(;qt!==null;)hk(qt)}function hF(){for(;qt!==null&&!Lj();)hk(qt)}function hk(t){var e=mk(t.alternate,t,ur);t.memoizedProps=t.pendingProps,e===null?fk(t):qt=e,gw.current=null}function fk(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=sF(n,e),n!==null){n.flags&=32767,qt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{nn=6,qt=null;return}}else if(n=iF(n,e,ur),n!==null){qt=n;return}if(e=e.sibling,e!==null){qt=e;return}qt=e=t}while(e!==null);nn===0&&(nn=5)}function ja(t,e,n){var r=ut,i=Lr.transition;try{Lr.transition=null,ut=1,fF(t,e,n,r)}finally{Lr.transition=i,ut=r}return null}function fF(t,e,n,r){do xc();while(Ro!==null);if(et&6)throw Error(ce(327));n=t.finishedWork;var i=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(ce(177));t.callbackNode=null,t.callbackPriority=0;var s=n.lanes|n.childLanes;if(Gj(t,s),t===cn&&(qt=cn=null,yn=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Mf||(Mf=!0,gk(Fp,function(){return xc(),null})),s=(n.flags&15990)!==0,n.subtreeFlags&15990||s){s=Lr.transition,Lr.transition=null;var o=ut;ut=1;var a=et;et|=4,gw.current=null,aF(t,n),ak(n,t),OL(Xv),Up=!!Qv,Xv=Qv=null,t.current=n,lF(n),Fj(),et=a,ut=o,Lr.transition=s}else t.current=n;if(Mf&&(Mf=!1,Ro=t,nm=i),s=t.pendingLanes,s===0&&(Fo=null),Bj(n.stateNode),tr(t,Kt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)i=e[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(tm)throw tm=!1,t=y_,y_=null,t;return nm&1&&t.tag!==0&&xc(),s=t.pendingLanes,s&1?t===v_?_d++:(_d=0,v_=t):_d=0,aa(),null}function xc(){if(Ro!==null){var t=GP(nm),e=Lr.transition,n=ut;try{if(Lr.transition=null,ut=16>t?16:t,Ro===null)var r=!1;else{if(t=Ro,Ro=null,nm=0,et&6)throw Error(ce(331));var i=et;for(et|=4,Se=t.current;Se!==null;){var s=Se,o=s.child;if(Se.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(Se=c;Se!==null;){var h=Se;switch(h.tag){case 0:case 11:case 15:yd(8,h,s)}var p=h.child;if(p!==null)p.return=h,Se=p;else for(;Se!==null;){h=Se;var m=h.sibling,w=h.return;if(ik(h),h===c){Se=null;break}if(m!==null){m.return=w,Se=m;break}Se=w}}}var T=s.alternate;if(T!==null){var _=T.child;if(_!==null){T.child=null;do{var I=_.sibling;_.sibling=null,_=I}while(_!==null)}}Se=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,Se=o;else e:for(;Se!==null;){if(s=Se,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yd(9,s,s.return)}var b=s.sibling;if(b!==null){b.return=s.return,Se=b;break e}Se=s.return}}var E=t.current;for(Se=E;Se!==null;){o=Se;var k=o.child;if(o.subtreeFlags&2064&&k!==null)k.return=o,Se=k;else e:for(o=E;Se!==null;){if(a=Se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:rg(9,a)}}catch(U){Ut(a,a.return,U)}if(a===o){Se=null;break e}var M=a.sibling;if(M!==null){M.return=a.return,Se=M;break e}Se=a.return}}if(et=i,aa(),zi&&typeof zi.onPostCommitFiberRoot=="function")try{zi.onPostCommitFiberRoot(Ym,t)}catch{}r=!0}return r}finally{ut=n,Lr.transition=e}}return!1}function rS(t,e,n){e=Hc(n,e),e=GI(t,e,1),t=Lo(t,e,1),e=Wn(),t!==null&&(Ih(t,1,e),tr(t,e))}function Ut(t,e,n){if(t.tag===3)rS(t,t,n);else for(;e!==null;){if(e.tag===3){rS(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(Fo===null||!Fo.has(r))){t=Hc(n,t),t=qI(e,t,1),e=Lo(e,t,1),t=Wn(),e!==null&&(Ih(e,1,t),tr(e,t));break}}e=e.return}}function pF(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Wn(),t.pingedLanes|=t.suspendedLanes&n,cn===t&&(yn&n)===n&&(nn===4||nn===3&&(yn&130023424)===yn&&500>Kt()-vw?Za(t,0):yw|=n),tr(t,e)}function pk(t,e){e===0&&(t.mode&1?(e=Cf,Cf<<=1,!(Cf&130023424)&&(Cf=4194304)):e=1);var n=Wn();t=Os(t,e),t!==null&&(Ih(t,e,n),tr(t,n))}function mF(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),pk(t,n)}function gF(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,i=t.memoizedState;i!==null&&(n=i.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(ce(314))}r!==null&&r.delete(e),pk(t,n)}var mk;mk=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||Zn.current)Xn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Xn=!1,rF(t,e,n);Xn=!!(t.flags&131072)}else Xn=!1,Pt&&e.flags&1048576&&_I(e,Gp,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;hp(t,e),t=e.pendingProps;var i=Bc(e,kn.current);wc(e,n),i=dw(null,e,r,t,i,n);var s=hw();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,er(r)?(s=!0,Hp(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ow(e),i.updater=ng,e.stateNode=i,i._reactInternals=e,o_(e,r,t,n),e=c_(null,e,r,!0,s,n)):(e.tag=0,Pt&&s&&Z0(e),Vn(null,e,i,n),e=e.child),e;case 16:r=e.elementType;e:{switch(hp(t,e),t=e.pendingProps,i=r._init,r=i(r._payload),e.type=r,i=e.tag=vF(r),t=si(r,t),i){case 0:e=l_(null,e,r,t,n);break e;case 1:e=Gb(null,e,r,t,n);break e;case 11:e=Hb(null,e,r,t,n);break e;case 14:e=Kb(null,e,r,si(r.type,t),n);break e}throw Error(ce(306,r,""))}return e;case 0:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),l_(t,e,r,i,n);case 1:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),Gb(t,e,r,i,n);case 3:e:{if(JI(e),t===null)throw Error(ce(387));r=e.pendingProps,s=e.memoizedState,i=s.element,CI(t,e),Qp(e,r,null,n);var o=e.memoizedState;if(r=o.element,s.isDehydrated)if(s={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Hc(Error(ce(423)),e),e=qb(t,e,r,n,i);break e}else if(r!==i){i=Hc(Error(ce(424)),e),e=qb(t,e,r,n,i);break e}else for(pr=jo(e.stateNode.containerInfo.firstChild),mr=e,Pt=!0,ci=null,n=SI(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if($c(),r===i){e=Ds(t,e,n);break e}Vn(t,e,r,n)}e=e.child}return e;case 5:return TI(e),t===null&&r_(e),r=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,Jv(r,i)?o=null:s!==null&&Jv(r,s)&&(e.flags|=32),XI(t,e),Vn(t,e,o,n),e.child;case 6:return t===null&&r_(e),null;case 13:return ZI(t,e,n);case 4:return aw(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=zc(e,null,r,n):Vn(t,e,r,n),e.child;case 11:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),Hb(t,e,r,i,n);case 7:return Vn(t,e,e.pendingProps,n),e.child;case 8:return Vn(t,e,e.pendingProps.children,n),e.child;case 12:return Vn(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,xt(qp,r._currentValue),r._currentValue=o,s!==null)if(_i(s.value,o)){if(s.children===i.children&&!Zn.current){e=Ds(t,e,n);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(s.tag===1){l=Ps(-1,n&-n),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var h=c.pending;h===null?l.next=l:(l.next=h.next,h.next=l),c.pending=l}}s.lanes|=n,l=s.alternate,l!==null&&(l.lanes|=n),i_(s.return,n,e),a.lanes|=n;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(ce(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),i_(o,n,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Vn(t,e,i.children,n),e=e.child}return e;case 9:return i=e.type,r=e.pendingProps.children,wc(e,n),i=Vr(i),r=r(i),e.flags|=1,Vn(t,e,r,n),e.child;case 14:return r=e.type,i=si(r,e.pendingProps),i=si(r.type,i),Kb(t,e,r,i,n);case 15:return YI(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,i=e.pendingProps,i=e.elementType===r?i:si(r,i),hp(t,e),e.tag=1,er(r)?(t=!0,Hp(e)):t=!1,wc(e,n),KI(e,r,i),o_(e,r,i,n),c_(null,e,r,!0,t,n);case 19:return ek(t,e,n);case 22:return QI(t,e,n)}throw Error(ce(156,e.tag))};function gk(t,e){return zP(t,e)}function yF(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Mr(t,e,n,r){return new yF(t,e,n,r)}function bw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vF(t){if(typeof t=="function")return bw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===B0)return 11;if(t===$0)return 14}return 2}function Uo(t,e){var n=t.alternate;return n===null?(n=Mr(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function mp(t,e,n,r,i,s){var o=2;if(r=t,typeof t=="function")bw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Jl:return el(n.children,i,s,e);case U0:o=8,i|=8;break;case Rv:return t=Mr(12,n,e,i|2),t.elementType=Rv,t.lanes=s,t;case Av:return t=Mr(13,n,e,i),t.elementType=Av,t.lanes=s,t;case Nv:return t=Mr(19,n,e,i),t.elementType=Nv,t.lanes=s,t;case TP:return sg(n,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case EP:o=10;break e;case CP:o=9;break e;case B0:o=11;break e;case $0:o=14;break e;case mo:o=16,r=null;break e}throw Error(ce(130,t==null?t:typeof t,""))}return e=Mr(o,n,e,i),e.elementType=t,e.type=r,e.lanes=s,e}function el(t,e,n,r){return t=Mr(7,t,r,e),t.lanes=n,t}function sg(t,e,n,r){return t=Mr(22,t,r,e),t.elementType=TP,t.lanes=n,t.stateNode={isHidden:!1},t}function Dy(t,e,n){return t=Mr(6,t,null,e),t.lanes=n,t}function My(t,e,n){return e=Mr(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function _F(t,e,n,r,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=my(0),this.expirationTimes=my(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=my(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Sw(t,e,n,r,i,s,o,a,l){return t=new _F(t,e,n,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Mr(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},ow(s),t}function wF(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Xl,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function yk(t){if(!t)return Go;t=t._reactInternals;e:{if(xl(t)!==t||t.tag!==1)throw Error(ce(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(er(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ce(171))}if(t.tag===1){var n=t.type;if(er(n))return yI(t,n,e)}return e}function vk(t,e,n,r,i,s,o,a,l){return t=Sw(n,r,!0,t,i,s,o,a,l),t.context=yk(null),n=t.current,r=Wn(),i=Vo(n),s=Ps(r,i),s.callback=e??null,Lo(n,s,i),t.current.lanes=i,Ih(t,i,r),tr(t,r),t}function og(t,e,n,r){var i=e.current,s=Wn(),o=Vo(i);return n=yk(n),e.context===null?e.context=n:e.pendingContext=n,e=Ps(s,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=Lo(i,e,o),t!==null&&(yi(t,i,o,s),cp(t,i,o)),o}function im(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function iS(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Ew(t,e){iS(t,e),(t=t.alternate)&&iS(t,e)}function xF(){return null}var _k=typeof reportError=="function"?reportError:function(t){console.error(t)};function Cw(t){this._internalRoot=t}ag.prototype.render=Cw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ce(409));og(t,e,null,null)};ag.prototype.unmount=Cw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ul(function(){og(null,t,null,null)}),e[Ns]=null}};function ag(t){this._internalRoot=t}ag.prototype.unstable_scheduleHydration=function(t){if(t){var e=QP();t={blockedOn:null,target:t,priority:e};for(var n=0;n<yo.length&&e!==0&&e<yo[n].priority;n++);yo.splice(n,0,t),n===0&&JP(t)}};function Tw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function lg(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function sS(){}function bF(t,e,n,r,i){if(i){if(typeof r=="function"){var s=r;r=function(){var c=im(o);s.call(c)}}var o=vk(e,r,t,0,null,!1,!1,"",sS);return t._reactRootContainer=o,t[Ns]=o.current,Kd(t.nodeType===8?t.parentNode:t),ul(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof r=="function"){var a=r;r=function(){var c=im(l);a.call(c)}}var l=Sw(t,0,!1,null,null,!1,!1,"",sS);return t._reactRootContainer=l,t[Ns]=l.current,Kd(t.nodeType===8?t.parentNode:t),ul(function(){og(e,l,n,r)}),l}function cg(t,e,n,r,i){var s=n._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=im(o);a.call(l)}}og(e,o,t,i)}else o=bF(n,e,t,i,r);return im(o)}qP=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=rd(e.pendingLanes);n!==0&&(H0(e,n|1),tr(e,Kt()),!(et&6)&&(Kc=Kt()+500,aa()))}break;case 13:ul(function(){var r=Os(t,1);if(r!==null){var i=Wn();yi(r,t,1,i)}}),Ew(t,1)}};K0=function(t){if(t.tag===13){var e=Os(t,134217728);if(e!==null){var n=Wn();yi(e,t,134217728,n)}Ew(t,134217728)}};YP=function(t){if(t.tag===13){var e=Vo(t),n=Os(t,e);if(n!==null){var r=Wn();yi(n,t,e,r)}Ew(t,e)}};QP=function(){return ut};XP=function(t,e){var n=ut;try{return ut=t,e()}finally{ut=n}};$v=function(t,e,n){switch(e){case"input":if(Mv(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var i=Zm(r);if(!i)throw Error(ce(90));IP(r),Mv(r,i)}}}break;case"textarea":RP(t,n);break;case"select":e=n.value,e!=null&&gc(t,!!n.multiple,e,!1)}};LP=_w;FP=ul;var SF={usingClientEntryPoint:!1,Events:[Rh,nc,Zm,MP,jP,_w]},Hu={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},EF={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:zs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=BP(t),t===null?null:t.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||xF,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var jf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!jf.isDisabled&&jf.supportsFiber)try{Ym=jf.inject(EF),zi=jf}catch{}}wr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=SF;wr.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Tw(e))throw Error(ce(200));return wF(t,e,null,n)};wr.createRoot=function(t,e){if(!Tw(t))throw Error(ce(299));var n=!1,r="",i=_k;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Sw(t,1,!1,null,null,n,!1,r,i),t[Ns]=e.current,Kd(t.nodeType===8?t.parentNode:t),new Cw(e)};wr.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ce(188)):(t=Object.keys(t).join(","),Error(ce(268,t)));return t=BP(e),t=t===null?null:t.stateNode,t};wr.flushSync=function(t){return ul(t)};wr.hydrate=function(t,e,n){if(!lg(e))throw Error(ce(200));return cg(null,t,e,!0,n)};wr.hydrateRoot=function(t,e,n){if(!Tw(t))throw Error(ce(405));var r=n!=null&&n.hydratedSources||null,i=!1,s="",o=_k;if(n!=null&&(n.unstable_strictMode===!0&&(i=!0),n.identifierPrefix!==void 0&&(s=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=vk(e,null,t,1,n??null,i,!1,s,o),t[Ns]=e.current,Kd(t),r)for(t=0;t<r.length;t++)n=r[t],i=n._getVersion,i=i(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,i]:e.mutableSourceEagerHydrationData.push(n,i);return new ag(e)};wr.render=function(t,e,n){if(!lg(e))throw Error(ce(200));return cg(null,t,e,!1,n)};wr.unmountComponentAtNode=function(t){if(!lg(t))throw Error(ce(40));return t._reactRootContainer?(ul(function(){cg(null,null,t,!1,function(){t._reactRootContainer=null,t[Ns]=null})}),!0):!1};wr.unstable_batchedUpdates=_w;wr.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!lg(n))throw Error(ce(200));if(t==null||t._reactInternals===void 0)throw Error(ce(38));return cg(t,e,n,!1,r)};wr.version="18.3.1-next-f1338f8080-20240426";function wk(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(wk)}catch(t){console.error(t)}}wk(),wP.exports=wr;var bl=wP.exports;const CF=N0(bl);var xk,oS=bl;xk=oS.createRoot,oS.hydrateRoot;function TF(t,e){if(t instanceof RegExp)return{keys:!1,pattern:t};var n,r,i,s,o=[],a="",l=t.split("/");for(l[0]||l.shift();i=l.shift();)n=i[0],n==="*"?(o.push(n),a+=i[1]==="?"?"(?:/(.*))?":"/(.*)"):n===":"?(r=i.indexOf("?",1),s=i.indexOf(".",1),o.push(i.substring(1,~r?r:~s?s:i.length)),a+=~r&&!~s?"(?:/([^/]+?))?":"/([^/]+?)",~s&&(a+=(~r?"?":"")+"\\"+i.substring(s))):a+="/"+i;return{keys:o,pattern:new RegExp("^"+a+(e?"(?=$|/)":"/?$"),"i")}}var bk={exports:{}},Sk={};/**
 * @license React
 * use-sync-external-store-shim.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Gc=S;function PF(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var IF=typeof Object.is=="function"?Object.is:PF,kF=Gc.useState,RF=Gc.useEffect,AF=Gc.useLayoutEffect,NF=Gc.useDebugValue;function OF(t,e){var n=e(),r=kF({inst:{value:n,getSnapshot:e}}),i=r[0].inst,s=r[1];return AF(function(){i.value=n,i.getSnapshot=e,jy(i)&&s({inst:i})},[t,n,e]),RF(function(){return jy(i)&&s({inst:i}),t(function(){jy(i)&&s({inst:i})})},[t]),NF(n),n}function jy(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!IF(t,n)}catch{return!0}}function DF(t,e){return e()}var MF=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?DF:OF;Sk.useSyncExternalStore=Gc.useSyncExternalStore!==void 0?Gc.useSyncExternalStore:MF;bk.exports=Sk;var jF=bk.exports;const LF=vP.useInsertionEffect,FF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VF=FF?S.useLayoutEffect:S.useEffect,UF=LF||VF,Ek=t=>{const e=S.useRef([t,(...n)=>e[0](...n)]).current;return UF(()=>{e[0]=t}),e[1]},BF="popstate",Pw="pushState",Iw="replaceState",$F="hashchange",aS=[BF,Pw,Iw,$F],zF=t=>{for(const e of aS)addEventListener(e,t);return()=>{for(const e of aS)removeEventListener(e,t)}},Ck=(t,e)=>jF.useSyncExternalStore(zF,t,e),WF=()=>location.search,HF=({ssrSearch:t=""}={})=>Ck(WF,()=>t),lS=()=>location.pathname,KF=({ssrPath:t}={})=>Ck(lS,t?()=>t:lS),GF=(t,{replace:e=!1,state:n=null}={})=>history[e?Iw:Pw](n,"",t),qF=(t={})=>[KF(t),GF],cS=Symbol.for("wouter_v3");if(typeof history<"u"&&typeof window[cS]>"u"){for(const t of[Pw,Iw]){const e=history[t];history[t]=function(){const n=e.apply(this,arguments),r=new Event(t);return r.arguments=arguments,dispatchEvent(r),n}}Object.defineProperty(window,cS,{value:!0})}const YF=(t,e)=>e.toLowerCase().indexOf(t.toLowerCase())?"~"+e:e.slice(t.length)||"/",Tk=(t="")=>t==="/"?"":t,QF=(t,e)=>t[0]==="~"?t.slice(1):Tk(e)+t,XF=(t="",e)=>YF(uS(Tk(t)),uS(e)),uS=t=>{try{return decodeURI(t)}catch{return t}},Pk={hook:qF,searchHook:HF,parser:TF,base:"",ssrPath:void 0,ssrSearch:void 0,hrefs:t=>t},Ik=S.createContext(Pk),Nh=()=>S.useContext(Ik),kk={},Rk=S.createContext(kk),JF=()=>S.useContext(Rk),ug=t=>{const[e,n]=t.hook(t);return[XF(t.base,e),Ek((r,i)=>n(QF(r,t.base),i))]},Oh=()=>ug(Nh()),Ak=(t,e,n,r)=>{const{pattern:i,keys:s}=e instanceof RegExp?{keys:!1,pattern:e}:t(e||"*",r),o=i.exec(n)||[],[a,...l]=o;return a!==void 0?[!0,(()=>{const c=s!==!1?Object.fromEntries(s.map((p,m)=>[p,l[m]])):o.groups;let h={...l};return c&&Object.assign(h,c),h})(),...r?[a]:[]]:[!1,null]},ZF=({children:t,...e})=>{var h,p;const n=Nh(),r=e.hook?Pk:n;let i=r;const[s,o]=((h=e.ssrPath)==null?void 0:h.split("?"))??[];o&&(e.ssrSearch=o,e.ssrPath=s),e.hrefs=e.hrefs??((p=e.hook)==null?void 0:p.hrefs);let a=S.useRef({}),l=a.current,c=l;for(let m in r){const w=m==="base"?r[m]+(e[m]||""):e[m]||r[m];l===c&&w!==c[m]&&(a.current=c={...c}),c[m]=w,w!==r[m]&&(i=c)}return S.createElement(Ik.Provider,{value:i,children:t})},dS=({children:t,component:e},n)=>e?S.createElement(e,{params:n}):typeof t=="function"?t(n):t,e4=t=>{let e=S.useRef(kk),n=e.current;for(const r in t)t[r]!==n[r]&&(n=t);return Object.keys(t).length===0&&(n=t),e.current=n},Oa=({path:t,nest:e,match:n,...r})=>{const i=Nh(),[s]=ug(i),[o,a,l]=n??Ak(i.parser,t,s,e),c=e4({...JF(),...a});if(!o)return null;const h=l?S.createElement(ZF,{base:l},dS(r,c)):dS(r,c);return S.createElement(Rk.Provider,{value:c,children:h})},_o=S.forwardRef((t,e)=>{const n=Nh(),[r,i]=ug(n),{to:s="",href:o=s,onClick:a,asChild:l,children:c,className:h,replace:p,state:m,...w}=t,T=Ek(I=>{I.ctrlKey||I.metaKey||I.altKey||I.shiftKey||I.button!==0||(a==null||a(I),I.defaultPrevented||(I.preventDefault(),i(o,t)))}),_=n.hrefs(o[0]==="~"?o.slice(1):n.base+o,n);return l&&S.isValidElement(c)?S.cloneElement(c,{onClick:T,href:_}):S.createElement("a",{...w,onClick:T,href:_,className:h!=null&&h.call?h(r===o):h,children:c,ref:e})}),Nk=t=>Array.isArray(t)?t.flatMap(e=>Nk(e&&e.type===S.Fragment?e.props.children:e)):[t],hS=({children:t,location:e})=>{const n=Nh(),[r]=ug(n);for(const i of Nk(t)){let s=0;if(S.isValidElement(i)&&(s=Ak(n.parser,i.props.path,e||r,i.props.nest))[0])return S.cloneElement(i,{match:s})}return null};var dg=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hg=typeof window>"u"||"Deno"in globalThis;function oi(){}function t4(t,e){return typeof t=="function"?t(e):t}function n4(t){return typeof t=="number"&&t>=0&&t!==1/0}function r4(t,e){return Math.max(t+(e||0)-Date.now(),0)}function fS(t,e){return typeof t=="function"?t(e):t}function i4(t,e){return typeof t=="function"?t(e):t}function pS(t,e){const{type:n="all",exact:r,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==kw(o,e.options))return!1}else if(!nh(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function mS(t,e){const{exact:n,status:r,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(n){if(th(e.options.mutationKey)!==th(s))return!1}else if(!nh(e.options.mutationKey,s))return!1}return!(r&&e.state.status!==r||i&&!i(e))}function kw(t,e){return((e==null?void 0:e.queryKeyHashFn)||th)(t)}function th(t){return JSON.stringify(t,(e,n)=>x_(n)?Object.keys(n).sort().reduce((r,i)=>(r[i]=n[i],r),{}):n)}function nh(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?!Object.keys(e).some(n=>!nh(t[n],e[n])):!1}function Ok(t,e){if(t===e)return t;const n=gS(t)&&gS(e);if(n||x_(t)&&x_(e)){const r=n?t:Object.keys(t),i=r.length,s=n?e:Object.keys(e),o=s.length,a=n?[]:{};let l=0;for(let c=0;c<o;c++){const h=n?c:s[c];(!n&&r.includes(h)||n)&&t[h]===void 0&&e[h]===void 0?(a[h]=void 0,l++):(a[h]=Ok(t[h],e[h]),a[h]===t[h]&&t[h]!==void 0&&l++)}return i===o&&l===i?t:a}return e}function gS(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function x_(t){if(!yS(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!yS(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function yS(t){return Object.prototype.toString.call(t)==="[object Object]"}function s4(t){return new Promise(e=>{setTimeout(e,t)})}function o4(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?Ok(t,e):e}function a4(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function l4(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var Rw=Symbol();function Dk(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Rw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var Ya,Eo,Ac,eP,c4=(eP=class extends dg{constructor(){super();lt(this,Ya);lt(this,Eo);lt(this,Ac);Be(this,Ac,e=>{if(!hg&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){oe(this,Eo)||this.setEventListener(oe(this,Ac))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Eo))==null||e.call(this),Be(this,Eo,void 0))}setEventListener(e){var n;Be(this,Ac,e),(n=oe(this,Eo))==null||n.call(this),Be(this,Eo,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){oe(this,Ya)!==e&&(Be(this,Ya,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof oe(this,Ya)=="boolean"?oe(this,Ya):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ya=new WeakMap,Eo=new WeakMap,Ac=new WeakMap,eP),Mk=new c4,Nc,Co,Oc,tP,u4=(tP=class extends dg{constructor(){super();lt(this,Nc,!0);lt(this,Co);lt(this,Oc);Be(this,Oc,e=>{if(!hg&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){oe(this,Co)||this.setEventListener(oe(this,Oc))}onUnsubscribe(){var e;this.hasListeners()||((e=oe(this,Co))==null||e.call(this),Be(this,Co,void 0))}setEventListener(e){var n;Be(this,Oc,e),(n=oe(this,Co))==null||n.call(this),Be(this,Co,e(this.setOnline.bind(this)))}setOnline(e){oe(this,Nc)!==e&&(Be(this,Nc,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return oe(this,Nc)}},Nc=new WeakMap,Co=new WeakMap,Oc=new WeakMap,tP),sm=new u4;function d4(){let t,e;const n=new Promise((i,s)=>{t=i,e=s});n.status="pending",n.catch(()=>{});function r(i){Object.assign(n,i),delete n.resolve,delete n.reject}return n.resolve=i=>{r({status:"fulfilled",value:i}),t(i)},n.reject=i=>{r({status:"rejected",reason:i}),e(i)},n}function h4(t){return Math.min(1e3*2**t,3e4)}function jk(t){return(t??"online")==="online"?sm.isOnline():!0}var Lk=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function Ly(t){return t instanceof Lk}function Fk(t){let e=!1,n=0,r=!1,i;const s=d4(),o=_=>{var I;r||(m(new Lk(_)),(I=t.abort)==null||I.call(t))},a=()=>{e=!0},l=()=>{e=!1},c=()=>Mk.isFocused()&&(t.networkMode==="always"||sm.isOnline())&&t.canRun(),h=()=>jk(t.networkMode)&&t.canRun(),p=_=>{var I;r||(r=!0,(I=t.onSuccess)==null||I.call(t,_),i==null||i(),s.resolve(_))},m=_=>{var I;r||(r=!0,(I=t.onError)==null||I.call(t,_),i==null||i(),s.reject(_))},w=()=>new Promise(_=>{var I;i=b=>{(r||c())&&_(b)},(I=t.onPause)==null||I.call(t)}).then(()=>{var _;i=void 0,r||(_=t.onContinue)==null||_.call(t)}),T=()=>{if(r)return;let _;const I=n===0?t.initialPromise:void 0;try{_=I??t.fn()}catch(b){_=Promise.reject(b)}Promise.resolve(_).then(p).catch(b=>{var H;if(r)return;const E=t.retry??(hg?0:3),k=t.retryDelay??h4,M=typeof k=="function"?k(n,b):k,U=E===!0||typeof E=="number"&&n<E||typeof E=="function"&&E(n,b);if(e||!U){m(b);return}n++,(H=t.onFail)==null||H.call(t,n,b),s4(M).then(()=>c()?void 0:w()).then(()=>{e?m(b):T()})})};return{promise:s,cancel:o,continue:()=>(i==null||i(),s),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?T():w().then(T),s)}}function f4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},i=a=>setTimeout(a,0);const s=a=>{e?t.push(a):i(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{i=a}}}var $n=f4(),Qa,nP,Vk=(nP=class{constructor(){lt(this,Qa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),n4(this.gcTime)&&Be(this,Qa,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hg?1/0:5*60*1e3))}clearGcTimeout(){oe(this,Qa)&&(clearTimeout(oe(this,Qa)),Be(this,Qa,void 0))}},Qa=new WeakMap,nP),Dc,Mc,Rr,Cn,Ch,Xa,ai,ps,rP,p4=(rP=class extends Vk{constructor(n){super();lt(this,ai);lt(this,Dc);lt(this,Mc);lt(this,Rr);lt(this,Cn);lt(this,Ch);lt(this,Xa);Be(this,Xa,!1),Be(this,Ch,n.defaultOptions),this.setOptions(n.options),this.observers=[],Be(this,Rr,n.cache),this.queryKey=n.queryKey,this.queryHash=n.queryHash,Be(this,Dc,g4(this.options)),this.state=n.state??oe(this,Dc),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=oe(this,Cn))==null?void 0:n.promise}setOptions(n){this.options={...oe(this,Ch),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&oe(this,Rr).remove(this)}setData(n,r){const i=o4(this.state.data,n,this.options);return bn(this,ai,ps).call(this,{data:i,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),i}setState(n,r){bn(this,ai,ps).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var i,s;const r=(i=oe(this,Cn))==null?void 0:i.promise;return(s=oe(this,Cn))==null||s.cancel(n),r?r.then(oi).catch(oi):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(oe(this,Dc))}isActive(){return this.observers.some(n=>i4(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Rw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStale(){return this.state.isInvalidated?!0:this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0}isStaleByTime(n=0){return this.state.isInvalidated||this.state.data===void 0||!r4(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(i=>i.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,Cn))==null||r.continue()}onOnline(){var r;const n=this.observers.find(i=>i.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=oe(this,Cn))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),oe(this,Rr).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(oe(this,Cn)&&(oe(this,Xa)?oe(this,Cn).cancel({revert:!0}):oe(this,Cn).cancelRetry()),this.scheduleGc()),oe(this,Rr).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||bn(this,ai,ps).call(this,{type:"invalidate"})}fetch(n,r){var c,h,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(oe(this,Cn))return oe(this,Cn).continueRetry(),oe(this,Cn).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(w=>w.options.queryFn);m&&this.setOptions(m.options)}const i=new AbortController,s=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(Be(this,Xa,!0),i.signal)})},o=()=>{const m=Dk(this.options,r),w={queryKey:this.queryKey,meta:this.meta};return s(w),Be(this,Xa,!1),this.options.persister?this.options.persister(m,w,this):m(w)},a={fetchOptions:r,options:this.options,queryKey:this.queryKey,state:this.state,fetchFn:o};s(a),(c=this.options.behavior)==null||c.onFetch(a,this),Be(this,Mc,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((h=a.fetchOptions)==null?void 0:h.meta))&&bn(this,ai,ps).call(this,{type:"fetch",meta:(p=a.fetchOptions)==null?void 0:p.meta});const l=m=>{var w,T,_,I;Ly(m)&&m.silent||bn(this,ai,ps).call(this,{type:"error",error:m}),Ly(m)||((T=(w=oe(this,Rr).config).onError)==null||T.call(w,m,this),(I=(_=oe(this,Rr).config).onSettled)==null||I.call(_,this.state.data,m,this)),this.scheduleGc()};return Be(this,Cn,Fk({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,abort:i.abort.bind(i),onSuccess:m=>{var w,T,_,I;if(m===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(b){l(b);return}(T=(w=oe(this,Rr).config).onSuccess)==null||T.call(w,m,this),(I=(_=oe(this,Rr).config).onSettled)==null||I.call(_,m,this.state.error,this),this.scheduleGc()},onError:l,onFail:(m,w)=>{bn(this,ai,ps).call(this,{type:"failed",failureCount:m,error:w})},onPause:()=>{bn(this,ai,ps).call(this,{type:"pause"})},onContinue:()=>{bn(this,ai,ps).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0})),oe(this,Cn).start()}},Dc=new WeakMap,Mc=new WeakMap,Rr=new WeakMap,Cn=new WeakMap,Ch=new WeakMap,Xa=new WeakMap,ai=new WeakSet,ps=function(n){const r=i=>{switch(n.type){case"failed":return{...i,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...i,fetchStatus:"paused"};case"continue":return{...i,fetchStatus:"fetching"};case"fetch":return{...i,...m4(i.data,this.options),fetchMeta:n.meta??null};case"success":return{...i,data:n.data,dataUpdateCount:i.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=n.error;return Ly(s)&&s.revert&&oe(this,Mc)?{...oe(this,Mc),fetchStatus:"idle"}:{...i,error:s,errorUpdateCount:i.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:i.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...i,isInvalidated:!0};case"setState":return{...i,...n.state}}};this.state=r(this.state),$n.batch(()=>{this.observers.forEach(i=>{i.onQueryUpdate()}),oe(this,Rr).notify({query:this,type:"updated",action:n})})},rP);function m4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:jk(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function g4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var ji,iP,y4=(iP=class extends dg{constructor(e={}){super();lt(this,ji);this.config=e,Be(this,ji,new Map)}build(e,n,r){const i=n.queryKey,s=n.queryHash??kw(i,n);let o=this.get(s);return o||(o=new p4({cache:this,queryKey:i,queryHash:s,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){oe(this,ji).has(e.queryHash)||(oe(this,ji).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=oe(this,ji).get(e.queryHash);n&&(e.destroy(),n===e&&oe(this,ji).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return oe(this,ji).get(e)}getAll(){return[...oe(this,ji).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>pS(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>pS(e,r)):n}notify(e){$n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){$n.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){$n.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ji=new WeakMap,iP),Li,Fn,Ja,Fi,uo,sP,v4=(sP=class extends Vk{constructor(e){super();lt(this,Fi);lt(this,Li);lt(this,Fn);lt(this,Ja);this.mutationId=e.mutationId,Be(this,Fn,e.mutationCache),Be(this,Li,[]),this.state=e.state||_4(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){oe(this,Li).includes(e)||(oe(this,Li).push(e),this.clearGcTimeout(),oe(this,Fn).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){Be(this,Li,oe(this,Li).filter(n=>n!==e)),this.scheduleGc(),oe(this,Fn).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){oe(this,Li).length||(this.state.status==="pending"?this.scheduleGc():oe(this,Fn).remove(this))}continue(){var e;return((e=oe(this,Ja))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,s,o,a,l,c,h,p,m,w,T,_,I,b,E,k,M,U,H,N;Be(this,Ja,Fk({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(R,j)=>{bn(this,Fi,uo).call(this,{type:"failed",failureCount:R,error:j})},onPause:()=>{bn(this,Fi,uo).call(this,{type:"pause"})},onContinue:()=>{bn(this,Fi,uo).call(this,{type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>oe(this,Fn).canRun(this)}));const n=this.state.status==="pending",r=!oe(this,Ja).canStart();try{if(!n){bn(this,Fi,uo).call(this,{type:"pending",variables:e,isPaused:r}),await((s=(i=oe(this,Fn).config).onMutate)==null?void 0:s.call(i,e,this));const j=await((a=(o=this.options).onMutate)==null?void 0:a.call(o,e));j!==this.state.context&&bn(this,Fi,uo).call(this,{type:"pending",context:j,variables:e,isPaused:r})}const R=await oe(this,Ja).start();return await((c=(l=oe(this,Fn).config).onSuccess)==null?void 0:c.call(l,R,e,this.state.context,this)),await((p=(h=this.options).onSuccess)==null?void 0:p.call(h,R,e,this.state.context)),await((w=(m=oe(this,Fn).config).onSettled)==null?void 0:w.call(m,R,null,this.state.variables,this.state.context,this)),await((_=(T=this.options).onSettled)==null?void 0:_.call(T,R,null,e,this.state.context)),bn(this,Fi,uo).call(this,{type:"success",data:R}),R}catch(R){try{throw await((b=(I=oe(this,Fn).config).onError)==null?void 0:b.call(I,R,e,this.state.context,this)),await((k=(E=this.options).onError)==null?void 0:k.call(E,R,e,this.state.context)),await((U=(M=oe(this,Fn).config).onSettled)==null?void 0:U.call(M,void 0,R,this.state.variables,this.state.context,this)),await((N=(H=this.options).onSettled)==null?void 0:N.call(H,void 0,R,e,this.state.context)),R}finally{bn(this,Fi,uo).call(this,{type:"error",error:R})}}finally{oe(this,Fn).runNext(this)}}},Li=new WeakMap,Fn=new WeakMap,Ja=new WeakMap,Fi=new WeakSet,uo=function(e){const n=r=>{switch(e.type){case"failed":return{...r,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...r,isPaused:!0};case"continue":return{...r,isPaused:!1};case"pending":return{...r,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...r,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...r,data:void 0,error:e.error,failureCount:r.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=n(this.state),$n.batch(()=>{oe(this,Li).forEach(r=>{r.onMutationUpdate(e)}),oe(this,Fn).notify({mutation:this,type:"updated",action:e})})},sP);function _4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var cr,Th,oP,w4=(oP=class extends dg{constructor(e={}){super();lt(this,cr);lt(this,Th);this.config=e,Be(this,cr,new Map),Be(this,Th,Date.now())}build(e,n,r){const i=new v4({mutationCache:this,mutationId:++_f(this,Th)._,options:e.defaultMutationOptions(n),state:r});return this.add(i),i}add(e){const n=Lf(e),r=oe(this,cr).get(n)??[];r.push(e),oe(this,cr).set(n,r),this.notify({type:"added",mutation:e})}remove(e){var r;const n=Lf(e);if(oe(this,cr).has(n)){const i=(r=oe(this,cr).get(n))==null?void 0:r.filter(s=>s!==e);i&&(i.length===0?oe(this,cr).delete(n):oe(this,cr).set(n,i))}this.notify({type:"removed",mutation:e})}canRun(e){var r;const n=(r=oe(this,cr).get(Lf(e)))==null?void 0:r.find(i=>i.state.status==="pending");return!n||n===e}runNext(e){var r;const n=(r=oe(this,cr).get(Lf(e)))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(n==null?void 0:n.continue())??Promise.resolve()}clear(){$n.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}getAll(){return[...oe(this,cr).values()].flat()}find(e){const n={exact:!0,...e};return this.getAll().find(r=>mS(n,r))}findAll(e={}){return this.getAll().filter(n=>mS(e,n))}notify(e){$n.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return $n.batch(()=>Promise.all(e.map(n=>n.continue().catch(oi))))}},cr=new WeakMap,Th=new WeakMap,oP);function Lf(t){var e;return((e=t.options.scope)==null?void 0:e.id)??String(t.mutationId)}function vS(t){return{onFetch:(e,n)=>{var h,p,m,w,T;const r=e.options,i=(m=(p=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:p.fetchMore)==null?void 0:m.direction,s=((w=e.state.data)==null?void 0:w.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const c=async()=>{let _=!1;const I=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?_=!0:e.signal.addEventListener("abort",()=>{_=!0}),e.signal)})},b=Dk(e.options,e.fetchOptions),E=async(k,M,U)=>{if(_)return Promise.reject();if(M==null&&k.pages.length)return Promise.resolve(k);const H={queryKey:e.queryKey,pageParam:M,direction:U?"backward":"forward",meta:e.options.meta};I(H);const N=await b(H),{maxPages:R}=e.options,j=U?l4:a4;return{pages:j(k.pages,N,R),pageParams:j(k.pageParams,M,R)}};if(i&&s.length){const k=i==="backward",M=k?x4:_S,U={pages:s,pageParams:o},H=M(r,U);a=await E(U,H,k)}else{const k=t??s.length;do{const M=l===0?o[0]??r.initialPageParam:_S(r,a);if(l>0&&M==null)break;a=await E(a,M),l++}while(l<k)}return a};e.options.persister?e.fetchFn=()=>{var _,I;return(I=(_=e.options).persister)==null?void 0:I.call(_,c,{queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=c}}}function _S(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function x4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var Ft,To,Po,jc,Lc,Io,Fc,Vc,aP,b4=(aP=class{constructor(t={}){lt(this,Ft);lt(this,To);lt(this,Po);lt(this,jc);lt(this,Lc);lt(this,Io);lt(this,Fc);lt(this,Vc);Be(this,Ft,t.queryCache||new y4),Be(this,To,t.mutationCache||new w4),Be(this,Po,t.defaultOptions||{}),Be(this,jc,new Map),Be(this,Lc,new Map),Be(this,Io,0)}mount(){_f(this,Io)._++,oe(this,Io)===1&&(Be(this,Fc,Mk.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Ft).onFocus())})),Be(this,Vc,sm.subscribe(async t=>{t&&(await this.resumePausedMutations(),oe(this,Ft).onOnline())})))}unmount(){var t,e;_f(this,Io)._--,oe(this,Io)===0&&((t=oe(this,Fc))==null||t.call(this),Be(this,Fc,void 0),(e=oe(this,Vc))==null||e.call(this),Be(this,Vc,void 0))}isFetching(t){return oe(this,Ft).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return oe(this,To).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Ft).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.getQueryData(t.queryKey);if(e===void 0)return this.fetchQuery(t);{const n=this.defaultQueryOptions(t),r=oe(this,Ft).build(this,n);return t.revalidateIfStale&&r.isStaleByTime(fS(n.staleTime,r))&&this.prefetchQuery(n),Promise.resolve(e)}}getQueriesData(t){return oe(this,Ft).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),i=oe(this,Ft).get(r.queryHash),s=i==null?void 0:i.state.data,o=t4(e,s);if(o!==void 0)return oe(this,Ft).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return $n.batch(()=>oe(this,Ft).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=oe(this,Ft).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=oe(this,Ft);$n.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=oe(this,Ft),r={type:"active",...t};return $n.batch(()=>(n.findAll(t).forEach(i=>{i.reset()}),this.refetchQueries(r,e)))}cancelQueries(t={},e={}){const n={revert:!0,...e},r=$n.batch(()=>oe(this,Ft).findAll(t).map(i=>i.cancel(n)));return Promise.all(r).then(oi).catch(oi)}invalidateQueries(t={},e={}){return $n.batch(()=>{if(oe(this,Ft).findAll(t).forEach(r=>{r.invalidate()}),t.refetchType==="none")return Promise.resolve();const n={...t,type:t.refetchType??t.type??"active"};return this.refetchQueries(n,e)})}refetchQueries(t={},e){const n={...e,cancelRefetch:(e==null?void 0:e.cancelRefetch)??!0},r=$n.batch(()=>oe(this,Ft).findAll(t).filter(i=>!i.isDisabled()).map(i=>{let s=i.fetch(void 0,n);return n.throwOnError||(s=s.catch(oi)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(r).then(oi)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=oe(this,Ft).build(this,e);return n.isStaleByTime(fS(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(oi).catch(oi)}fetchInfiniteQuery(t){return t.behavior=vS(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(oi).catch(oi)}ensureInfiniteQueryData(t){return t.behavior=vS(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return sm.isOnline()?oe(this,To).resumePausedMutations():Promise.resolve()}getQueryCache(){return oe(this,Ft)}getMutationCache(){return oe(this,To)}getDefaultOptions(){return oe(this,Po)}setDefaultOptions(t){Be(this,Po,t)}setQueryDefaults(t,e){oe(this,jc).set(th(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...oe(this,jc).values()];let n={};return e.forEach(r=>{nh(t,r.queryKey)&&(n={...n,...r.defaultOptions})}),n}setMutationDefaults(t,e){oe(this,Lc).set(th(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...oe(this,Lc).values()];let n={};return e.forEach(r=>{nh(t,r.mutationKey)&&(n={...n,...r.defaultOptions})}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...oe(this,Po).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=kw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.enabled!==!0&&e.queryFn===Rw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...oe(this,Po).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){oe(this,Ft).clear(),oe(this,To).clear()}},Ft=new WeakMap,To=new WeakMap,Po=new WeakMap,jc=new WeakMap,Lc=new WeakMap,Io=new WeakMap,Fc=new WeakMap,Vc=new WeakMap,aP),S4=S.createContext(void 0),E4=({client:t,children:e})=>(S.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),g.jsx(S4.Provider,{value:t,children:e}));async function C4(t){if(!t.ok){const e=await t.text()||t.statusText;throw new Error(`${t.status}: ${e}`)}}const T4=({on401:t})=>async({queryKey:e})=>{const n=await fetch(e.join("/"),{credentials:"include"});return t==="returnNull"&&n.status===401?null:(await C4(n),await n.json())},P4=new b4({defaultOptions:{queries:{queryFn:T4({on401:"throw"}),refetchInterval:!1,refetchOnWindowFocus:!1,staleTime:1/0,retry:!1},mutations:{retry:!1}}}),I4=1,k4=1e6;let Fy=0;function R4(){return Fy=(Fy+1)%Number.MAX_SAFE_INTEGER,Fy.toString()}const Vy=new Map,wS=t=>{if(Vy.has(t))return;const e=setTimeout(()=>{Vy.delete(t),wd({type:"REMOVE_TOAST",toastId:t})},k4);Vy.set(t,e)},A4=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,I4)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?wS(n):t.toasts.forEach(r=>{wS(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},gp=[];let yp={toasts:[]};function wd(t){yp=A4(yp,t),gp.forEach(e=>{e(yp)})}function N4({...t}){const e=R4(),n=i=>wd({type:"UPDATE_TOAST",toast:{...i,id:e}}),r=()=>wd({type:"DISMISS_TOAST",toastId:e});return wd({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:i=>{i||r()}}}),{id:e,dismiss:r,update:n}}function Aw(){const[t,e]=S.useState(yp);return S.useEffect(()=>(gp.push(e),()=>{const n=gp.indexOf(e);n>-1&&gp.splice(n,1)}),[t]),{...t,toast:N4,dismiss:n=>wd({type:"DISMISS_TOAST",toastId:n})}}function ke(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function xS(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Uk(...t){return e=>{let n=!1;const r=t.map(i=>{const s=xS(i,e);return!n&&typeof s=="function"&&(n=!0),s});if(n)return()=>{for(let i=0;i<r.length;i++){const s=r[i];typeof s=="function"?s():xS(t[i],null)}}}}function dt(...t){return S.useCallback(Uk(...t),t)}function O4(t,e){const n=S.createContext(e),r=s=>{const{children:o,...a}=s,l=S.useMemo(()=>a,Object.values(a));return g.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function i(s){const o=S.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${s}\` must be used within \`${t}\``)}return[r,i]}function Ji(t,e=[]){let n=[];function r(s,o){const a=S.createContext(o),l=n.length;n=[...n,o];const c=p=>{var b;const{scope:m,children:w,...T}=p,_=((b=m==null?void 0:m[t])==null?void 0:b[l])||a,I=S.useMemo(()=>T,Object.values(T));return g.jsx(_.Provider,{value:I,children:w})};c.displayName=s+"Provider";function h(p,m){var _;const w=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,T=S.useContext(w);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${p}\` must be used within \`${s}\``)}return[c,h]}const i=()=>{const s=n.map(o=>S.createContext(o));return function(a){const l=(a==null?void 0:a[t])||s;return S.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return i.scopeName=t,[r,D4(i,...e)]}function D4(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(s){const o=r.reduce((a,{useScope:l,scopeName:c})=>{const p=l(s)[`__scope${c}`];return{...a,...p}},{});return S.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function qc(t){const e=j4(t),n=S.forwardRef((r,i)=>{const{children:s,...o}=r,a=S.Children.toArray(s),l=a.find(F4);if(l){const c=l.props.children,h=a.map(p=>p===l?S.Children.count(c)>1?S.Children.only(null):S.isValidElement(c)?c.props.children:null:p);return g.jsx(e,{...o,ref:i,children:S.isValidElement(c)?S.cloneElement(c,void 0,h):null})}return g.jsx(e,{...o,ref:i,children:s})});return n.displayName=`${t}.Slot`,n}var M4=qc("Slot");function j4(t){const e=S.forwardRef((n,r)=>{const{children:i,...s}=n;if(S.isValidElement(i)){const o=U4(i),a=V4(s,i.props);return i.type!==S.Fragment&&(a.ref=r?Uk(r,o):o),S.cloneElement(i,a)}return S.Children.count(i)>1?S.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var Bk=Symbol("radix.slottable");function L4(t){const e=({children:n})=>g.jsx(g.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=Bk,e}function F4(t){return S.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===Bk}function V4(t,e){const n={...e};for(const r in e){const i=t[r],s=e[r];/^on[A-Z]/.test(r)?i&&s?n[r]=(...a)=>{s(...a),i(...a)}:i&&(n[r]=i):r==="style"?n[r]={...i,...s}:r==="className"&&(n[r]=[i,s].filter(Boolean).join(" "))}return{...t,...n}}function U4(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Nw(t){const e=t+"CollectionProvider",[n,r]=Ji(e),[i,s]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=_=>{const{scope:I,children:b}=_,E=pn.useRef(null),k=pn.useRef(new Map).current;return g.jsx(i,{scope:I,itemMap:k,collectionRef:E,children:b})};o.displayName=e;const a=t+"CollectionSlot",l=qc(a),c=pn.forwardRef((_,I)=>{const{scope:b,children:E}=_,k=s(a,b),M=dt(I,k.collectionRef);return g.jsx(l,{ref:M,children:E})});c.displayName=a;const h=t+"CollectionItemSlot",p="data-radix-collection-item",m=qc(h),w=pn.forwardRef((_,I)=>{const{scope:b,children:E,...k}=_,M=pn.useRef(null),U=dt(I,M),H=s(h,b);return pn.useEffect(()=>(H.itemMap.set(M,{ref:M,...k}),()=>void H.itemMap.delete(M))),g.jsx(m,{[p]:"",ref:U,children:E})});w.displayName=h;function T(_){const I=s(t+"CollectionConsumer",_);return pn.useCallback(()=>{const E=I.collectionRef.current;if(!E)return[];const k=Array.from(E.querySelectorAll(`[${p}]`));return Array.from(I.itemMap.values()).sort((H,N)=>k.indexOf(H.ref.current)-k.indexOf(N.ref.current))},[I.collectionRef,I.itemMap])}return[{Provider:o,Slot:c,ItemSlot:w},T,r]}var B4=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],Ve=B4.reduce((t,e)=>{const n=qc(`Primitive.${e}`),r=S.forwardRef((i,s)=>{const{asChild:o,...a}=i,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),g.jsx(l,{...a,ref:s})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function $k(t,e){t&&bl.flushSync(()=>t.dispatchEvent(e))}function nr(t){const e=S.useRef(t);return S.useEffect(()=>{e.current=t}),S.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function $4(t,e=globalThis==null?void 0:globalThis.document){const n=nr(t);S.useEffect(()=>{const r=i=>{i.key==="Escape"&&n(i)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var z4="DismissableLayer",b_="dismissableLayer.update",W4="dismissableLayer.pointerDownOutside",H4="dismissableLayer.focusOutside",bS,zk=S.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),Dh=S.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:s,onInteractOutside:o,onDismiss:a,...l}=t,c=S.useContext(zk),[h,p]=S.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,w]=S.useState({}),T=dt(e,N=>p(N)),_=Array.from(c.layers),[I]=[...c.layersWithOutsidePointerEventsDisabled].slice(-1),b=_.indexOf(I),E=h?_.indexOf(h):-1,k=c.layersWithOutsidePointerEventsDisabled.size>0,M=E>=b,U=G4(N=>{const R=N.target,j=[...c.branches].some(D=>D.contains(R));!M||j||(i==null||i(N),o==null||o(N),N.defaultPrevented||a==null||a())},m),H=q4(N=>{const R=N.target;[...c.branches].some(D=>D.contains(R))||(s==null||s(N),o==null||o(N),N.defaultPrevented||a==null||a())},m);return $4(N=>{E===c.layers.size-1&&(r==null||r(N),!N.defaultPrevented&&a&&(N.preventDefault(),a()))},m),S.useEffect(()=>{if(h)return n&&(c.layersWithOutsidePointerEventsDisabled.size===0&&(bS=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),c.layersWithOutsidePointerEventsDisabled.add(h)),c.layers.add(h),SS(),()=>{n&&c.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=bS)}},[h,m,n,c]),S.useEffect(()=>()=>{h&&(c.layers.delete(h),c.layersWithOutsidePointerEventsDisabled.delete(h),SS())},[h,c]),S.useEffect(()=>{const N=()=>w({});return document.addEventListener(b_,N),()=>document.removeEventListener(b_,N)},[]),g.jsx(Ve.div,{...l,ref:T,style:{pointerEvents:k?M?"auto":"none":void 0,...t.style},onFocusCapture:ke(t.onFocusCapture,H.onFocusCapture),onBlurCapture:ke(t.onBlurCapture,H.onBlurCapture),onPointerDownCapture:ke(t.onPointerDownCapture,U.onPointerDownCapture)})});Dh.displayName=z4;var K4="DismissableLayerBranch",Wk=S.forwardRef((t,e)=>{const n=S.useContext(zk),r=S.useRef(null),i=dt(e,r);return S.useEffect(()=>{const s=r.current;if(s)return n.branches.add(s),()=>{n.branches.delete(s)}},[n.branches]),g.jsx(Ve.div,{...t,ref:i})});Wk.displayName=K4;function G4(t,e=globalThis==null?void 0:globalThis.document){const n=nr(t),r=S.useRef(!1),i=S.useRef(()=>{});return S.useEffect(()=>{const s=a=>{if(a.target&&!r.current){let l=function(){Hk(W4,n,c,{discrete:!0})};const c={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",i.current),i.current=l,e.addEventListener("click",i.current,{once:!0})):l()}else e.removeEventListener("click",i.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",s)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",s),e.removeEventListener("click",i.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function q4(t,e=globalThis==null?void 0:globalThis.document){const n=nr(t),r=S.useRef(!1);return S.useEffect(()=>{const i=s=>{s.target&&!r.current&&Hk(H4,n,{originalEvent:s},{discrete:!1})};return e.addEventListener("focusin",i),()=>e.removeEventListener("focusin",i)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function SS(){const t=new CustomEvent(b_);document.dispatchEvent(t)}function Hk(t,e,n,{discrete:r}){const i=n.originalEvent.target,s=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$k(i,s):i.dispatchEvent(s)}var Y4=Dh,Q4=Wk,Rn=globalThis!=null&&globalThis.document?S.useLayoutEffect:()=>{},X4="Portal",fg=S.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[i,s]=S.useState(!1);Rn(()=>s(!0),[]);const o=n||i&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?CF.createPortal(g.jsx(Ve.div,{...r,ref:e}),o):null});fg.displayName=X4;function J4(t,e){return S.useReducer((n,r)=>e[n][r]??n,t)}var la=t=>{const{present:e,children:n}=t,r=Z4(e),i=typeof n=="function"?n({present:r.isPresent}):S.Children.only(n),s=dt(r.ref,e3(i));return typeof n=="function"||r.isPresent?S.cloneElement(i,{ref:s}):null};la.displayName="Presence";function Z4(t){const[e,n]=S.useState(),r=S.useRef({}),i=S.useRef(t),s=S.useRef("none"),o=t?"mounted":"unmounted",[a,l]=J4(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return S.useEffect(()=>{const c=Ff(r.current);s.current=a==="mounted"?c:"none"},[a]),Rn(()=>{const c=r.current,h=i.current;if(h!==t){const m=s.current,w=Ff(c);t?l("MOUNT"):w==="none"||(c==null?void 0:c.display)==="none"?l("UNMOUNT"):l(h&&m!==w?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,l]),Rn(()=>{if(e){let c;const h=e.ownerDocument.defaultView??window,p=w=>{const _=Ff(r.current).includes(w.animationName);if(w.target===e&&_&&(l("ANIMATION_END"),!i.current)){const I=e.style.animationFillMode;e.style.animationFillMode="forwards",c=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=I)})}},m=w=>{w.target===e&&(s.current=Ff(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",p),e.addEventListener("animationend",p),()=>{h.clearTimeout(c),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",p),e.removeEventListener("animationend",p)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:S.useCallback(c=>{c&&(r.current=getComputedStyle(c)),n(c)},[])}}function Ff(t){return(t==null?void 0:t.animationName)||"none"}function e3(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function dl({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=t3({defaultProp:e,onChange:n}),s=t!==void 0,o=s?t:r,a=nr(n),l=S.useCallback(c=>{if(s){const p=typeof c=="function"?c(t):c;p!==t&&a(p)}else i(c)},[s,t,i,a]);return[o,l]}function t3({defaultProp:t,onChange:e}){const n=S.useState(t),[r]=n,i=S.useRef(r),s=nr(e);return S.useEffect(()=>{i.current!==r&&(s(r),i.current=r)},[r,i,s]),n}var n3="VisuallyHidden",Mh=S.forwardRef((t,e)=>g.jsx(Ve.span,{...t,ref:e,style:{position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal",...t.style}}));Mh.displayName=n3;var r3=Mh,Ow="ToastProvider",[Dw,i3,s3]=Nw("Toast"),[Kk,gJ]=Ji("Toast",[s3]),[o3,pg]=Kk(Ow),Gk=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:i="right",swipeThreshold:s=50,children:o}=t,[a,l]=S.useState(null),[c,h]=S.useState(0),p=S.useRef(!1),m=S.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Ow}\`. Expected non-empty \`string\`.`),g.jsx(Dw.Provider,{scope:e,children:g.jsx(o3,{scope:e,label:n,duration:r,swipeDirection:i,swipeThreshold:s,toastCount:c,viewport:a,onViewportChange:l,onToastAdd:S.useCallback(()=>h(w=>w+1),[]),onToastRemove:S.useCallback(()=>h(w=>w-1),[]),isFocusedToastEscapeKeyDownRef:p,isClosePausedRef:m,children:o})})};Gk.displayName=Ow;var qk="ToastViewport",a3=["F8"],S_="toast.viewportPause",E_="toast.viewportResume",Yk=S.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=a3,label:i="Notifications ({hotkey})",...s}=t,o=pg(qk,n),a=i3(n),l=S.useRef(null),c=S.useRef(null),h=S.useRef(null),p=S.useRef(null),m=dt(e,p,o.onViewportChange),w=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;S.useEffect(()=>{const I=b=>{var k;r.length!==0&&r.every(M=>b[M]||b.code===M)&&((k=p.current)==null||k.focus())};return document.addEventListener("keydown",I),()=>document.removeEventListener("keydown",I)},[r]),S.useEffect(()=>{const I=l.current,b=p.current;if(T&&I&&b){const E=()=>{if(!o.isClosePausedRef.current){const H=new CustomEvent(S_);b.dispatchEvent(H),o.isClosePausedRef.current=!0}},k=()=>{if(o.isClosePausedRef.current){const H=new CustomEvent(E_);b.dispatchEvent(H),o.isClosePausedRef.current=!1}},M=H=>{!I.contains(H.relatedTarget)&&k()},U=()=>{I.contains(document.activeElement)||k()};return I.addEventListener("focusin",E),I.addEventListener("focusout",M),I.addEventListener("pointermove",E),I.addEventListener("pointerleave",U),window.addEventListener("blur",E),window.addEventListener("focus",k),()=>{I.removeEventListener("focusin",E),I.removeEventListener("focusout",M),I.removeEventListener("pointermove",E),I.removeEventListener("pointerleave",U),window.removeEventListener("blur",E),window.removeEventListener("focus",k)}}},[T,o.isClosePausedRef]);const _=S.useCallback(({tabbingDirection:I})=>{const E=a().map(k=>{const M=k.ref.current,U=[M,...w3(M)];return I==="forwards"?U:U.reverse()});return(I==="forwards"?E.reverse():E).flat()},[a]);return S.useEffect(()=>{const I=p.current;if(I){const b=E=>{var U,H,N;const k=E.altKey||E.ctrlKey||E.metaKey;if(E.key==="Tab"&&!k){const R=document.activeElement,j=E.shiftKey;if(E.target===I&&j){(U=c.current)==null||U.focus();return}const L=_({tabbingDirection:j?"backwards":"forwards"}),F=L.findIndex(ae=>ae===R);Uy(L.slice(F+1))?E.preventDefault():j?(H=c.current)==null||H.focus():(N=h.current)==null||N.focus()}};return I.addEventListener("keydown",b),()=>I.removeEventListener("keydown",b)}},[a,_]),g.jsxs(Q4,{ref:l,role:"region","aria-label":i.replace("{hotkey}",w),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&g.jsx(C_,{ref:c,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"forwards"});Uy(I)}}),g.jsx(Dw.Slot,{scope:n,children:g.jsx(Ve.ol,{tabIndex:-1,...s,ref:m})}),T&&g.jsx(C_,{ref:h,onFocusFromOutsideViewport:()=>{const I=_({tabbingDirection:"backwards"});Uy(I)}})]})});Yk.displayName=qk;var Qk="ToastFocusProxy",C_=S.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...i}=t,s=pg(Qk,n);return g.jsx(Mh,{"aria-hidden":!0,tabIndex:0,...i,ref:e,style:{position:"fixed"},onFocus:o=>{var c;const a=o.relatedTarget;!((c=s.viewport)!=null&&c.contains(a))&&r()}})});C_.displayName=Qk;var mg="Toast",l3="toast.swipeStart",c3="toast.swipeMove",u3="toast.swipeCancel",d3="toast.swipeEnd",Xk=S.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:i,onOpenChange:s,...o}=t,[a=!0,l]=dl({prop:r,defaultProp:i,onChange:s});return g.jsx(la,{present:n||a,children:g.jsx(p3,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:nr(t.onPause),onResume:nr(t.onResume),onSwipeStart:ke(t.onSwipeStart,c=>{c.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ke(t.onSwipeMove,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","move"),c.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${p}px`)}),onSwipeCancel:ke(t.onSwipeCancel,c=>{c.currentTarget.setAttribute("data-swipe","cancel"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ke(t.onSwipeEnd,c=>{const{x:h,y:p}=c.detail.delta;c.currentTarget.setAttribute("data-swipe","end"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),c.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),c.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),c.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${p}px`),l(!1)})})})});Xk.displayName=mg;var[h3,f3]=Kk(mg,{onClose(){}}),p3=S.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:i,open:s,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:c,onSwipeStart:h,onSwipeMove:p,onSwipeCancel:m,onSwipeEnd:w,...T}=t,_=pg(mg,n),[I,b]=S.useState(null),E=dt(e,ae=>b(ae)),k=S.useRef(null),M=S.useRef(null),U=i||_.duration,H=S.useRef(0),N=S.useRef(U),R=S.useRef(0),{onToastAdd:j,onToastRemove:D}=_,B=nr(()=>{var Ce;(I==null?void 0:I.contains(document.activeElement))&&((Ce=_.viewport)==null||Ce.focus()),o()}),L=S.useCallback(ae=>{!ae||ae===1/0||(window.clearTimeout(R.current),H.current=new Date().getTime(),R.current=window.setTimeout(B,ae))},[B]);S.useEffect(()=>{const ae=_.viewport;if(ae){const Ce=()=>{L(N.current),c==null||c()},xe=()=>{const Te=new Date().getTime()-H.current;N.current=N.current-Te,window.clearTimeout(R.current),l==null||l()};return ae.addEventListener(S_,xe),ae.addEventListener(E_,Ce),()=>{ae.removeEventListener(S_,xe),ae.removeEventListener(E_,Ce)}}},[_.viewport,U,l,c,L]),S.useEffect(()=>{s&&!_.isClosePausedRef.current&&L(U)},[s,U,_.isClosePausedRef,L]),S.useEffect(()=>(j(),()=>D()),[j,D]);const F=S.useMemo(()=>I?iR(I):null,[I]);return _.viewport?g.jsxs(g.Fragment,{children:[F&&g.jsx(m3,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:F}),g.jsx(h3,{scope:n,onClose:B,children:bl.createPortal(g.jsx(Dw.ItemSlot,{scope:n,children:g.jsx(Y4,{asChild:!0,onEscapeKeyDown:ke(a,()=>{_.isFocusedToastEscapeKeyDownRef.current||B(),_.isFocusedToastEscapeKeyDownRef.current=!1}),children:g.jsx(Ve.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":s?"open":"closed","data-swipe-direction":_.swipeDirection,...T,ref:E,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ke(t.onKeyDown,ae=>{ae.key==="Escape"&&(a==null||a(ae.nativeEvent),ae.nativeEvent.defaultPrevented||(_.isFocusedToastEscapeKeyDownRef.current=!0,B()))}),onPointerDown:ke(t.onPointerDown,ae=>{ae.button===0&&(k.current={x:ae.clientX,y:ae.clientY})}),onPointerMove:ke(t.onPointerMove,ae=>{if(!k.current)return;const Ce=ae.clientX-k.current.x,xe=ae.clientY-k.current.y,Te=!!M.current,re=["left","right"].includes(_.swipeDirection),le=["left","up"].includes(_.swipeDirection)?Math.min:Math.max,_e=re?le(0,Ce):0,Re=re?0:le(0,xe),Ze=ae.pointerType==="touch"?10:2,bt={x:_e,y:Re},mt={originalEvent:ae,delta:bt};Te?(M.current=bt,Vf(c3,p,mt,{discrete:!1})):ES(bt,_.swipeDirection,Ze)?(M.current=bt,Vf(l3,h,mt,{discrete:!1}),ae.target.setPointerCapture(ae.pointerId)):(Math.abs(Ce)>Ze||Math.abs(xe)>Ze)&&(k.current=null)}),onPointerUp:ke(t.onPointerUp,ae=>{const Ce=M.current,xe=ae.target;if(xe.hasPointerCapture(ae.pointerId)&&xe.releasePointerCapture(ae.pointerId),M.current=null,k.current=null,Ce){const Te=ae.currentTarget,re={originalEvent:ae,delta:Ce};ES(Ce,_.swipeDirection,_.swipeThreshold)?Vf(d3,w,re,{discrete:!0}):Vf(u3,m,re,{discrete:!0}),Te.addEventListener("click",le=>le.preventDefault(),{once:!0})}})})})}),_.viewport)})]}):null}),m3=t=>{const{__scopeToast:e,children:n,...r}=t,i=pg(mg,e),[s,o]=S.useState(!1),[a,l]=S.useState(!1);return v3(()=>o(!0)),S.useEffect(()=>{const c=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(c)},[]),a?null:g.jsx(fg,{asChild:!0,children:g.jsx(Mh,{...r,children:s&&g.jsxs(g.Fragment,{children:[i.label," ",n]})})})},g3="ToastTitle",Jk=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ve.div,{...r,ref:e})});Jk.displayName=g3;var y3="ToastDescription",Zk=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return g.jsx(Ve.div,{...r,ref:e})});Zk.displayName=y3;var eR="ToastAction",tR=S.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?g.jsx(rR,{altText:n,asChild:!0,children:g.jsx(Mw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${eR}\`. Expected non-empty \`string\`.`),null)});tR.displayName=eR;var nR="ToastClose",Mw=S.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,i=f3(nR,n);return g.jsx(rR,{asChild:!0,children:g.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,i.onClose)})})});Mw.displayName=nR;var rR=S.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...i}=t;return g.jsx(Ve.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...i,ref:e})});function iR(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),_3(r)){const i=r.ariaHidden||r.hidden||r.style.display==="none",s=r.dataset.radixToastAnnounceExclude==="";if(!i)if(s){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...iR(r))}}),e}function Vf(t,e,n,{discrete:r}){const i=n.originalEvent.currentTarget,s=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&i.addEventListener(t,e,{once:!0}),r?$k(i,s):i.dispatchEvent(s)}var ES=(t,e,n=0)=>{const r=Math.abs(t.x),i=Math.abs(t.y),s=r>i;return e==="left"||e==="right"?s&&r>n:!s&&i>n};function v3(t=()=>{}){const e=nr(t);Rn(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function _3(t){return t.nodeType===t.ELEMENT_NODE}function w3(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Uy(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var x3=Gk,sR=Yk,oR=Xk,aR=Jk,lR=Zk,cR=tR,uR=Mw;function dR(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=dR(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function hR(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=dR(t))&&(r&&(r+=" "),r+=e);return r}const CS=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,TS=hR,gg=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return TS(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:s}=e,o=Object.keys(i).map(c=>{const h=n==null?void 0:n[c],p=s==null?void 0:s[c];if(h===null)return null;const m=CS(h)||CS(p);return i[c][m]}),a=n&&Object.entries(n).reduce((c,h)=>{let[p,m]=h;return m===void 0||(c[p]=m),c},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((c,h)=>{let{class:p,className:m,...w}=h;return Object.entries(w).every(T=>{let[_,I]=T;return Array.isArray(I)?I.includes({...s,...a}[_]):{...s,...a}[_]===I})?[...c,p,m]:c},[]);return TS(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b3=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),fR=(...t)=>t.filter((e,n,r)=>!!e&&r.indexOf(e)===n).join(" ");/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var S3={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E3=S.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:s,iconNode:o,...a},l)=>S.createElement("svg",{ref:l,...S3,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:fR("lucide",i),...a},[...o.map(([c,h])=>S.createElement(c,h)),...Array.isArray(s)?s:[s]]));/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ht=(t,e)=>{const n=S.forwardRef(({className:r,...i},s)=>S.createElement(E3,{ref:s,iconNode:e,className:fR(`lucide-${b3(t)}`,r),...i}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pR=ht("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mR=ht("ChefHat",[["path",{d:"M17 21a1 1 0 0 0 1-1v-5.35c0-.457.316-.844.727-1.041a4 4 0 0 0-2.134-7.589 5 5 0 0 0-9.186 0 4 4 0 0 0-2.134 7.588c.411.198.727.585.727 1.041V20a1 1 0 0 0 1 1Z",key:"1qvrer"}],["path",{d:"M6 17h12",key:"1jwigz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gR=ht("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C3=ht("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T3=ht("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P3=ht("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const om=ht("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I3=ht("CloudUpload",[["path",{d:"M12 13v8",key:"1l5pq0"}],["path",{d:"M4 14.899A7 7 0 1 1 15.71 8h1.79a4.5 4.5 0 0 1 2.5 8.242",key:"1pljnt"}],["path",{d:"m8 17 4-4 4 4",key:"1quai1"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T_=ht("CreditCard",[["rect",{width:"20",height:"14",x:"2",y:"5",rx:"2",key:"ynyp8z"}],["line",{x1:"2",x2:"22",y1:"10",y2:"10",key:"1b3vmo"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k3=ht("DollarSign",[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R3=ht("House",[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-5.999a2 2 0 0 1 2.582 0l7 5.999A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"1d0kgt"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const A3=ht("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N3=ht("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yR=ht("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O3=ht("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const D3=ht("Percent",[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jw=ht("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const M3=ht("QrCode",[["rect",{width:"5",height:"5",x:"3",y:"3",rx:"1",key:"1tu5fj"}],["rect",{width:"5",height:"5",x:"16",y:"3",rx:"1",key:"1v8r4q"}],["rect",{width:"5",height:"5",x:"3",y:"16",rx:"1",key:"1x03jg"}],["path",{d:"M21 16h-3a2 2 0 0 0-2 2v3",key:"177gqh"}],["path",{d:"M21 21v.01",key:"ents32"}],["path",{d:"M12 7v3a2 2 0 0 1-2 2H7",key:"8crl2c"}],["path",{d:"M3 12h.01",key:"nlz23k"}],["path",{d:"M12 3h.01",key:"n36tog"}],["path",{d:"M12 16v.01",key:"133mhm"}],["path",{d:"M16 12h1",key:"1slzba"}],["path",{d:"M21 12v.01",key:"1lwtk9"}],["path",{d:"M12 21v-1",key:"1880an"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vR=ht("Receipt",[["path",{d:"M4 2v20l2-1 2 1 2-1 2 1 2-1 2 1 2-1 2 1V2l-2 1-2-1-2 1-2-1-2 1-2-1-2 1Z",key:"q3az6g"}],["path",{d:"M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8",key:"1h4pet"}],["path",{d:"M12 17.5v-11",key:"1jc1ny"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j3=ht("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PS=ht("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const L3=ht("Smartphone",[["rect",{width:"14",height:"20",x:"5",y:"2",rx:"2",ry:"2",key:"1yt0o3"}],["path",{d:"M12 18h.01",key:"mhygvu"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const F3=ht("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a1 1 0 0 1 3 3l-9.013 9.014a2 2 0 0 1-.853.505l-2.873.84a.5.5 0 0 1-.62-.62l.84-2.873a2 2 0 0 1 .506-.852z",key:"ohrbg2"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const V3=ht("Timer",[["line",{x1:"10",x2:"14",y1:"2",y2:"2",key:"14vaq8"}],["line",{x1:"12",x2:"15",y1:"14",y2:"11",key:"17fdiu"}],["circle",{cx:"12",cy:"14",r:"8",key:"1e1u0o"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _R=ht("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const U3=ht("Wallet",[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const B3=ht("WifiOff",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}],["path",{d:"M5 12.859a10 10 0 0 1 5.17-2.69",key:"1dl1wf"}],["path",{d:"M19 12.859a10 10 0 0 0-2.007-1.523",key:"4k23kn"}],["path",{d:"M2 8.82a15 15 0 0 1 4.177-2.643",key:"1grhjp"}],["path",{d:"M22 8.82a15 15 0 0 0-11.288-3.764",key:"z3jwby"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $3=ht("Wifi",[["path",{d:"M12 20h.01",key:"zekei9"}],["path",{d:"M2 8.82a15 15 0 0 1 20 0",key:"dnpr2z"}],["path",{d:"M5 12.859a10 10 0 0 1 14 0",key:"1x1e6c"}],["path",{d:"M8.5 16.429a5 5 0 0 1 7 0",key:"1bycff"}]]);/**
 * @license lucide-react v0.453.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wR=ht("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Lw="-",z3=t=>{const e=H3(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Lw);return a[0]===""&&a.length!==1&&a.shift(),xR(a,e)||W3(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},xR=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?xR(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const s=t.join(Lw);return(o=e.validators.find(({validator:a})=>a(s)))==null?void 0:o.classGroupId},IS=/^\[(.+)\]$/,W3=t=>{if(IS.test(t)){const e=IS.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},H3=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return G3(Object.entries(t.classGroups),n).forEach(([s,o])=>{P_(o,r,s,e)}),r},P_=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const s=i===""?e:kS(e,i);s.classGroupId=n;return}if(typeof i=="function"){if(K3(i)){P_(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([s,o])=>{P_(o,kS(e,s),n,r)})})},kS=(t,e)=>{let n=t;return e.split(Lw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},K3=t=>t.isThemeGetter,G3=(t,e)=>e?t.map(([n,r])=>{const i=r.map(s=>typeof s=="string"?e+s:typeof s=="object"?Object.fromEntries(Object.entries(s).map(([o,a])=>[e+o,a])):s);return[n,i]}):t,q3=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(s,o)=>{n.set(s,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(s){let o=n.get(s);if(o!==void 0)return o;if((o=r.get(s))!==void 0)return i(s,o),o},set(s,o){n.has(s)?n.set(s,o):i(s,o)}}},bR="!",Y3=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,i=e[0],s=e.length,o=a=>{const l=[];let c=0,h=0,p;for(let I=0;I<a.length;I++){let b=a[I];if(c===0){if(b===i&&(r||a.slice(I,I+s)===e)){l.push(a.slice(h,I)),h=I+s;continue}if(b==="/"){p=I;continue}}b==="["?c++:b==="]"&&c--}const m=l.length===0?a:a.substring(h),w=m.startsWith(bR),T=w?m.substring(1):m,_=p&&p>h?p-h:void 0;return{modifiers:l,hasImportantModifier:w,baseClassName:T,maybePostfixModifierPosition:_}};return n?a=>n({className:a,parseClassName:o}):o},Q3=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},X3=t=>({cache:q3(t.cacheSize),parseClassName:Y3(t),...z3(t)}),J3=/\s+/,Z3=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i}=e,s=[],o=t.trim().split(J3);let a="";for(let l=o.length-1;l>=0;l-=1){const c=o[l],{modifiers:h,hasImportantModifier:p,baseClassName:m,maybePostfixModifierPosition:w}=n(c);let T=!!w,_=r(T?m.substring(0,w):m);if(!_){if(!T){a=c+(a.length>0?" "+a:a);continue}if(_=r(m),!_){a=c+(a.length>0?" "+a:a);continue}T=!1}const I=Q3(h).join(":"),b=p?I+bR:I,E=b+_;if(s.includes(E))continue;s.push(E);const k=i(_,T);for(let M=0;M<k.length;++M){const U=k[M];s.push(b+U)}a=c+(a.length>0?" "+a:a)}return a};function eV(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=SR(e))&&(r&&(r+=" "),r+=n);return r}const SR=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=SR(t[r]))&&(n&&(n+=" "),n+=e);return n};function tV(t,...e){let n,r,i,s=o;function o(l){const c=e.reduce((h,p)=>p(h),t());return n=X3(c),r=n.cache.get,i=n.cache.set,s=a,a(l)}function a(l){const c=r(l);if(c)return c;const h=Z3(l,n);return i(l,h),h}return function(){return s(eV.apply(null,arguments))}}const St=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},ER=/^\[(?:([a-z-]+):)?(.+)\]$/i,nV=/^\d+\/\d+$/,rV=new Set(["px","full","screen"]),iV=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,sV=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,oV=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,aV=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,lV=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,fs=t=>bc(t)||rV.has(t)||nV.test(t),ao=t=>hu(t,"length",gV),bc=t=>!!t&&!Number.isNaN(Number(t)),By=t=>hu(t,"number",bc),Ku=t=>!!t&&Number.isInteger(Number(t)),cV=t=>t.endsWith("%")&&bc(t.slice(0,-1)),Fe=t=>ER.test(t),lo=t=>iV.test(t),uV=new Set(["length","size","percentage"]),dV=t=>hu(t,uV,CR),hV=t=>hu(t,"position",CR),fV=new Set(["image","url"]),pV=t=>hu(t,fV,vV),mV=t=>hu(t,"",yV),Gu=()=>!0,hu=(t,e,n)=>{const r=ER.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},gV=t=>sV.test(t)&&!oV.test(t),CR=()=>!1,yV=t=>aV.test(t),vV=t=>lV.test(t),_V=()=>{const t=St("colors"),e=St("spacing"),n=St("blur"),r=St("brightness"),i=St("borderColor"),s=St("borderRadius"),o=St("borderSpacing"),a=St("borderWidth"),l=St("contrast"),c=St("grayscale"),h=St("hueRotate"),p=St("invert"),m=St("gap"),w=St("gradientColorStops"),T=St("gradientColorStopPositions"),_=St("inset"),I=St("margin"),b=St("opacity"),E=St("padding"),k=St("saturate"),M=St("scale"),U=St("sepia"),H=St("skew"),N=St("space"),R=St("translate"),j=()=>["auto","contain","none"],D=()=>["auto","hidden","clip","visible","scroll"],B=()=>["auto",Fe,e],L=()=>[Fe,e],F=()=>["",fs,ao],ae=()=>["auto",bc,Fe],Ce=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],xe=()=>["solid","dashed","dotted","double","none"],Te=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],re=()=>["start","end","center","between","around","evenly","stretch"],le=()=>["","0",Fe],_e=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Re=()=>[bc,Fe];return{cacheSize:500,separator:":",theme:{colors:[Gu],spacing:[fs,ao],blur:["none","",lo,Fe],brightness:Re(),borderColor:[t],borderRadius:["none","","full",lo,Fe],borderSpacing:L(),borderWidth:F(),contrast:Re(),grayscale:le(),hueRotate:Re(),invert:le(),gap:L(),gradientColorStops:[t],gradientColorStopPositions:[cV,ao],inset:B(),margin:B(),opacity:Re(),padding:L(),saturate:Re(),scale:Re(),sepia:le(),skew:Re(),space:L(),translate:L()},classGroups:{aspect:[{aspect:["auto","square","video",Fe]}],container:["container"],columns:[{columns:[lo]}],"break-after":[{"break-after":_e()}],"break-before":[{"break-before":_e()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...Ce(),Fe]}],overflow:[{overflow:D()}],"overflow-x":[{"overflow-x":D()}],"overflow-y":[{"overflow-y":D()}],overscroll:[{overscroll:j()}],"overscroll-x":[{"overscroll-x":j()}],"overscroll-y":[{"overscroll-y":j()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[_]}],"inset-x":[{"inset-x":[_]}],"inset-y":[{"inset-y":[_]}],start:[{start:[_]}],end:[{end:[_]}],top:[{top:[_]}],right:[{right:[_]}],bottom:[{bottom:[_]}],left:[{left:[_]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Ku,Fe]}],basis:[{basis:B()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Fe]}],grow:[{grow:le()}],shrink:[{shrink:le()}],order:[{order:["first","last","none",Ku,Fe]}],"grid-cols":[{"grid-cols":[Gu]}],"col-start-end":[{col:["auto",{span:["full",Ku,Fe]},Fe]}],"col-start":[{"col-start":ae()}],"col-end":[{"col-end":ae()}],"grid-rows":[{"grid-rows":[Gu]}],"row-start-end":[{row:["auto",{span:[Ku,Fe]},Fe]}],"row-start":[{"row-start":ae()}],"row-end":[{"row-end":ae()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Fe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Fe]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...re()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...re(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...re(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[E]}],px:[{px:[E]}],py:[{py:[E]}],ps:[{ps:[E]}],pe:[{pe:[E]}],pt:[{pt:[E]}],pr:[{pr:[E]}],pb:[{pb:[E]}],pl:[{pl:[E]}],m:[{m:[I]}],mx:[{mx:[I]}],my:[{my:[I]}],ms:[{ms:[I]}],me:[{me:[I]}],mt:[{mt:[I]}],mr:[{mr:[I]}],mb:[{mb:[I]}],ml:[{ml:[I]}],"space-x":[{"space-x":[N]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[N]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Fe,e]}],"min-w":[{"min-w":[Fe,e,"min","max","fit"]}],"max-w":[{"max-w":[Fe,e,"none","full","min","max","fit","prose",{screen:[lo]},lo]}],h:[{h:[Fe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Fe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Fe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",lo,ao]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",By]}],"font-family":[{font:[Gu]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Fe]}],"line-clamp":[{"line-clamp":["none",bc,By]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",fs,Fe]}],"list-image":[{"list-image":["none",Fe]}],"list-style-type":[{list:["none","disc","decimal",Fe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[b]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[b]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...xe(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",fs,ao]}],"underline-offset":[{"underline-offset":["auto",fs,Fe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:L()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Fe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Fe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[b]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...Ce(),hV]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",dV]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},pV]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[w]}],"gradient-via":[{via:[w]}],"gradient-to":[{to:[w]}],rounded:[{rounded:[s]}],"rounded-s":[{"rounded-s":[s]}],"rounded-e":[{"rounded-e":[s]}],"rounded-t":[{"rounded-t":[s]}],"rounded-r":[{"rounded-r":[s]}],"rounded-b":[{"rounded-b":[s]}],"rounded-l":[{"rounded-l":[s]}],"rounded-ss":[{"rounded-ss":[s]}],"rounded-se":[{"rounded-se":[s]}],"rounded-ee":[{"rounded-ee":[s]}],"rounded-es":[{"rounded-es":[s]}],"rounded-tl":[{"rounded-tl":[s]}],"rounded-tr":[{"rounded-tr":[s]}],"rounded-br":[{"rounded-br":[s]}],"rounded-bl":[{"rounded-bl":[s]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[b]}],"border-style":[{border:[...xe(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[b]}],"divide-style":[{divide:xe()}],"border-color":[{border:[i]}],"border-color-x":[{"border-x":[i]}],"border-color-y":[{"border-y":[i]}],"border-color-s":[{"border-s":[i]}],"border-color-e":[{"border-e":[i]}],"border-color-t":[{"border-t":[i]}],"border-color-r":[{"border-r":[i]}],"border-color-b":[{"border-b":[i]}],"border-color-l":[{"border-l":[i]}],"divide-color":[{divide:[i]}],"outline-style":[{outline:["",...xe()]}],"outline-offset":[{"outline-offset":[fs,Fe]}],"outline-w":[{outline:[fs,ao]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:F()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[b]}],"ring-offset-w":[{"ring-offset":[fs,ao]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",lo,mV]}],"shadow-color":[{shadow:[Gu]}],opacity:[{opacity:[b]}],"mix-blend":[{"mix-blend":[...Te(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":Te()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",lo,Fe]}],grayscale:[{grayscale:[c]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[p]}],saturate:[{saturate:[k]}],sepia:[{sepia:[U]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[c]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[p]}],"backdrop-opacity":[{"backdrop-opacity":[b]}],"backdrop-saturate":[{"backdrop-saturate":[k]}],"backdrop-sepia":[{"backdrop-sepia":[U]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Fe]}],duration:[{duration:Re()}],ease:[{ease:["linear","in","out","in-out",Fe]}],delay:[{delay:Re()}],animate:[{animate:["none","spin","ping","pulse","bounce",Fe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[M]}],"scale-x":[{"scale-x":[M]}],"scale-y":[{"scale-y":[M]}],rotate:[{rotate:[Ku,Fe]}],"translate-x":[{"translate-x":[R]}],"translate-y":[{"translate-y":[R]}],"skew-x":[{"skew-x":[H]}],"skew-y":[{"skew-y":[H]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Fe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Fe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":L()}],"scroll-mx":[{"scroll-mx":L()}],"scroll-my":[{"scroll-my":L()}],"scroll-ms":[{"scroll-ms":L()}],"scroll-me":[{"scroll-me":L()}],"scroll-mt":[{"scroll-mt":L()}],"scroll-mr":[{"scroll-mr":L()}],"scroll-mb":[{"scroll-mb":L()}],"scroll-ml":[{"scroll-ml":L()}],"scroll-p":[{"scroll-p":L()}],"scroll-px":[{"scroll-px":L()}],"scroll-py":[{"scroll-py":L()}],"scroll-ps":[{"scroll-ps":L()}],"scroll-pe":[{"scroll-pe":L()}],"scroll-pt":[{"scroll-pt":L()}],"scroll-pr":[{"scroll-pr":L()}],"scroll-pb":[{"scroll-pb":L()}],"scroll-pl":[{"scroll-pl":L()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Fe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[fs,ao,By]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},wV=tV(_V);function De(...t){return wV(hR(t))}const xV=x3,TR=S.forwardRef(({className:t,...e},n)=>g.jsx(sR,{ref:n,className:De("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));TR.displayName=sR.displayName;const bV=gg("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),PR=S.forwardRef(({className:t,variant:e,...n},r)=>g.jsx(oR,{ref:r,className:De(bV({variant:e}),t),...n}));PR.displayName=oR.displayName;const SV=S.forwardRef(({className:t,...e},n)=>g.jsx(cR,{ref:n,className:De("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors hover:bg-secondary focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-muted/40 group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground group-[.destructive]:focus:ring-destructive",t),...e}));SV.displayName=cR.displayName;const IR=S.forwardRef(({className:t,...e},n)=>g.jsx(uR,{ref:n,className:De("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity hover:text-foreground focus:opacity-100 focus:outline-none focus:ring-2 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:g.jsx(wR,{className:"h-4 w-4"})}));IR.displayName=uR.displayName;const kR=S.forwardRef(({className:t,...e},n)=>g.jsx(aR,{ref:n,className:De("text-sm font-semibold",t),...e}));kR.displayName=aR.displayName;const RR=S.forwardRef(({className:t,...e},n)=>g.jsx(lR,{ref:n,className:De("text-sm opacity-90",t),...e}));RR.displayName=lR.displayName;function EV(){const{toasts:t}=Aw();return g.jsxs(xV,{children:[t.map(function({id:e,title:n,description:r,action:i,...s}){return g.jsxs(PR,{...s,children:[g.jsxs("div",{className:"grid gap-1",children:[n&&g.jsx(kR,{children:n}),r&&g.jsx(RR,{children:r})]}),i,g.jsx(IR,{})]},e)}),g.jsx(TR,{})]})}var CV=vP[" useId ".trim().toString()]||(()=>{}),TV=0;function tl(t){const[e,n]=S.useState(CV());return Rn(()=>{n(r=>r??String(TV++))},[t]),e?`radix-${e}`:""}const PV=["top","right","bottom","left"],qo=Math.min,dr=Math.max,am=Math.round,Uf=Math.floor,Hi=t=>({x:t,y:t}),IV={left:"right",right:"left",bottom:"top",top:"bottom"},kV={start:"end",end:"start"};function I_(t,e,n){return dr(t,qo(e,n))}function Ms(t,e){return typeof t=="function"?t(e):t}function js(t){return t.split("-")[0]}function fu(t){return t.split("-")[1]}function Fw(t){return t==="x"?"y":"x"}function Vw(t){return t==="y"?"height":"width"}function Yo(t){return["top","bottom"].includes(js(t))?"y":"x"}function Uw(t){return Fw(Yo(t))}function RV(t,e,n){n===void 0&&(n=!1);const r=fu(t),i=Uw(t),s=Vw(i);let o=i==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[s]>e.floating[s]&&(o=lm(o)),[o,lm(o)]}function AV(t){const e=lm(t);return[k_(t),e,k_(e)]}function k_(t){return t.replace(/start|end/g,e=>kV[e])}function NV(t,e,n){const r=["left","right"],i=["right","left"],s=["top","bottom"],o=["bottom","top"];switch(t){case"top":case"bottom":return n?e?i:r:e?r:i;case"left":case"right":return e?s:o;default:return[]}}function OV(t,e,n,r){const i=fu(t);let s=NV(js(t),n==="start",r);return i&&(s=s.map(o=>o+"-"+i),e&&(s=s.concat(s.map(k_)))),s}function lm(t){return t.replace(/left|right|bottom|top/g,e=>IV[e])}function DV(t){return{top:0,right:0,bottom:0,left:0,...t}}function AR(t){return typeof t!="number"?DV(t):{top:t,right:t,bottom:t,left:t}}function cm(t){const{x:e,y:n,width:r,height:i}=t;return{width:r,height:i,top:n,left:e,right:e+r,bottom:n+i,x:e,y:n}}function RS(t,e,n){let{reference:r,floating:i}=t;const s=Yo(e),o=Uw(e),a=Vw(o),l=js(e),c=s==="y",h=r.x+r.width/2-i.width/2,p=r.y+r.height/2-i.height/2,m=r[a]/2-i[a]/2;let w;switch(l){case"top":w={x:h,y:r.y-i.height};break;case"bottom":w={x:h,y:r.y+r.height};break;case"right":w={x:r.x+r.width,y:p};break;case"left":w={x:r.x-i.width,y:p};break;default:w={x:r.x,y:r.y}}switch(fu(e)){case"start":w[o]-=m*(n&&c?-1:1);break;case"end":w[o]+=m*(n&&c?-1:1);break}return w}const MV=async(t,e,n)=>{const{placement:r="bottom",strategy:i="absolute",middleware:s=[],platform:o}=n,a=s.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let c=await o.getElementRects({reference:t,floating:e,strategy:i}),{x:h,y:p}=RS(c,r,l),m=r,w={},T=0;for(let _=0;_<a.length;_++){const{name:I,fn:b}=a[_],{x:E,y:k,data:M,reset:U}=await b({x:h,y:p,initialPlacement:r,placement:m,strategy:i,middlewareData:w,rects:c,platform:o,elements:{reference:t,floating:e}});h=E??h,p=k??p,w={...w,[I]:{...w[I],...M}},U&&T<=50&&(T++,typeof U=="object"&&(U.placement&&(m=U.placement),U.rects&&(c=U.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:i}):U.rects),{x:h,y:p}=RS(c,m,l)),_=-1)}return{x:h,y:p,placement:m,strategy:i,middlewareData:w}};async function rh(t,e){var n;e===void 0&&(e={});const{x:r,y:i,platform:s,rects:o,elements:a,strategy:l}=t,{boundary:c="clippingAncestors",rootBoundary:h="viewport",elementContext:p="floating",altBoundary:m=!1,padding:w=0}=Ms(e,t),T=AR(w),I=a[m?p==="floating"?"reference":"floating":p],b=cm(await s.getClippingRect({element:(n=await(s.isElement==null?void 0:s.isElement(I)))==null||n?I:I.contextElement||await(s.getDocumentElement==null?void 0:s.getDocumentElement(a.floating)),boundary:c,rootBoundary:h,strategy:l})),E=p==="floating"?{x:r,y:i,width:o.floating.width,height:o.floating.height}:o.reference,k=await(s.getOffsetParent==null?void 0:s.getOffsetParent(a.floating)),M=await(s.isElement==null?void 0:s.isElement(k))?await(s.getScale==null?void 0:s.getScale(k))||{x:1,y:1}:{x:1,y:1},U=cm(s.convertOffsetParentRelativeRectToViewportRelativeRect?await s.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:E,offsetParent:k,strategy:l}):E);return{top:(b.top-U.top+T.top)/M.y,bottom:(U.bottom-b.bottom+T.bottom)/M.y,left:(b.left-U.left+T.left)/M.x,right:(U.right-b.right+T.right)/M.x}}const jV=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:i,rects:s,platform:o,elements:a,middlewareData:l}=e,{element:c,padding:h=0}=Ms(t,e)||{};if(c==null)return{};const p=AR(h),m={x:n,y:r},w=Uw(i),T=Vw(w),_=await o.getDimensions(c),I=w==="y",b=I?"top":"left",E=I?"bottom":"right",k=I?"clientHeight":"clientWidth",M=s.reference[T]+s.reference[w]-m[w]-s.floating[T],U=m[w]-s.reference[w],H=await(o.getOffsetParent==null?void 0:o.getOffsetParent(c));let N=H?H[k]:0;(!N||!await(o.isElement==null?void 0:o.isElement(H)))&&(N=a.floating[k]||s.floating[T]);const R=M/2-U/2,j=N/2-_[T]/2-1,D=qo(p[b],j),B=qo(p[E],j),L=D,F=N-_[T]-B,ae=N/2-_[T]/2+R,Ce=I_(L,ae,F),xe=!l.arrow&&fu(i)!=null&&ae!==Ce&&s.reference[T]/2-(ae<L?D:B)-_[T]/2<0,Te=xe?ae<L?ae-L:ae-F:0;return{[w]:m[w]+Te,data:{[w]:Ce,centerOffset:ae-Ce-Te,...xe&&{alignmentOffset:Te}},reset:xe}}}),LV=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:i,middlewareData:s,rects:o,initialPlacement:a,platform:l,elements:c}=e,{mainAxis:h=!0,crossAxis:p=!0,fallbackPlacements:m,fallbackStrategy:w="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:_=!0,...I}=Ms(t,e);if((n=s.arrow)!=null&&n.alignmentOffset)return{};const b=js(i),E=Yo(a),k=js(a)===a,M=await(l.isRTL==null?void 0:l.isRTL(c.floating)),U=m||(k||!_?[lm(a)]:AV(a)),H=T!=="none";!m&&H&&U.push(...OV(a,_,T,M));const N=[a,...U],R=await rh(e,I),j=[];let D=((r=s.flip)==null?void 0:r.overflows)||[];if(h&&j.push(R[b]),p){const ae=RV(i,o,M);j.push(R[ae[0]],R[ae[1]])}if(D=[...D,{placement:i,overflows:j}],!j.every(ae=>ae<=0)){var B,L;const ae=(((B=s.flip)==null?void 0:B.index)||0)+1,Ce=N[ae];if(Ce)return{data:{index:ae,overflows:D},reset:{placement:Ce}};let xe=(L=D.filter(Te=>Te.overflows[0]<=0).sort((Te,re)=>Te.overflows[1]-re.overflows[1])[0])==null?void 0:L.placement;if(!xe)switch(w){case"bestFit":{var F;const Te=(F=D.filter(re=>{if(H){const le=Yo(re.placement);return le===E||le==="y"}return!0}).map(re=>[re.placement,re.overflows.filter(le=>le>0).reduce((le,_e)=>le+_e,0)]).sort((re,le)=>re[1]-le[1])[0])==null?void 0:F[0];Te&&(xe=Te);break}case"initialPlacement":xe=a;break}if(i!==xe)return{reset:{placement:xe}}}return{}}}};function AS(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function NS(t){return PV.some(e=>t[e]>=0)}const FV=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...i}=Ms(t,e);switch(r){case"referenceHidden":{const s=await rh(e,{...i,elementContext:"reference"}),o=AS(s,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:NS(o)}}}case"escaped":{const s=await rh(e,{...i,altBoundary:!0}),o=AS(s,n.floating);return{data:{escapedOffsets:o,escaped:NS(o)}}}default:return{}}}}};async function VV(t,e){const{placement:n,platform:r,elements:i}=t,s=await(r.isRTL==null?void 0:r.isRTL(i.floating)),o=js(n),a=fu(n),l=Yo(n)==="y",c=["left","top"].includes(o)?-1:1,h=s&&l?-1:1,p=Ms(e,t);let{mainAxis:m,crossAxis:w,alignmentAxis:T}=typeof p=="number"?{mainAxis:p,crossAxis:0,alignmentAxis:null}:{mainAxis:p.mainAxis||0,crossAxis:p.crossAxis||0,alignmentAxis:p.alignmentAxis};return a&&typeof T=="number"&&(w=a==="end"?T*-1:T),l?{x:w*h,y:m*c}:{x:m*c,y:w*h}}const UV=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:i,y:s,placement:o,middlewareData:a}=e,l=await VV(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:i+l.x,y:s+l.y,data:{...l,placement:o}}}}},BV=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:i}=e,{mainAxis:s=!0,crossAxis:o=!1,limiter:a={fn:I=>{let{x:b,y:E}=I;return{x:b,y:E}}},...l}=Ms(t,e),c={x:n,y:r},h=await rh(e,l),p=Yo(js(i)),m=Fw(p);let w=c[m],T=c[p];if(s){const I=m==="y"?"top":"left",b=m==="y"?"bottom":"right",E=w+h[I],k=w-h[b];w=I_(E,w,k)}if(o){const I=p==="y"?"top":"left",b=p==="y"?"bottom":"right",E=T+h[I],k=T-h[b];T=I_(E,T,k)}const _=a.fn({...e,[m]:w,[p]:T});return{..._,data:{x:_.x-n,y:_.y-r,enabled:{[m]:s,[p]:o}}}}}},$V=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:i,rects:s,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:c=!0}=Ms(t,e),h={x:n,y:r},p=Yo(i),m=Fw(p);let w=h[m],T=h[p];const _=Ms(a,e),I=typeof _=="number"?{mainAxis:_,crossAxis:0}:{mainAxis:0,crossAxis:0,..._};if(l){const k=m==="y"?"height":"width",M=s.reference[m]-s.floating[k]+I.mainAxis,U=s.reference[m]+s.reference[k]-I.mainAxis;w<M?w=M:w>U&&(w=U)}if(c){var b,E;const k=m==="y"?"width":"height",M=["top","left"].includes(js(i)),U=s.reference[p]-s.floating[k]+(M&&((b=o.offset)==null?void 0:b[p])||0)+(M?0:I.crossAxis),H=s.reference[p]+s.reference[k]+(M?0:((E=o.offset)==null?void 0:E[p])||0)-(M?I.crossAxis:0);T<U?T=U:T>H&&(T=H)}return{[m]:w,[p]:T}}}},zV=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:i,rects:s,platform:o,elements:a}=e,{apply:l=()=>{},...c}=Ms(t,e),h=await rh(e,c),p=js(i),m=fu(i),w=Yo(i)==="y",{width:T,height:_}=s.floating;let I,b;p==="top"||p==="bottom"?(I=p,b=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(b=p,I=m==="end"?"top":"bottom");const E=_-h.top-h.bottom,k=T-h.left-h.right,M=qo(_-h[I],E),U=qo(T-h[b],k),H=!e.middlewareData.shift;let N=M,R=U;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(R=k),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(N=E),H&&!m){const D=dr(h.left,0),B=dr(h.right,0),L=dr(h.top,0),F=dr(h.bottom,0);w?R=T-2*(D!==0||B!==0?D+B:dr(h.left,h.right)):N=_-2*(L!==0||F!==0?L+F:dr(h.top,h.bottom))}await l({...e,availableWidth:R,availableHeight:N});const j=await o.getDimensions(a.floating);return T!==j.width||_!==j.height?{reset:{rects:!0}}:{}}}};function yg(){return typeof window<"u"}function pu(t){return NR(t)?(t.nodeName||"").toLowerCase():"#document"}function gr(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function Zi(t){var e;return(e=(NR(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function NR(t){return yg()?t instanceof Node||t instanceof gr(t).Node:!1}function wi(t){return yg()?t instanceof Element||t instanceof gr(t).Element:!1}function Qi(t){return yg()?t instanceof HTMLElement||t instanceof gr(t).HTMLElement:!1}function OS(t){return!yg()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof gr(t).ShadowRoot}function jh(t){const{overflow:e,overflowX:n,overflowY:r,display:i}=xi(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!["inline","contents"].includes(i)}function WV(t){return["table","td","th"].includes(pu(t))}function vg(t){return[":popover-open",":modal"].some(e=>{try{return t.matches(e)}catch{return!1}})}function Bw(t){const e=$w(),n=wi(t)?xi(t):t;return["transform","translate","scale","rotate","perspective"].some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(n.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(n.contain||"").includes(r))}function HV(t){let e=Qo(t);for(;Qi(e)&&!Yc(e);){if(Bw(e))return e;if(vg(e))return null;e=Qo(e)}return null}function $w(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function Yc(t){return["html","body","#document"].includes(pu(t))}function xi(t){return gr(t).getComputedStyle(t)}function _g(t){return wi(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Qo(t){if(pu(t)==="html")return t;const e=t.assignedSlot||t.parentNode||OS(t)&&t.host||Zi(t);return OS(e)?e.host:e}function OR(t){const e=Qo(t);return Yc(e)?t.ownerDocument?t.ownerDocument.body:t.body:Qi(e)&&jh(e)?e:OR(e)}function ih(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const i=OR(t),s=i===((r=t.ownerDocument)==null?void 0:r.body),o=gr(i);if(s){const a=R_(o);return e.concat(o,o.visualViewport||[],jh(i)?i:[],a&&n?ih(a):[])}return e.concat(i,ih(i,[],n))}function R_(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function DR(t){const e=xi(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const i=Qi(t),s=i?t.offsetWidth:n,o=i?t.offsetHeight:r,a=am(n)!==s||am(r)!==o;return a&&(n=s,r=o),{width:n,height:r,$:a}}function zw(t){return wi(t)?t:t.contextElement}function Sc(t){const e=zw(t);if(!Qi(e))return Hi(1);const n=e.getBoundingClientRect(),{width:r,height:i,$:s}=DR(e);let o=(s?am(n.width):n.width)/r,a=(s?am(n.height):n.height)/i;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const KV=Hi(0);function MR(t){const e=gr(t);return!$w()||!e.visualViewport?KV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function GV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==gr(t)?!1:e}function hl(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const i=t.getBoundingClientRect(),s=zw(t);let o=Hi(1);e&&(r?wi(r)&&(o=Sc(r)):o=Sc(t));const a=GV(s,n,r)?MR(s):Hi(0);let l=(i.left+a.x)/o.x,c=(i.top+a.y)/o.y,h=i.width/o.x,p=i.height/o.y;if(s){const m=gr(s),w=r&&wi(r)?gr(r):r;let T=m,_=R_(T);for(;_&&r&&w!==T;){const I=Sc(_),b=_.getBoundingClientRect(),E=xi(_),k=b.left+(_.clientLeft+parseFloat(E.paddingLeft))*I.x,M=b.top+(_.clientTop+parseFloat(E.paddingTop))*I.y;l*=I.x,c*=I.y,h*=I.x,p*=I.y,l+=k,c+=M,T=gr(_),_=R_(T)}}return cm({width:h,height:p,x:l,y:c})}function Ww(t,e){const n=_g(t).scrollLeft;return e?e.left+n:hl(Zi(t)).left+n}function jR(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),i=r.left+e.scrollLeft-(n?0:Ww(t,r)),s=r.top+e.scrollTop;return{x:i,y:s}}function qV(t){let{elements:e,rect:n,offsetParent:r,strategy:i}=t;const s=i==="fixed",o=Zi(r),a=e?vg(e.floating):!1;if(r===o||a&&s)return n;let l={scrollLeft:0,scrollTop:0},c=Hi(1);const h=Hi(0),p=Qi(r);if((p||!p&&!s)&&((pu(r)!=="body"||jh(o))&&(l=_g(r)),Qi(r))){const w=hl(r);c=Sc(r),h.x=w.x+r.clientLeft,h.y=w.y+r.clientTop}const m=o&&!p&&!s?jR(o,l,!0):Hi(0);return{width:n.width*c.x,height:n.height*c.y,x:n.x*c.x-l.scrollLeft*c.x+h.x+m.x,y:n.y*c.y-l.scrollTop*c.y+h.y+m.y}}function YV(t){return Array.from(t.getClientRects())}function QV(t){const e=Zi(t),n=_g(t),r=t.ownerDocument.body,i=dr(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),s=dr(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Ww(t);const a=-n.scrollTop;return xi(r).direction==="rtl"&&(o+=dr(e.clientWidth,r.clientWidth)-i),{width:i,height:s,x:o,y:a}}function XV(t,e){const n=gr(t),r=Zi(t),i=n.visualViewport;let s=r.clientWidth,o=r.clientHeight,a=0,l=0;if(i){s=i.width,o=i.height;const c=$w();(!c||c&&e==="fixed")&&(a=i.offsetLeft,l=i.offsetTop)}return{width:s,height:o,x:a,y:l}}function JV(t,e){const n=hl(t,!0,e==="fixed"),r=n.top+t.clientTop,i=n.left+t.clientLeft,s=Qi(t)?Sc(t):Hi(1),o=t.clientWidth*s.x,a=t.clientHeight*s.y,l=i*s.x,c=r*s.y;return{width:o,height:a,x:l,y:c}}function DS(t,e,n){let r;if(e==="viewport")r=XV(t,n);else if(e==="document")r=QV(Zi(t));else if(wi(e))r=JV(e,n);else{const i=MR(t);r={x:e.x-i.x,y:e.y-i.y,width:e.width,height:e.height}}return cm(r)}function LR(t,e){const n=Qo(t);return n===e||!wi(n)||Yc(n)?!1:xi(n).position==="fixed"||LR(n,e)}function ZV(t,e){const n=e.get(t);if(n)return n;let r=ih(t,[],!1).filter(a=>wi(a)&&pu(a)!=="body"),i=null;const s=xi(t).position==="fixed";let o=s?Qo(t):t;for(;wi(o)&&!Yc(o);){const a=xi(o),l=Bw(o);!l&&a.position==="fixed"&&(i=null),(s?!l&&!i:!l&&a.position==="static"&&!!i&&["absolute","fixed"].includes(i.position)||jh(o)&&!l&&LR(t,o))?r=r.filter(h=>h!==o):i=a,o=Qo(o)}return e.set(t,r),r}function e5(t){let{element:e,boundary:n,rootBoundary:r,strategy:i}=t;const o=[...n==="clippingAncestors"?vg(e)?[]:ZV(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((c,h)=>{const p=DS(e,h,i);return c.top=dr(p.top,c.top),c.right=qo(p.right,c.right),c.bottom=qo(p.bottom,c.bottom),c.left=dr(p.left,c.left),c},DS(e,a,i));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function t5(t){const{width:e,height:n}=DR(t);return{width:e,height:n}}function n5(t,e,n){const r=Qi(e),i=Zi(e),s=n==="fixed",o=hl(t,!0,s,e);let a={scrollLeft:0,scrollTop:0};const l=Hi(0);if(r||!r&&!s)if((pu(e)!=="body"||jh(i))&&(a=_g(e)),r){const m=hl(e,!0,s,e);l.x=m.x+e.clientLeft,l.y=m.y+e.clientTop}else i&&(l.x=Ww(i));const c=i&&!r&&!s?jR(i,a):Hi(0),h=o.left+a.scrollLeft-l.x-c.x,p=o.top+a.scrollTop-l.y-c.y;return{x:h,y:p,width:o.width,height:o.height}}function $y(t){return xi(t).position==="static"}function MS(t,e){if(!Qi(t)||xi(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return Zi(t)===n&&(n=n.ownerDocument.body),n}function FR(t,e){const n=gr(t);if(vg(t))return n;if(!Qi(t)){let i=Qo(t);for(;i&&!Yc(i);){if(wi(i)&&!$y(i))return i;i=Qo(i)}return n}let r=MS(t,e);for(;r&&WV(r)&&$y(r);)r=MS(r,e);return r&&Yc(r)&&$y(r)&&!Bw(r)?n:r||HV(t)||n}const r5=async function(t){const e=this.getOffsetParent||FR,n=this.getDimensions,r=await n(t.floating);return{reference:n5(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function i5(t){return xi(t).direction==="rtl"}const s5={convertOffsetParentRelativeRectToViewportRelativeRect:qV,getDocumentElement:Zi,getClippingRect:e5,getOffsetParent:FR,getElementRects:r5,getClientRects:YV,getDimensions:t5,getScale:Sc,isElement:wi,isRTL:i5};function VR(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function o5(t,e){let n=null,r;const i=Zi(t);function s(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),s();const c=t.getBoundingClientRect(),{left:h,top:p,width:m,height:w}=c;if(a||e(),!m||!w)return;const T=Uf(p),_=Uf(i.clientWidth-(h+m)),I=Uf(i.clientHeight-(p+w)),b=Uf(h),k={rootMargin:-T+"px "+-_+"px "+-I+"px "+-b+"px",threshold:dr(0,qo(1,l))||1};let M=!0;function U(H){const N=H[0].intersectionRatio;if(N!==l){if(!M)return o();N?o(!1,N):r=setTimeout(()=>{o(!1,1e-7)},1e3)}N===1&&!VR(c,t.getBoundingClientRect())&&o(),M=!1}try{n=new IntersectionObserver(U,{...k,root:i.ownerDocument})}catch{n=new IntersectionObserver(U,k)}n.observe(t)}return o(!0),s}function a5(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:i=!0,ancestorResize:s=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,c=zw(t),h=i||s?[...c?ih(c):[],...ih(e)]:[];h.forEach(b=>{i&&b.addEventListener("scroll",n,{passive:!0}),s&&b.addEventListener("resize",n)});const p=c&&a?o5(c,n):null;let m=-1,w=null;o&&(w=new ResizeObserver(b=>{let[E]=b;E&&E.target===c&&w&&(w.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var k;(k=w)==null||k.observe(e)})),n()}),c&&!l&&w.observe(c),w.observe(e));let T,_=l?hl(t):null;l&&I();function I(){const b=hl(t);_&&!VR(_,b)&&n(),_=b,T=requestAnimationFrame(I)}return n(),()=>{var b;h.forEach(E=>{i&&E.removeEventListener("scroll",n),s&&E.removeEventListener("resize",n)}),p==null||p(),(b=w)==null||b.disconnect(),w=null,l&&cancelAnimationFrame(T)}}const l5=UV,c5=BV,u5=LV,d5=zV,h5=FV,jS=jV,f5=$V,p5=(t,e,n)=>{const r=new Map,i={platform:s5,...n},s={...i.platform,_c:r};return MV(t,e,{...i,platform:s})};var vp=typeof document<"u"?S.useLayoutEffect:S.useEffect;function um(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,i;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!um(t[r],e[r]))return!1;return!0}if(i=Object.keys(t),n=i.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,i[r]))return!1;for(r=n;r--!==0;){const s=i[r];if(!(s==="_owner"&&t.$$typeof)&&!um(t[s],e[s]))return!1}return!0}return t!==t&&e!==e}function UR(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function LS(t,e){const n=UR(t);return Math.round(e*n)/n}function zy(t){const e=S.useRef(t);return vp(()=>{e.current=t}),e}function m5(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:i,elements:{reference:s,floating:o}={},transform:a=!0,whileElementsMounted:l,open:c}=t,[h,p]=S.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,w]=S.useState(r);um(m,r)||w(r);const[T,_]=S.useState(null),[I,b]=S.useState(null),E=S.useCallback(re=>{re!==H.current&&(H.current=re,_(re))},[]),k=S.useCallback(re=>{re!==N.current&&(N.current=re,b(re))},[]),M=s||T,U=o||I,H=S.useRef(null),N=S.useRef(null),R=S.useRef(h),j=l!=null,D=zy(l),B=zy(i),L=zy(c),F=S.useCallback(()=>{if(!H.current||!N.current)return;const re={placement:e,strategy:n,middleware:m};B.current&&(re.platform=B.current),p5(H.current,N.current,re).then(le=>{const _e={...le,isPositioned:L.current!==!1};ae.current&&!um(R.current,_e)&&(R.current=_e,bl.flushSync(()=>{p(_e)}))})},[m,e,n,B,L]);vp(()=>{c===!1&&R.current.isPositioned&&(R.current.isPositioned=!1,p(re=>({...re,isPositioned:!1})))},[c]);const ae=S.useRef(!1);vp(()=>(ae.current=!0,()=>{ae.current=!1}),[]),vp(()=>{if(M&&(H.current=M),U&&(N.current=U),M&&U){if(D.current)return D.current(M,U,F);F()}},[M,U,F,D,j]);const Ce=S.useMemo(()=>({reference:H,floating:N,setReference:E,setFloating:k}),[E,k]),xe=S.useMemo(()=>({reference:M,floating:U}),[M,U]),Te=S.useMemo(()=>{const re={position:n,left:0,top:0};if(!xe.floating)return re;const le=LS(xe.floating,h.x),_e=LS(xe.floating,h.y);return a?{...re,transform:"translate("+le+"px, "+_e+"px)",...UR(xe.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:le,top:_e}},[n,a,xe.floating,h.x,h.y]);return S.useMemo(()=>({...h,update:F,refs:Ce,elements:xe,floatingStyles:Te}),[h,F,Ce,xe,Te])}const g5=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:i}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?jS({element:r.current,padding:i}).fn(n):{}:r?jS({element:r,padding:i}).fn(n):{}}}},y5=(t,e)=>({...l5(t),options:[t,e]}),v5=(t,e)=>({...c5(t),options:[t,e]}),_5=(t,e)=>({...f5(t),options:[t,e]}),w5=(t,e)=>({...u5(t),options:[t,e]}),x5=(t,e)=>({...d5(t),options:[t,e]}),b5=(t,e)=>({...h5(t),options:[t,e]}),S5=(t,e)=>({...g5(t),options:[t,e]});var E5="Arrow",BR=S.forwardRef((t,e)=>{const{children:n,width:r=10,height:i=5,...s}=t;return g.jsx(Ve.svg,{...s,ref:e,width:r,height:i,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:g.jsx("polygon",{points:"0,0 30,0 15,10"})})});BR.displayName=E5;var C5=BR;function Hw(t){const[e,n]=S.useState(void 0);return Rn(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const s=i[0];let o,a;if("borderBoxSize"in s){const l=s.borderBoxSize,c=Array.isArray(l)?l[0]:l;o=c.inlineSize,a=c.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Kw="Popper",[$R,wg]=Ji(Kw),[T5,zR]=$R(Kw),WR=t=>{const{__scopePopper:e,children:n}=t,[r,i]=S.useState(null);return g.jsx(T5,{scope:e,anchor:r,onAnchorChange:i,children:n})};WR.displayName=Kw;var HR="PopperAnchor",KR=S.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...i}=t,s=zR(HR,n),o=S.useRef(null),a=dt(e,o);return S.useEffect(()=>{s.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:g.jsx(Ve.div,{...i,ref:a})});KR.displayName=HR;var Gw="PopperContent",[P5,I5]=$R(Gw),GR=S.forwardRef((t,e)=>{var Ie,it,we,st,qe,Pe;const{__scopePopper:n,side:r="bottom",sideOffset:i=0,align:s="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:c=[],collisionPadding:h=0,sticky:p="partial",hideWhenDetached:m=!1,updatePositionStrategy:w="optimized",onPlaced:T,..._}=t,I=zR(Gw,n),[b,E]=S.useState(null),k=dt(e,It=>E(It)),[M,U]=S.useState(null),H=Hw(M),N=(H==null?void 0:H.width)??0,R=(H==null?void 0:H.height)??0,j=r+(s!=="center"?"-"+s:""),D=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},B=Array.isArray(c)?c:[c],L=B.length>0,F={padding:D,boundary:B.filter(R5),altBoundary:L},{refs:ae,floatingStyles:Ce,placement:xe,isPositioned:Te,middlewareData:re}=m5({strategy:"fixed",placement:j,whileElementsMounted:(...It)=>a5(...It,{animationFrame:w==="always"}),elements:{reference:I.anchor},middleware:[y5({mainAxis:i+R,alignmentAxis:o}),l&&v5({mainAxis:!0,crossAxis:!1,limiter:p==="partial"?_5():void 0,...F}),l&&w5({...F}),x5({...F,apply:({elements:It,rects:An,availableWidth:Nn,availableHeight:$r})=>{const{width:zr,height:Tl}=An.reference,kt=It.floating.style;kt.setProperty("--radix-popper-available-width",`${Nn}px`),kt.setProperty("--radix-popper-available-height",`${$r}px`),kt.setProperty("--radix-popper-anchor-width",`${zr}px`),kt.setProperty("--radix-popper-anchor-height",`${Tl}px`)}}),M&&S5({element:M,padding:a}),A5({arrowWidth:N,arrowHeight:R}),m&&b5({strategy:"referenceHidden",...F})]}),[le,_e]=QR(xe),Re=nr(T);Rn(()=>{Te&&(Re==null||Re())},[Te,Re]);const Ze=(Ie=re.arrow)==null?void 0:Ie.x,bt=(it=re.arrow)==null?void 0:it.y,mt=((we=re.arrow)==null?void 0:we.centerOffset)!==0,[Qt,yt]=S.useState();return Rn(()=>{b&&yt(window.getComputedStyle(b).zIndex)},[b]),g.jsx("div",{ref:ae.setFloating,"data-radix-popper-content-wrapper":"",style:{...Ce,transform:Te?Ce.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Qt,"--radix-popper-transform-origin":[(st=re.transformOrigin)==null?void 0:st.x,(qe=re.transformOrigin)==null?void 0:qe.y].join(" "),...((Pe=re.hide)==null?void 0:Pe.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:g.jsx(P5,{scope:n,placedSide:le,onArrowChange:U,arrowX:Ze,arrowY:bt,shouldHideArrow:mt,children:g.jsx(Ve.div,{"data-side":le,"data-align":_e,..._,ref:k,style:{..._.style,animation:Te?void 0:"none"}})})})});GR.displayName=Gw;var qR="PopperArrow",k5={top:"bottom",right:"left",bottom:"top",left:"right"},YR=S.forwardRef(function(e,n){const{__scopePopper:r,...i}=e,s=I5(qR,r),o=k5[s.placedSide];return g.jsx("span",{ref:s.onArrowChange,style:{position:"absolute",left:s.arrowX,top:s.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[s.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[s.placedSide],visibility:s.shouldHideArrow?"hidden":void 0},children:g.jsx(C5,{...i,ref:n,style:{...i.style,display:"block"}})})});YR.displayName=qR;function R5(t){return t!==null}var A5=t=>({name:"transformOrigin",options:t,fn(e){var I,b,E;const{placement:n,rects:r,middlewareData:i}=e,o=((I=i.arrow)==null?void 0:I.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[c,h]=QR(n),p={start:"0%",center:"50%",end:"100%"}[h],m=(((b=i.arrow)==null?void 0:b.x)??0)+a/2,w=(((E=i.arrow)==null?void 0:E.y)??0)+l/2;let T="",_="";return c==="bottom"?(T=o?p:`${m}px`,_=`${-l}px`):c==="top"?(T=o?p:`${m}px`,_=`${r.floating.height+l}px`):c==="right"?(T=`${-l}px`,_=o?p:`${w}px`):c==="left"&&(T=`${r.floating.width+l}px`,_=o?p:`${w}px`),{data:{x:T,y:_}}}});function QR(t){const[e,n="center"]=t.split("-");return[e,n]}var N5=WR,XR=KR,JR=GR,ZR=YR,[xg,yJ]=Ji("Tooltip",[wg]),qw=wg(),eA="TooltipProvider",O5=700,FS="tooltip.open",[D5,tA]=xg(eA),nA=t=>{const{__scopeTooltip:e,delayDuration:n=O5,skipDelayDuration:r=300,disableHoverableContent:i=!1,children:s}=t,o=S.useRef(!0),a=S.useRef(!1),l=S.useRef(0);return S.useEffect(()=>{const c=l.current;return()=>window.clearTimeout(c)},[]),g.jsx(D5,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:S.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:S.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:S.useCallback(c=>{a.current=c},[]),disableHoverableContent:i,children:s})};nA.displayName=eA;var rA="Tooltip",[vJ,bg]=xg(rA),A_="TooltipTrigger",M5=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=bg(A_,n),s=tA(A_,n),o=qw(n),a=S.useRef(null),l=dt(e,a,i.onTriggerChange),c=S.useRef(!1),h=S.useRef(!1),p=S.useCallback(()=>c.current=!1,[]);return S.useEffect(()=>()=>document.removeEventListener("pointerup",p),[p]),g.jsx(XR,{asChild:!0,...o,children:g.jsx(Ve.button,{"aria-describedby":i.open?i.contentId:void 0,"data-state":i.stateAttribute,...r,ref:l,onPointerMove:ke(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!s.isPointerInTransitRef.current&&(i.onTriggerEnter(),h.current=!0)}),onPointerLeave:ke(t.onPointerLeave,()=>{i.onTriggerLeave(),h.current=!1}),onPointerDown:ke(t.onPointerDown,()=>{i.open&&i.onClose(),c.current=!0,document.addEventListener("pointerup",p,{once:!0})}),onFocus:ke(t.onFocus,()=>{c.current||i.onOpen()}),onBlur:ke(t.onBlur,i.onClose),onClick:ke(t.onClick,i.onClose)})})});M5.displayName=A_;var j5="TooltipPortal",[_J,L5]=xg(j5,{forceMount:void 0}),Qc="TooltipContent",iA=S.forwardRef((t,e)=>{const n=L5(Qc,t.__scopeTooltip),{forceMount:r=n.forceMount,side:i="top",...s}=t,o=bg(Qc,t.__scopeTooltip);return g.jsx(la,{present:r||o.open,children:o.disableHoverableContent?g.jsx(sA,{side:i,...s,ref:e}):g.jsx(F5,{side:i,...s,ref:e})})}),F5=S.forwardRef((t,e)=>{const n=bg(Qc,t.__scopeTooltip),r=tA(Qc,t.__scopeTooltip),i=S.useRef(null),s=dt(e,i),[o,a]=S.useState(null),{trigger:l,onClose:c}=n,h=i.current,{onPointerInTransitChange:p}=r,m=S.useCallback(()=>{a(null),p(!1)},[p]),w=S.useCallback((T,_)=>{const I=T.currentTarget,b={x:T.clientX,y:T.clientY},E=z5(b,I.getBoundingClientRect()),k=W5(b,E),M=H5(_.getBoundingClientRect()),U=G5([...k,...M]);a(U),p(!0)},[p]);return S.useEffect(()=>()=>m(),[m]),S.useEffect(()=>{if(l&&h){const T=I=>w(I,h),_=I=>w(I,l);return l.addEventListener("pointerleave",T),h.addEventListener("pointerleave",_),()=>{l.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",_)}}},[l,h,w,m]),S.useEffect(()=>{if(o){const T=_=>{const I=_.target,b={x:_.clientX,y:_.clientY},E=(l==null?void 0:l.contains(I))||(h==null?void 0:h.contains(I)),k=!K5(b,o);E?m():k&&(m(),c())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,h,o,c,m]),g.jsx(sA,{...t,ref:s})}),[V5,U5]=xg(rA,{isInside:!1}),B5=L4("TooltipContent"),sA=S.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":i,onEscapeKeyDown:s,onPointerDownOutside:o,...a}=t,l=bg(Qc,n),c=qw(n),{onClose:h}=l;return S.useEffect(()=>(document.addEventListener(FS,h),()=>document.removeEventListener(FS,h)),[h]),S.useEffect(()=>{if(l.trigger){const p=m=>{const w=m.target;w!=null&&w.contains(l.trigger)&&h()};return window.addEventListener("scroll",p,{capture:!0}),()=>window.removeEventListener("scroll",p,{capture:!0})}},[l.trigger,h]),g.jsx(Dh,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:p=>p.preventDefault(),onDismiss:h,children:g.jsxs(JR,{"data-state":l.stateAttribute,...c,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[g.jsx(B5,{children:r}),g.jsx(V5,{scope:n,isInside:!0,children:g.jsx(r3,{id:l.contentId,role:"tooltip",children:i||r})})]})})});iA.displayName=Qc;var oA="TooltipArrow",$5=S.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,i=qw(n);return U5(oA,n).isInside?null:g.jsx(ZR,{...i,...r,ref:e})});$5.displayName=oA;function z5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),i=Math.abs(e.right-t.x),s=Math.abs(e.left-t.x);switch(Math.min(n,r,i,s)){case s:return"left";case i:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function W5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function H5(t){const{top:e,right:n,bottom:r,left:i}=t;return[{x:i,y:e},{x:n,y:e},{x:n,y:r},{x:i,y:r}]}function K5(t,e){const{x:n,y:r}=t;let i=!1;for(let s=0,o=e.length-1;s<e.length;o=s++){const a=e[s].x,l=e[s].y,c=e[o].x,h=e[o].y;l>r!=h>r&&n<(c-a)*(r-l)/(h-l)+a&&(i=!i)}return i}function G5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),q5(e)}function q5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const i=t[r];for(;e.length>=2;){const s=e[e.length-1],o=e[e.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))e.pop();else break}e.push(i)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const i=t[r];for(;n.length>=2;){const s=n[n.length-1],o=n[n.length-2];if((s.x-o.x)*(i.y-o.y)>=(s.y-o.y)*(i.x-o.x))n.pop();else break}n.push(i)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var Y5=nA,aA=iA;const Q5=Y5,X5=S.forwardRef(({className:t,sideOffset:e=4,...n},r)=>g.jsx(aA,{ref:r,sideOffset:e,className:De("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-tooltip-content-transform-origin]",t),...n}));X5.displayName=aA.displayName;const J5=gg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-ring disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 hover-elevate active-elevate-2",{variants:{variant:{default:"bg-primary text-primary-foreground border border-primary-border",destructive:"bg-destructive text-destructive-foreground border border-destructive-border",outline:" border [border-color:var(--button-outline)]  shadow-xs active:shadow-none ",secondary:"border bg-secondary text-secondary-foreground border border-secondary-border ",ghost:"border border-transparent"},size:{default:"min-h-9 px-4 py-2",sm:"min-h-8 rounded-md px-3 text-xs",lg:"min-h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),at=S.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...i},s)=>{const o=r?M4:"button";return g.jsx(o,{className:De(J5({variant:e,size:n,className:t})),ref:s,...i})});at.displayName="Button";const Z5=gg("whitespace-nowrap inline-flex items-center rounded-md border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 hover-elevate ",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground shadow-xs",secondary:"border-transparent bg-secondary text-secondary-foreground",destructive:"border-transparent bg-destructive text-destructive-foreground shadow-xs",outline:" border [border-color:var(--badge-outline)] shadow-xs"}},defaultVariants:{variant:"default"}});function hr({className:t,variant:e,...n}){return g.jsx("div",{className:De(Z5({variant:e}),t),...n})}const e6=()=>{};var VS={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lA={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const he=function(t,e){if(!t)throw mu(e)},mu=function(t){return new Error("Firebase Database ("+lA.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cA=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},t6=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=t[n++],o=t[n++],a=t[n++],l=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},Yw={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const s=t[i],o=i+1<t.length,a=o?t[i+1]:0,l=i+2<t.length,c=l?t[i+2]:0,h=s>>2,p=(s&3)<<4|a>>4;let m=(a&15)<<2|c>>6,w=c&63;l||(w=64,o||(m=64)),r.push(n[h],n[p],n[m],n[w])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(cA(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):t6(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;const c=i<t.length?n[t.charAt(i)]:64;++i;const p=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||c==null||p==null)throw new n6;const m=s<<2|a>>4;if(r.push(m),c!==64){const w=a<<4&240|c>>2;if(r.push(w),p!==64){const T=c<<6&192|p;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class n6 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const uA=function(t){const e=cA(t);return Yw.encodeByteArray(e,!0)},dm=function(t){return uA(t).replace(/\./g,"")},hm=function(t){try{return Yw.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function r6(t){return dA(void 0,t)}function dA(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:const n=e;return new Date(n.getTime());case Object:t===void 0&&(t={});break;case Array:t=[];break;default:return e}for(const n in e)!e.hasOwnProperty(n)||!i6(n)||(t[n]=dA(t[n],e[n]));return t}function i6(t){return t!=="__proto__"}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s6(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o6=()=>s6().__FIREBASE_DEFAULTS__,a6=()=>{if(typeof process>"u"||typeof VS>"u")return;const t=VS.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},l6=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&hm(t[1]);return e&&JSON.parse(e)},Qw=()=>{try{return e6()||o6()||a6()||l6()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},hA=t=>{var e,n;return(n=(e=Qw())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},Xw=t=>{const e=hA(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},fA=()=>{var t;return(t=Qw())==null?void 0:t.config},pA=t=>{var e;return(e=Qw())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lh{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ca(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function Sg(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Jw(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}},...t};return[dm(JSON.stringify(n)),dm(JSON.stringify(o)),""].join(".")}const xd={};function c6(){const t={prod:[],emulator:[]};for(const e of Object.keys(xd))xd[e]?t.emulator.push(e):t.prod.push(e);return t}function u6(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let US=!1;function Eg(t,e){if(typeof window>"u"||typeof document>"u"||!ca(window.location.host)||xd[t]===e||xd[t]||US)return;xd[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",s=c6().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,w){m.setAttribute("width","24"),m.setAttribute("id",w),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function c(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{US=!0,o()},m}function h(m,w){m.setAttribute("id",w),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function p(){const m=u6(r),w=n("text"),T=document.getElementById(w)||document.createElement("span"),_=n("learnmore"),I=document.getElementById(_)||document.createElement("a"),b=n("preprendIcon"),E=document.getElementById(b)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const k=m.element;a(k),h(I,_);const M=c();l(E,b),k.append(E,T,I,M),document.body.appendChild(k)}s?(T.innerText="Preview backend disconnected.",E.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(E.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",w)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Zw(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Kn())}function d6(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function h6(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function mA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function f6(){const t=Kn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function gA(){return lA.NODE_ADMIN===!0}function p6(){try{return typeof indexedDB=="object"}catch{return!1}}function m6(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)==null?void 0:s.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const g6="FirebaseError";class es extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=g6,Object.setPrototypeOf(this,es.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Fh.prototype.create)}}class Fh{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?y6(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new es(i,a,r)}}function y6(t,e){return t.replace(v6,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const v6=/\{\$([^}]+)}/g;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sh(t){return JSON.parse(t)}function tn(t){return JSON.stringify(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yA=function(t){let e={},n={},r={},i="";try{const s=t.split(".");e=sh(hm(s[0])||""),n=sh(hm(s[1])||""),i=s[2],r=n.d||{},delete n.d}catch{}return{header:e,claims:n,data:r,signature:i}},_6=function(t){const e=yA(t),n=e.claims;return!!n&&typeof n=="object"&&n.hasOwnProperty("iat")},w6=function(t){const e=yA(t).claims;return typeof e=="object"&&e.admin===!0};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ts(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Xc(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]}function N_(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function fm(t,e,n){const r={};for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(r[i]=e.call(n,t[i],i,t));return r}function Xo(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const s=t[i],o=e[i];if(BS(s)&&BS(o)){if(!Xo(s,o))return!1}else if(s!==o)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function BS(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x6{constructor(){this.chain_=[],this.buf_=[],this.W_=[],this.pad_=[],this.inbuf_=0,this.total_=0,this.blockSize=512/8,this.pad_[0]=128;for(let e=1;e<this.blockSize;++e)this.pad_[e]=0;this.reset()}reset(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0}compress_(e,n){n||(n=0);const r=this.W_;if(typeof e=="string")for(let p=0;p<16;p++)r[p]=e.charCodeAt(n)<<24|e.charCodeAt(n+1)<<16|e.charCodeAt(n+2)<<8|e.charCodeAt(n+3),n+=4;else for(let p=0;p<16;p++)r[p]=e[n]<<24|e[n+1]<<16|e[n+2]<<8|e[n+3],n+=4;for(let p=16;p<80;p++){const m=r[p-3]^r[p-8]^r[p-14]^r[p-16];r[p]=(m<<1|m>>>31)&4294967295}let i=this.chain_[0],s=this.chain_[1],o=this.chain_[2],a=this.chain_[3],l=this.chain_[4],c,h;for(let p=0;p<80;p++){p<40?p<20?(c=a^s&(o^a),h=1518500249):(c=s^o^a,h=1859775393):p<60?(c=s&o|a&(s|o),h=2400959708):(c=s^o^a,h=3395469782);const m=(i<<5|i>>>27)+c+l+h+r[p]&4294967295;l=a,a=o,o=(s<<30|s>>>2)&4294967295,s=i,i=m}this.chain_[0]=this.chain_[0]+i&4294967295,this.chain_[1]=this.chain_[1]+s&4294967295,this.chain_[2]=this.chain_[2]+o&4294967295,this.chain_[3]=this.chain_[3]+a&4294967295,this.chain_[4]=this.chain_[4]+l&4294967295}update(e,n){if(e==null)return;n===void 0&&(n=e.length);const r=n-this.blockSize;let i=0;const s=this.buf_;let o=this.inbuf_;for(;i<n;){if(o===0)for(;i<=r;)this.compress_(e,i),i+=this.blockSize;if(typeof e=="string"){for(;i<n;)if(s[o]=e.charCodeAt(i),++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}else for(;i<n;)if(s[o]=e[i],++o,++i,o===this.blockSize){this.compress_(s),o=0;break}}this.inbuf_=o,this.total_+=n}digest(){const e=[];let n=this.total_*8;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(let i=this.blockSize-1;i>=56;i--)this.buf_[i]=n&255,n/=256;this.compress_(this.buf_);let r=0;for(let i=0;i<5;i++)for(let s=24;s>=0;s-=8)e[r]=this.chain_[i]>>s&255,++r;return e}}function b6(t,e){const n=new S6(t,e);return n.subscribe.bind(n)}class S6{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");E6(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Wy),i.error===void 0&&(i.error=Wy),i.complete===void 0&&(i.complete=Wy);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function E6(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Wy(){}function Cg(t,e){return`${t} failed: ${e} argument `}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C6=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);if(i>=55296&&i<=56319){const s=i-55296;r++,he(r<t.length,"Surrogate pair missing trail surrogate.");const o=t.charCodeAt(r)-56320;i=65536+(s<<10)+o}i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):i<65536?(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Tg=function(t){let e=0;for(let n=0;n<t.length;n++){const r=t.charCodeAt(n);r<128?e++:r<2048?e+=2:r>=55296&&r<=56319?(e+=4,n++):e+=3}return e};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rr(t){return t&&t._delegate?t._delegate:t}class Ls{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const La="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T6{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new Lh;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(i){if(r)return null;throw i}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(I6(e))try{this.getOrInitializeService({instanceIdentifier:La})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=La){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=La){return this.instances.has(e)}getOptions(e=La){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[s,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),i=this.onInitCallbacks.get(r)??new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:P6(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=La){return this.component?this.component.multipleInstances?e:La:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function P6(t){return t===La?void 0:t}function I6(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k6{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new T6(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var ot;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(ot||(ot={}));const R6={debug:ot.DEBUG,verbose:ot.VERBOSE,info:ot.INFO,warn:ot.WARN,error:ot.ERROR,silent:ot.SILENT},A6=ot.INFO,N6={[ot.DEBUG]:"log",[ot.VERBOSE]:"log",[ot.INFO]:"info",[ot.WARN]:"warn",[ot.ERROR]:"error"},O6=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=N6[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Pg{constructor(e){this.name=e,this._logLevel=A6,this._logHandler=O6,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ot))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?R6[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ot.DEBUG,...e),this._logHandler(this,ot.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ot.VERBOSE,...e),this._logHandler(this,ot.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ot.INFO,...e),this._logHandler(this,ot.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ot.WARN,...e),this._logHandler(this,ot.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ot.ERROR,...e),this._logHandler(this,ot.ERROR,...e)}}const D6=(t,e)=>e.some(n=>t instanceof n);let $S,zS;function M6(){return $S||($S=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function j6(){return zS||(zS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vA=new WeakMap,O_=new WeakMap,_A=new WeakMap,Hy=new WeakMap,ex=new WeakMap;function L6(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(Bo(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&vA.set(n,t)}).catch(()=>{}),ex.set(e,t),e}function F6(t){if(O_.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});O_.set(t,e)}let D_={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return O_.get(t);if(e==="objectStoreNames")return t.objectStoreNames||_A.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Bo(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function V6(t){D_=t(D_)}function U6(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Ky(this),e,...n);return _A.set(r,e.sort?e.sort():[e]),Bo(r)}:j6().includes(t)?function(...e){return t.apply(Ky(this),e),Bo(vA.get(this))}:function(...e){return Bo(t.apply(Ky(this),e))}}function B6(t){return typeof t=="function"?U6(t):(t instanceof IDBTransaction&&F6(t),D6(t,M6())?new Proxy(t,D_):t)}function Bo(t){if(t instanceof IDBRequest)return L6(t);if(Hy.has(t))return Hy.get(t);const e=B6(t);return e!==t&&(Hy.set(t,e),ex.set(e,t)),e}const Ky=t=>ex.get(t);function $6(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){const o=indexedDB.open(t,e),a=Bo(o);return r&&o.addEventListener("upgradeneeded",l=>{r(Bo(o.result),l.oldVersion,l.newVersion,Bo(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{s&&l.addEventListener("close",()=>s()),i&&l.addEventListener("versionchange",c=>i(c.oldVersion,c.newVersion,c))}).catch(()=>{}),a}const z6=["get","getKey","getAll","getAllKeys","count"],W6=["put","add","delete","clear"],Gy=new Map;function WS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gy.get(e))return Gy.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=W6.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||z6.includes(n)))return;const s=async function(o,...a){const l=this.transaction(o,i?"readwrite":"readonly");let c=l.store;return r&&(c=c.index(a.shift())),(await Promise.all([c[n](...a),i&&l.done]))[0]};return Gy.set(e,s),s}V6(t=>({...t,get:(e,n,r)=>WS(e,n)||t.get(e,n,r),has:(e,n)=>!!WS(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H6{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(K6(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function K6(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const M_="@firebase/app",HS="0.14.4";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs=new Pg("@firebase/app"),G6="@firebase/app-compat",q6="@firebase/analytics-compat",Y6="@firebase/analytics",Q6="@firebase/app-check-compat",X6="@firebase/app-check",J6="@firebase/auth",Z6="@firebase/auth-compat",eU="@firebase/database",tU="@firebase/data-connect",nU="@firebase/database-compat",rU="@firebase/functions",iU="@firebase/functions-compat",sU="@firebase/installations",oU="@firebase/installations-compat",aU="@firebase/messaging",lU="@firebase/messaging-compat",cU="@firebase/performance",uU="@firebase/performance-compat",dU="@firebase/remote-config",hU="@firebase/remote-config-compat",fU="@firebase/storage",pU="@firebase/storage-compat",mU="@firebase/firestore",gU="@firebase/ai",yU="@firebase/firestore-compat",vU="firebase",_U="12.4.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j_="[DEFAULT]",wU={[M_]:"fire-core",[G6]:"fire-core-compat",[Y6]:"fire-analytics",[q6]:"fire-analytics-compat",[X6]:"fire-app-check",[Q6]:"fire-app-check-compat",[J6]:"fire-auth",[Z6]:"fire-auth-compat",[eU]:"fire-rtdb",[tU]:"fire-data-connect",[nU]:"fire-rtdb-compat",[rU]:"fire-fn",[iU]:"fire-fn-compat",[sU]:"fire-iid",[oU]:"fire-iid-compat",[aU]:"fire-fcm",[lU]:"fire-fcm-compat",[cU]:"fire-perf",[uU]:"fire-perf-compat",[dU]:"fire-rc",[hU]:"fire-rc-compat",[fU]:"fire-gcs",[pU]:"fire-gcs-compat",[mU]:"fire-fst",[yU]:"fire-fst-compat",[gU]:"fire-vertex","fire-js":"fire-js",[vU]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pm=new Map,xU=new Map,L_=new Map;function KS(t,e){try{t.container.addComponent(e)}catch(n){Fs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Jo(t){const e=t.name;if(L_.has(e))return Fs.debug(`There were multiple attempts to register component ${e}.`),!1;L_.set(e,t);for(const n of pm.values())KS(n,t);for(const n of xU.values())KS(n,t);return!0}function Vh(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Or(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},$o=new Fh("app","Firebase",bU);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ls("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw $o.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ua=_U;function wA(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:j_,automaticDataCollectionEnabled:!0,...e},i=r.name;if(typeof i!="string"||!i)throw $o.create("bad-app-name",{appName:String(i)});if(n||(n=fA()),!n)throw $o.create("no-options");const s=pm.get(i);if(s){if(Xo(n,s.options)&&Xo(r,s.config))return s;throw $o.create("duplicate-app",{appName:i})}const o=new k6(i);for(const l of L_.values())o.addComponent(l);const a=new SU(n,r,o);return pm.set(i,a),a}function Ig(t=j_){const e=pm.get(t);if(!e&&t===j_&&fA())return wA();if(!e)throw $o.create("no-app",{appName:t});return e}function Fr(t,e,n){let r=wU[t]??t;n&&(r+=`-${n}`);const i=r.match(/\s|\//),s=e.match(/\s|\//);if(i||s){const o=[`Unable to register library "${r}" with version "${e}":`];i&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),i&&s&&o.push("and"),s&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Fs.warn(o.join(" "));return}Jo(new Ls(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU="firebase-heartbeat-database",CU=1,oh="firebase-heartbeat-store";let qy=null;function xA(){return qy||(qy=$6(EU,CU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(oh)}catch(n){console.warn(n)}}}}).catch(t=>{throw $o.create("idb-open",{originalErrorMessage:t.message})})),qy}async function TU(t){try{const n=(await xA()).transaction(oh),r=await n.objectStore(oh).get(bA(t));return await n.done,r}catch(e){if(e instanceof es)Fs.warn(e.message);else{const n=$o.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Fs.warn(n.message)}}}async function GS(t,e){try{const r=(await xA()).transaction(oh,"readwrite");await r.objectStore(oh).put(e,bA(t)),await r.done}catch(n){if(n instanceof es)Fs.warn(n.message);else{const r=$o.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Fs.warn(r.message)}}}function bA(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PU=1024,IU=30;class kU{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new AU(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=qS();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s))return;if(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats.length>IU){const o=NU(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Fs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=qS(),{heartbeatsToSend:r,unsentEntries:i}=RU(this._heartbeatsCache.heartbeats),s=dm(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return Fs.warn(n),""}}}function qS(){return new Date().toISOString().substring(0,10)}function RU(t,e=PU){const n=[];let r=t.slice();for(const i of t){const s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),YS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),YS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class AU{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return p6()?m6().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await TU(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return GS(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function YS(t){return dm(JSON.stringify({version:2,heartbeats:t})).length}function NU(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function OU(t){Jo(new Ls("platform-logger",e=>new H6(e),"PRIVATE")),Jo(new Ls("heartbeat",e=>new kU(e),"PRIVATE")),Fr(M_,HS,t),Fr(M_,HS,"esm2020"),Fr("fire-js","")}OU("");var DU="firebase",MU="12.4.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Fr(DU,MU,"app");function SA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const jU=SA,EA=new Fh("auth","Firebase",SA());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mm=new Pg("@firebase/auth");function LU(t,...e){mm.logLevel<=ot.WARN&&mm.warn(`Auth (${ua}): ${t}`,...e)}function _p(t,...e){mm.logLevel<=ot.ERROR&&mm.error(`Auth (${ua}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vs(t,...e){throw tx(t,...e)}function Ki(t,...e){return tx(t,...e)}function CA(t,e,n){const r={...jU(),[e]:n};return new Fh("auth","Firebase",r).create(e,{appName:t.name})}function nl(t){return CA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return EA.create(t,...e)}function Oe(t,e,...n){if(!t)throw tx(e,...n)}function bs(t){const e="INTERNAL ASSERTION FAILED: "+t;throw _p(e),new Error(e)}function Us(t,e){t||bs(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function F_(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function FU(){return QS()==="http:"||QS()==="https:"}function QS(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(FU()||h6()||"connection"in navigator)?navigator.onLine:!0}function UU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uh{constructor(e,n){this.shortDelay=e,this.longDelay=n,Us(n>e,"Short delay should be less than long delay!"),this.isMobile=Zw()||mA()}get(){return VU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e){Us(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TA{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;bs("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;bs("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;bs("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $U=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],zU=new Uh(3e4,6e4);function rx(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function yu(t,e,n,r,i={}){return PA(t,i,async()=>{let s={},o={};r&&(e==="GET"?o=r:s={body:JSON.stringify(r)});const a=gu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const c={method:e,headers:l,...s};return d6()||(c.referrerPolicy="no-referrer"),t.emulatorConfig&&ca(t.emulatorConfig.host)&&(c.credentials="include"),TA.fetch()(await IA(t,t.config.apiHost,n,a),c)})}async function PA(t,e,n){t._canInitEmulator=!1;const r={...BU,...e};try{const i=new HU(t),s=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const o=await s.json();if("needConfirmation"in o)throw Bf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{const a=s.ok?o.errorMessage:o.error.message,[l,c]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw Bf(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw Bf(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw Bf(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(c)throw CA(t,h,c);Vs(t,h)}}catch(i){if(i instanceof es)throw i;Vs(t,"network-request-failed",{message:String(i)})}}async function WU(t,e,n,r,i={}){const s=await yu(t,e,n,r,i);return"mfaPendingCredential"in s&&Vs(t,"multi-factor-auth-required",{_serverResponse:s}),s}async function IA(t,e,n,r){const i=`${e}${n}?${r}`,s=t,o=s.config.emulator?nx(t.config,i):`${t.config.apiScheme}://${i}`;return $U.includes(n)&&(await s._persistenceManagerAvailable,s._getPersistenceType()==="COOKIE")?s._getPersistence()._getFinalTarget(o).toString():o}class HU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Ki(this.auth,"network-request-failed")),zU.get())})}}function Bf(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Ki(t,e,r);return i.customData._tokenResponse=n,i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e){return yu(t,"POST","/v1/accounts:delete",e)}async function gm(t,e){return yu(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bd(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function GU(t,e=!1){const n=rr(t),r=await n.getIdToken(e),i=ix(r);Oe(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,o=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:bd(Yy(i.auth_time)),issuedAtTime:bd(Yy(i.iat)),expirationTime:bd(Yy(i.exp)),signInProvider:o||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Yy(t){return Number(t)*1e3}function ix(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return _p("JWT malformed, contained fewer than 3 sections"),null;try{const i=hm(n);return i?JSON.parse(i):(_p("Failed to decode base64 JWT payload"),null)}catch(i){return _p("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function XS(t){const e=ix(t);return Oe(e,"internal-error"),Oe(typeof e.exp<"u","internal-error"),Oe(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ah(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof es&&qU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function qU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V_{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=bd(this.lastLoginAt),this.creationTime=bd(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ym(t){var p;const e=t.auth,n=await t.getIdToken(),r=await ah(t,gm(e,{idToken:n}));Oe(r==null?void 0:r.users.length,e,"internal-error");const i=r.users[0];t._notifyReloadListener(i);const s=(p=i.providerUserInfo)!=null&&p.length?kA(i.providerUserInfo):[],o=XU(t.providerData,s),a=t.isAnonymous,l=!(t.email&&i.passwordHash)&&!(o!=null&&o.length),c=a?l:!1,h={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new V_(i.createdAt,i.lastLoginAt),isAnonymous:c};Object.assign(t,h)}async function QU(t){const e=rr(t);await ym(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function XU(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function kA(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JU(t,e){const n=await PA(t,{},async()=>{const r=gu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=await IA(t,i,"/v1/token",`key=${s}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&ca(t.emulatorConfig.host)&&(l.credentials="include"),TA.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function ZU(t,e){return yu(t,"POST","/v2/accounts:revokeToken",rx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ec{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Oe(e.idToken,"internal-error"),Oe(typeof e.idToken<"u","internal-error"),Oe(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):XS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){Oe(e.length!==0,"internal-error");const n=XS(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(Oe(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:s}=await JU(e,n);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new Ec;return r&&(Oe(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(Oe(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(Oe(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ec,this.toJSON())}_performRefresh(){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function co(t,e){Oe(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class hi{constructor({uid:e,auth:n,stsTokenManager:r,...i}){this.providerId="firebase",this.proactiveRefresh=new YU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new V_(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const n=await ah(this,this.stsTokenManager.getToken(this.auth,e));return Oe(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return GU(this,e)}reload(){return QU(this)}_assign(e){this!==e&&(Oe(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new hi({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){Oe(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await ym(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Or(this.auth.app))return Promise.reject(nl(this.auth));const e=await this.getIdToken();return await ah(this,KU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,i=n.email??void 0,s=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,c=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:p,emailVerified:m,isAnonymous:w,providerData:T,stsTokenManager:_}=n;Oe(p&&_,e,"internal-error");const I=Ec.fromJSON(this.name,_);Oe(typeof p=="string",e,"internal-error"),co(r,e.name),co(i,e.name),Oe(typeof m=="boolean",e,"internal-error"),Oe(typeof w=="boolean",e,"internal-error"),co(s,e.name),co(o,e.name),co(a,e.name),co(l,e.name),co(c,e.name),co(h,e.name);const b=new hi({uid:p,auth:e,email:i,emailVerified:m,displayName:r,isAnonymous:w,photoURL:o,phoneNumber:s,tenantId:a,stsTokenManager:I,createdAt:c,lastLoginAt:h});return T&&Array.isArray(T)&&(b.providerData=T.map(E=>({...E}))),l&&(b._redirectEventId=l),b}static async _fromIdTokenResponse(e,n,r=!1){const i=new Ec;i.updateFromServerResponse(n);const s=new hi({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await ym(s),s}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];Oe(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?kA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),a=new Ec;a.updateFromIdToken(r);const l=new hi({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),c={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new V_(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(l,c),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JS=new Map;function Ss(t){Us(t instanceof Function,"Expected a class definition");let e=JS.get(t);return e?(Us(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,JS.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RA{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}RA.type="NONE";const ZS=RA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wp(t,e,n){return`firebase:${t}:${e}:${n}`}class Cc{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=wp(this.userKey,i.apiKey,s),this.fullPersistenceKey=wp("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gm(this.auth,{idToken:e}).catch(()=>{});return n?hi._fromGetAccountInfoResponse(this.auth,n,e):null}return hi._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Cc(Ss(ZS),e,r);const i=(await Promise.all(n.map(async c=>{if(await c._isAvailable())return c}))).filter(c=>c);let s=i[0]||Ss(ZS);const o=wp(r,e.config.apiKey,e.name);let a=null;for(const c of n)try{const h=await c._get(o);if(h){let p;if(typeof h=="string"){const m=await gm(e,{idToken:h}).catch(()=>{});if(!m)break;p=await hi._fromGetAccountInfoResponse(e,m,h)}else p=hi._fromJSON(e,h);c!==s&&(a=p),s=c;break}}catch{}const l=i.filter(c=>c._shouldAllowMigration);return!s._shouldAllowMigration||!l.length?new Cc(s,e,r):(s=l[0],a&&await s._set(o,a.toJSON()),await Promise.all(n.map(async c=>{if(c!==s)try{await c._remove(o)}catch{}})),new Cc(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eE(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(DA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(AA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(jA(e))return"Blackberry";if(LA(e))return"Webos";if(NA(e))return"Safari";if((e.includes("chrome/")||OA(e))&&!e.includes("edge/"))return"Chrome";if(MA(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function AA(t=Kn()){return/firefox\//i.test(t)}function NA(t=Kn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function OA(t=Kn()){return/crios\//i.test(t)}function DA(t=Kn()){return/iemobile/i.test(t)}function MA(t=Kn()){return/android/i.test(t)}function jA(t=Kn()){return/blackberry/i.test(t)}function LA(t=Kn()){return/webos/i.test(t)}function sx(t=Kn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function eB(t=Kn()){var e;return sx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function tB(){return f6()&&document.documentMode===10}function FA(t=Kn()){return sx(t)||MA(t)||LA(t)||jA(t)||/windows phone/i.test(t)||DA(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VA(t,e=[]){let n;switch(t){case"Browser":n=eE(Kn());break;case"Worker":n=`${eE(Kn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ua}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nB{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=s=>new Promise((o,a)=>{try{const l=e(s);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rB(t,e={}){return yu(t,"GET","/v2/passwordPolicy",rx(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iB=6;class sB{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??iB,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oB{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new tE(this),this.idTokenSubscription=new tE(this),this.beforeStateQueue=new nB(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=EA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(s=>this._resolvePersistenceManagerAvailable=s)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Ss(n)),this._initializationPromise=this.queue(async()=>{var r,i,s;if(!this._deleted&&(this.persistenceManager=await Cc.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((i=this._popupRedirectResolver)!=null&&i._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((s=this.currentUser)==null?void 0:s.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gm(this,{idToken:e}),r=await hi._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var s;if(Or(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(s=this.redirectUser)==null?void 0:s._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Oe(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await ym(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=UU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Or(this.app))return Promise.reject(nl(this));const n=e?rr(e):null;return n&&Oe(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&Oe(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Or(this.app)?Promise.reject(nl(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Or(this.app)?Promise.reject(nl(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ss(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await rB(this),n=new sB(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Fh("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await ZU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&Ss(e)||this._popupRedirectResolver;Oe(n,this,"argument-error"),this.redirectPersistenceManager=await Cc.create(this,[Ss(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const s=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Oe(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,i);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Oe(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=VA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var i;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((i=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:i.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&LU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ox(t){return rr(t)}class tE{constructor(e){this.auth=e,this.observer=null,this.addObserver=b6(n=>this.observer=n)}get next(){return Oe(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ax={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function aB(t){ax=t}function lB(t){return ax.loadJS(t)}function cB(){return ax.gapiScript}function uB(t){return`__${t}${Math.floor(Math.random()*1e6)}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dB(t,e){const n=Vh(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),s=n.getOptions();if(Xo(s,e??{}))return i;Vs(i,"already-initialized")}return n.initialize({options:e})}function hB(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(Ss);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function fB(t,e,n){const r=ox(t);Oe(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!!(n!=null&&n.disableWarnings),s=UA(e),{host:o,port:a}=pB(e),l=a===null?"":`:${a}`,c={url:`${s}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!r._canInitEmulator){Oe(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),Oe(Xo(c,r.config.emulator)&&Xo(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=c,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,ca(o)?(Sg(`${s}//${o}${l}`),Eg("Auth",!0)):mB()}function UA(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function pB(t){const e=UA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:nE(r.substr(s.length+1))}}else{const[s,o]=r.split(":");return{host:s,port:nE(o)}}}function nE(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function mB(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BA{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return bs("not implemented")}_getIdTokenResponse(e){return bs("not implemented")}_linkToIdToken(e,n){return bs("not implemented")}_getReauthenticationResolver(e){return bs("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Tc(t,e){return WU(t,"POST","/v1/accounts:signInWithIdp",rx(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gB="http://localhost";class fl extends BA{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new fl(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):Vs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i,...s}=n;if(!r||!i)return null;const o=new fl(r,i);return o.idToken=s.idToken||void 0,o.accessToken=s.accessToken||void 0,o.secret=s.secret,o.nonce=s.nonce,o.pendingToken=s.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Tc(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Tc(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Tc(e,n)}buildRequest(){const e={requestUri:gB,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=gu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $A{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bh extends $A{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo extends Bh{constructor(){super("facebook.com")}static credential(e){return fl._fromParams({providerId:wo.PROVIDER_ID,signInMethod:wo.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return wo.credentialFromTaggedObject(e)}static credentialFromError(e){return wo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return wo.credential(e.oauthAccessToken)}catch{return null}}}wo.FACEBOOK_SIGN_IN_METHOD="facebook.com";wo.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xo extends Bh{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return fl._fromParams({providerId:xo.PROVIDER_ID,signInMethod:xo.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return xo.credentialFromTaggedObject(e)}static credentialFromError(e){return xo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return xo.credential(n,r)}catch{return null}}}xo.GOOGLE_SIGN_IN_METHOD="google.com";xo.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bo extends Bh{constructor(){super("github.com")}static credential(e){return fl._fromParams({providerId:bo.PROVIDER_ID,signInMethod:bo.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return bo.credentialFromTaggedObject(e)}static credentialFromError(e){return bo.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return bo.credential(e.oauthAccessToken)}catch{return null}}}bo.GITHUB_SIGN_IN_METHOD="github.com";bo.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class So extends Bh{constructor(){super("twitter.com")}static credential(e,n){return fl._fromParams({providerId:So.PROVIDER_ID,signInMethod:So.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return So.credentialFromTaggedObject(e)}static credentialFromError(e){return So.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return So.credential(n,r)}catch{return null}}}So.TWITTER_SIGN_IN_METHOD="twitter.com";So.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jc{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const s=await hi._fromIdTokenResponse(e,r,i),o=rE(r);return new Jc({user:s,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=rE(r);return new Jc({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function rE(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vm extends es{constructor(e,n,r,i){super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,vm.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new vm(e,n,r,i)}}function zA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?vm._fromErrorAndOperation(t,s,e,r):s})}async function yB(t,e,n=!1){const r=await ah(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Jc._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vB(t,e,n=!1){const{auth:r}=t;if(Or(r.app))return Promise.reject(nl(r));const i="reauthenticate";try{const s=await ah(t,zA(r,i,e,t),n);Oe(s.idToken,r,"internal-error");const o=ix(s.idToken);Oe(o,r,"internal-error");const{sub:a}=o;return Oe(t.uid===a,r,"user-mismatch"),Jc._forOperation(t,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&Vs(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _B(t,e,n=!1){if(Or(t.app))return Promise.reject(nl(t));const r="signIn",i=await zA(t,r,e),s=await Jc._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(s.user),s}function wB(t,e,n,r){return rr(t).onIdTokenChanged(e,n,r)}function xB(t,e,n){return rr(t).beforeAuthStateChanged(e,n)}const _m="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WA{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(_m,"1"),this.storage.removeItem(_m),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bB=1e3,SB=10;class HA extends WA{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=FA(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const i=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},s=this.storage.getItem(r);tB()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,SB):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},bB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}HA.type="LOCAL";const EB=HA;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KA extends WA{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}KA.type="SESSION";const GA=KA;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CB(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new kg(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:s}=n.data,o=this.handlersMap[i];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const a=Array.from(o).map(async c=>c(n.origin,s)),l=await CB(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}kg.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lx(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,l)=>{const c=lx("",20);i.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(p){const m=p;if(m.data.eventId===c)switch(m.data.status){case"ack":clearTimeout(h),s=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(m.data.response);break;default:clearTimeout(h),clearTimeout(s),l(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:c,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Gi(){return window}function PB(t){Gi().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qA(){return typeof Gi().WorkerGlobalScope<"u"&&typeof Gi().importScripts=="function"}async function IB(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function kB(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function RB(){return qA()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YA="firebaseLocalStorageDb",AB=1,wm="firebaseLocalStorage",QA="fbase_key";class $h{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Rg(t,e){return t.transaction([wm],e?"readwrite":"readonly").objectStore(wm)}function NB(){const t=indexedDB.deleteDatabase(YA);return new $h(t).toPromise()}function U_(){const t=indexedDB.open(YA,AB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(wm,{keyPath:QA})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(wm)?e(r):(r.close(),await NB(),e(await U_()))})})}async function iE(t,e,n){const r=Rg(t,!0).put({[QA]:e,value:n});return new $h(r).toPromise()}async function OB(t,e){const n=Rg(t,!1).get(e),r=await new $h(n).toPromise();return r===void 0?null:r.value}function sE(t,e){const n=Rg(t,!0).delete(e);return new $h(n).toPromise()}const DB=800,MB=3;class XA{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await U_(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>MB)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return qA()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=kg._getInstance(RB()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await IB(),!this.activeServiceWorker)return;this.sender=new TB(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||kB()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await U_();return await iE(e,_m,"1"),await sE(e,_m),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>iE(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>OB(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>sE(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=Rg(i,!1).getAll();return new $h(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),DB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}XA.type="LOCAL";const jB=XA;new Uh(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function LB(t,e){return e?Ss(e):(Oe(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cx extends BA{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Tc(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Tc(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Tc(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function FB(t){return _B(t.auth,new cx(t),t.bypassAuthState)}function VB(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),vB(n,new cx(t),t.bypassAuthState)}async function UB(t){const{auth:e,user:n}=t;return Oe(n,e,"internal-error"),yB(n,new cx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JA{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(c){this.reject(c)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return FB;case"linkViaPopup":case"linkViaRedirect":return UB;case"reauthViaPopup":case"reauthViaRedirect":return VB;default:Vs(this.auth,"internal-error")}}resolve(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Us(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const BB=new Uh(2e3,1e4);class cc extends JA{constructor(e,n,r,i,s){super(e,n,i,s),this.provider=r,this.authWindow=null,this.pollId=null,cc.currentPopupAction&&cc.currentPopupAction.cancel(),cc.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Oe(e,this.auth,"internal-error"),e}async onExecution(){Us(this.filter.length===1,"Popup operations only handle one event");const e=lx();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Ki(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(Ki(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,cc.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Ki(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,BB.get())};e()}}cc.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $B="pendingRedirect",xp=new Map;class zB extends JA{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xp.get(this.auth._key());if(!e){try{const r=await WB(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xp.set(this.auth._key(),e)}return this.bypassAuthState||xp.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function WB(t,e){const n=GB(e),r=KB(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function HB(t,e){xp.set(t._key(),e)}function KB(t){return Ss(t._redirectPersistence)}function GB(t){return wp($B,t.config.apiKey,t.name)}async function qB(t,e,n=!1){if(Or(t.app))return Promise.reject(nl(t));const r=ox(t),i=LB(r,e),o=await new zB(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YB=10*60*1e3;class QB{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!XB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!ZA(e)){const i=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(Ki(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=YB&&this.cachedEventUids.clear(),this.cachedEventUids.has(oE(e))}saveEventToCache(e){this.cachedEventUids.add(oE(e)),this.lastProcessedEventTime=Date.now()}}function oE(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function ZA({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function XB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return ZA(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function JB(t,e={}){return yu(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,e9=/^https?/;async function t9(t){if(t.config.emulator)return;const{authorizedDomains:e}=await JB(t);for(const n of e)try{if(n9(n))return}catch{}Vs(t,"unauthorized-domain")}function n9(t){const e=F_(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!e9.test(n))return!1;if(ZB.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const r9=new Uh(3e4,6e4);function aE(){const t=Gi().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function i9(t){return new Promise((e,n)=>{var i,s,o;function r(){aE(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{aE(),n(Ki(t,"network-request-failed"))},timeout:r9.get()})}if((s=(i=Gi().gapi)==null?void 0:i.iframes)!=null&&s.Iframe)e(gapi.iframes.getContext());else if((o=Gi().gapi)!=null&&o.load)r();else{const a=uB("iframefcb");return Gi()[a]=()=>{gapi.load?r():n(Ki(t,"network-request-failed"))},lB(`${cB()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw bp=null,e})}let bp=null;function s9(t){return bp=bp||i9(t),bp}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o9=new Uh(5e3,15e3),a9="__/auth/iframe",l9="emulator/auth/iframe",c9={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},u9=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function d9(t){const e=t.config;Oe(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nx(e,l9):`https://${t.config.authDomain}/${a9}`,r={apiKey:e.apiKey,appName:t.name,v:ua},i=u9.get(t.config.apiHost);i&&(r.eid=i);const s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${gu(r).slice(1)}`}async function h9(t){const e=await s9(t),n=Gi().gapi;return Oe(n,t,"internal-error"),e.open({where:document.body,url:d9(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:c9,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const o=Ki(t,"network-request-failed"),a=Gi().setTimeout(()=>{s(o)},o9.get());function l(){Gi().clearTimeout(a),i(r)}r.ping(l).then(l,()=>{s(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},p9=500,m9=600,g9="_blank",y9="http://localhost";class lE{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function v9(t,e,n,r=p9,i=m9){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...f9,width:r.toString(),height:i.toString(),top:s,left:o},c=Kn().toLowerCase();n&&(a=OA(c)?g9:n),AA(c)&&(e=e||y9,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[w,T])=>`${m}${w}=${T},`,"");if(eB(c)&&a!=="_self")return _9(e||"",a),new lE(null);const p=window.open(e||"",a,h);Oe(p,t,"popup-blocked");try{p.focus()}catch{}return new lE(p)}function _9(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const w9="__/auth/handler",x9="emulator/auth/handler",b9=encodeURIComponent("fac");async function cE(t,e,n,r,i,s){Oe(t.config.authDomain,t,"auth-domain-config-required"),Oe(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ua,eventId:i};if(e instanceof $A){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",N_(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,p]of Object.entries({}))o[h]=p}if(e instanceof Bh){const h=e.getScopes().filter(p=>p!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),c=l?`#${b9}=${encodeURIComponent(l)}`:"";return`${S9(t)}?${gu(a).slice(1)}${c}`}function S9({config:t}){return t.emulator?nx(t,x9):`https://${t.authDomain}/${w9}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qy="webStorageSupport";class E9{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=GA,this._completeRedirectFn=qB,this._overrideRedirectResult=HB}async _openPopup(e,n,r,i){var o;Us((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const s=await cE(e,n,r,F_(),i);return v9(e,s,lx())}async _openRedirect(e,n,r,i){await this._originValidation(e);const s=await cE(e,n,r,F_(),i);return PB(s),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Us(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await h9(e),r=new QB(e);return n.register("authEvent",i=>(Oe(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Qy,{type:Qy},i=>{var o;const s=(o=i==null?void 0:i[0])==null?void 0:o[Qy];s!==void 0&&n(!!s),Vs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=t9(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FA()||NA()||sx()}}const C9=E9;var uE="@firebase/auth",dE="1.11.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class T9{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){Oe(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function P9(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function I9(t){Jo(new Ls("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;Oe(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:VA(t)},c=new oB(r,i,s,l);return hB(c,n),c},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Jo(new Ls("auth-internal",e=>{const n=ox(e.getProvider("auth").getImmediate());return(r=>new T9(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Fr(uE,dE,P9(t)),Fr(uE,dE,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k9=5*60,R9=pA("authIdTokenMaxAge")||k9;let hE=null;const A9=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>R9)return;const i=n==null?void 0:n.token;hE!==i&&(hE=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function N9(t=Ig()){const e=Vh(t,"auth");if(e.isInitialized())return e.getImmediate();const n=dB(t,{popupRedirectResolver:C9,persistence:[jB,EB,GA]}),r=pA("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const o=A9(s.toString());xB(n,o,()=>o(n.currentUser)),wB(n,a=>o(a))}}const i=hA("auth");return i&&fB(n,`http://${i}`),n}function O9(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}aB({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const s=Ki("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",O9().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});I9("Browser");var fE=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var ux;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(N,R){function j(){}j.prototype=R.prototype,N.F=R.prototype,N.prototype=new j,N.prototype.constructor=N,N.D=function(D,B,L){for(var F=Array(arguments.length-2),ae=2;ae<arguments.length;ae++)F[ae-2]=arguments[ae];return R.prototype[B].apply(D,F)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(N,R,j){j||(j=0);const D=Array(16);if(typeof R=="string")for(var B=0;B<16;++B)D[B]=R.charCodeAt(j++)|R.charCodeAt(j++)<<8|R.charCodeAt(j++)<<16|R.charCodeAt(j++)<<24;else for(B=0;B<16;++B)D[B]=R[j++]|R[j++]<<8|R[j++]<<16|R[j++]<<24;R=N.g[0],j=N.g[1],B=N.g[2];let L=N.g[3],F;F=R+(L^j&(B^L))+D[0]+3614090360&4294967295,R=j+(F<<7&4294967295|F>>>25),F=L+(B^R&(j^B))+D[1]+3905402710&4294967295,L=R+(F<<12&4294967295|F>>>20),F=B+(j^L&(R^j))+D[2]+606105819&4294967295,B=L+(F<<17&4294967295|F>>>15),F=j+(R^B&(L^R))+D[3]+3250441966&4294967295,j=B+(F<<22&4294967295|F>>>10),F=R+(L^j&(B^L))+D[4]+4118548399&4294967295,R=j+(F<<7&4294967295|F>>>25),F=L+(B^R&(j^B))+D[5]+1200080426&4294967295,L=R+(F<<12&4294967295|F>>>20),F=B+(j^L&(R^j))+D[6]+2821735955&4294967295,B=L+(F<<17&4294967295|F>>>15),F=j+(R^B&(L^R))+D[7]+4249261313&4294967295,j=B+(F<<22&4294967295|F>>>10),F=R+(L^j&(B^L))+D[8]+1770035416&4294967295,R=j+(F<<7&4294967295|F>>>25),F=L+(B^R&(j^B))+D[9]+2336552879&4294967295,L=R+(F<<12&4294967295|F>>>20),F=B+(j^L&(R^j))+D[10]+4294925233&4294967295,B=L+(F<<17&4294967295|F>>>15),F=j+(R^B&(L^R))+D[11]+2304563134&4294967295,j=B+(F<<22&4294967295|F>>>10),F=R+(L^j&(B^L))+D[12]+1804603682&4294967295,R=j+(F<<7&4294967295|F>>>25),F=L+(B^R&(j^B))+D[13]+4254626195&4294967295,L=R+(F<<12&4294967295|F>>>20),F=B+(j^L&(R^j))+D[14]+2792965006&4294967295,B=L+(F<<17&4294967295|F>>>15),F=j+(R^B&(L^R))+D[15]+1236535329&4294967295,j=B+(F<<22&4294967295|F>>>10),F=R+(B^L&(j^B))+D[1]+4129170786&4294967295,R=j+(F<<5&4294967295|F>>>27),F=L+(j^B&(R^j))+D[6]+3225465664&4294967295,L=R+(F<<9&4294967295|F>>>23),F=B+(R^j&(L^R))+D[11]+643717713&4294967295,B=L+(F<<14&4294967295|F>>>18),F=j+(L^R&(B^L))+D[0]+3921069994&4294967295,j=B+(F<<20&4294967295|F>>>12),F=R+(B^L&(j^B))+D[5]+3593408605&4294967295,R=j+(F<<5&4294967295|F>>>27),F=L+(j^B&(R^j))+D[10]+38016083&4294967295,L=R+(F<<9&4294967295|F>>>23),F=B+(R^j&(L^R))+D[15]+3634488961&4294967295,B=L+(F<<14&4294967295|F>>>18),F=j+(L^R&(B^L))+D[4]+3889429448&4294967295,j=B+(F<<20&4294967295|F>>>12),F=R+(B^L&(j^B))+D[9]+568446438&4294967295,R=j+(F<<5&4294967295|F>>>27),F=L+(j^B&(R^j))+D[14]+3275163606&4294967295,L=R+(F<<9&4294967295|F>>>23),F=B+(R^j&(L^R))+D[3]+4107603335&4294967295,B=L+(F<<14&4294967295|F>>>18),F=j+(L^R&(B^L))+D[8]+1163531501&4294967295,j=B+(F<<20&4294967295|F>>>12),F=R+(B^L&(j^B))+D[13]+2850285829&4294967295,R=j+(F<<5&4294967295|F>>>27),F=L+(j^B&(R^j))+D[2]+4243563512&4294967295,L=R+(F<<9&4294967295|F>>>23),F=B+(R^j&(L^R))+D[7]+1735328473&4294967295,B=L+(F<<14&4294967295|F>>>18),F=j+(L^R&(B^L))+D[12]+2368359562&4294967295,j=B+(F<<20&4294967295|F>>>12),F=R+(j^B^L)+D[5]+4294588738&4294967295,R=j+(F<<4&4294967295|F>>>28),F=L+(R^j^B)+D[8]+2272392833&4294967295,L=R+(F<<11&4294967295|F>>>21),F=B+(L^R^j)+D[11]+1839030562&4294967295,B=L+(F<<16&4294967295|F>>>16),F=j+(B^L^R)+D[14]+4259657740&4294967295,j=B+(F<<23&4294967295|F>>>9),F=R+(j^B^L)+D[1]+2763975236&4294967295,R=j+(F<<4&4294967295|F>>>28),F=L+(R^j^B)+D[4]+1272893353&4294967295,L=R+(F<<11&4294967295|F>>>21),F=B+(L^R^j)+D[7]+4139469664&4294967295,B=L+(F<<16&4294967295|F>>>16),F=j+(B^L^R)+D[10]+3200236656&4294967295,j=B+(F<<23&4294967295|F>>>9),F=R+(j^B^L)+D[13]+681279174&4294967295,R=j+(F<<4&4294967295|F>>>28),F=L+(R^j^B)+D[0]+3936430074&4294967295,L=R+(F<<11&4294967295|F>>>21),F=B+(L^R^j)+D[3]+3572445317&4294967295,B=L+(F<<16&4294967295|F>>>16),F=j+(B^L^R)+D[6]+76029189&4294967295,j=B+(F<<23&4294967295|F>>>9),F=R+(j^B^L)+D[9]+3654602809&4294967295,R=j+(F<<4&4294967295|F>>>28),F=L+(R^j^B)+D[12]+3873151461&4294967295,L=R+(F<<11&4294967295|F>>>21),F=B+(L^R^j)+D[15]+530742520&4294967295,B=L+(F<<16&4294967295|F>>>16),F=j+(B^L^R)+D[2]+3299628645&4294967295,j=B+(F<<23&4294967295|F>>>9),F=R+(B^(j|~L))+D[0]+4096336452&4294967295,R=j+(F<<6&4294967295|F>>>26),F=L+(j^(R|~B))+D[7]+1126891415&4294967295,L=R+(F<<10&4294967295|F>>>22),F=B+(R^(L|~j))+D[14]+2878612391&4294967295,B=L+(F<<15&4294967295|F>>>17),F=j+(L^(B|~R))+D[5]+4237533241&4294967295,j=B+(F<<21&4294967295|F>>>11),F=R+(B^(j|~L))+D[12]+1700485571&4294967295,R=j+(F<<6&4294967295|F>>>26),F=L+(j^(R|~B))+D[3]+2399980690&4294967295,L=R+(F<<10&4294967295|F>>>22),F=B+(R^(L|~j))+D[10]+4293915773&4294967295,B=L+(F<<15&4294967295|F>>>17),F=j+(L^(B|~R))+D[1]+2240044497&4294967295,j=B+(F<<21&4294967295|F>>>11),F=R+(B^(j|~L))+D[8]+1873313359&4294967295,R=j+(F<<6&4294967295|F>>>26),F=L+(j^(R|~B))+D[15]+4264355552&4294967295,L=R+(F<<10&4294967295|F>>>22),F=B+(R^(L|~j))+D[6]+2734768916&4294967295,B=L+(F<<15&4294967295|F>>>17),F=j+(L^(B|~R))+D[13]+1309151649&4294967295,j=B+(F<<21&4294967295|F>>>11),F=R+(B^(j|~L))+D[4]+4149444226&4294967295,R=j+(F<<6&4294967295|F>>>26),F=L+(j^(R|~B))+D[11]+3174756917&4294967295,L=R+(F<<10&4294967295|F>>>22),F=B+(R^(L|~j))+D[2]+718787259&4294967295,B=L+(F<<15&4294967295|F>>>17),F=j+(L^(B|~R))+D[9]+3951481745&4294967295,N.g[0]=N.g[0]+R&4294967295,N.g[1]=N.g[1]+(B+(F<<21&4294967295|F>>>11))&4294967295,N.g[2]=N.g[2]+B&4294967295,N.g[3]=N.g[3]+L&4294967295}r.prototype.v=function(N,R){R===void 0&&(R=N.length);const j=R-this.blockSize,D=this.C;let B=this.h,L=0;for(;L<R;){if(B==0)for(;L<=j;)i(this,N,L),L+=this.blockSize;if(typeof N=="string"){for(;L<R;)if(D[B++]=N.charCodeAt(L++),B==this.blockSize){i(this,D),B=0;break}}else for(;L<R;)if(D[B++]=N[L++],B==this.blockSize){i(this,D),B=0;break}}this.h=B,this.o+=R},r.prototype.A=function(){var N=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);N[0]=128;for(var R=1;R<N.length-8;++R)N[R]=0;R=this.o*8;for(var j=N.length-8;j<N.length;++j)N[j]=R&255,R/=256;for(this.v(N),N=Array(16),R=0,j=0;j<4;++j)for(let D=0;D<32;D+=8)N[R++]=this.g[j]>>>D&255;return N};function s(N,R){var j=a;return Object.prototype.hasOwnProperty.call(j,N)?j[N]:j[N]=R(N)}function o(N,R){this.h=R;const j=[];let D=!0;for(let B=N.length-1;B>=0;B--){const L=N[B]|0;D&&L==R||(j[B]=L,D=!1)}this.g=j}var a={};function l(N){return-128<=N&&N<128?s(N,function(R){return new o([R|0],R<0?-1:0)}):new o([N|0],N<0?-1:0)}function c(N){if(isNaN(N)||!isFinite(N))return p;if(N<0)return I(c(-N));const R=[];let j=1;for(let D=0;N>=j;D++)R[D]=N/j|0,j*=4294967296;return new o(R,0)}function h(N,R){if(N.length==0)throw Error("number format error: empty string");if(R=R||10,R<2||36<R)throw Error("radix out of range: "+R);if(N.charAt(0)=="-")return I(h(N.substring(1),R));if(N.indexOf("-")>=0)throw Error('number format error: interior "-" character');const j=c(Math.pow(R,8));let D=p;for(let L=0;L<N.length;L+=8){var B=Math.min(8,N.length-L);const F=parseInt(N.substring(L,L+B),R);B<8?(B=c(Math.pow(R,B)),D=D.j(B).add(c(F))):(D=D.j(j),D=D.add(c(F)))}return D}var p=l(0),m=l(1),w=l(16777216);t=o.prototype,t.m=function(){if(_(this))return-I(this).m();let N=0,R=1;for(let j=0;j<this.g.length;j++){const D=this.i(j);N+=(D>=0?D:4294967296+D)*R,R*=4294967296}return N},t.toString=function(N){if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(T(this))return"0";if(_(this))return"-"+I(this).toString(N);const R=c(Math.pow(N,6));var j=this;let D="";for(;;){const B=M(j,R).g;j=b(j,B.j(R));let L=((j.g.length>0?j.g[0]:j.h)>>>0).toString(N);if(j=B,T(j))return L+D;for(;L.length<6;)L="0"+L;D=L+D}},t.i=function(N){return N<0?0:N<this.g.length?this.g[N]:this.h};function T(N){if(N.h!=0)return!1;for(let R=0;R<N.g.length;R++)if(N.g[R]!=0)return!1;return!0}function _(N){return N.h==-1}t.l=function(N){return N=b(this,N),_(N)?-1:T(N)?0:1};function I(N){const R=N.g.length,j=[];for(let D=0;D<R;D++)j[D]=~N.g[D];return new o(j,~N.h).add(m)}t.abs=function(){return _(this)?I(this):this},t.add=function(N){const R=Math.max(this.g.length,N.g.length),j=[];let D=0;for(let B=0;B<=R;B++){let L=D+(this.i(B)&65535)+(N.i(B)&65535),F=(L>>>16)+(this.i(B)>>>16)+(N.i(B)>>>16);D=F>>>16,L&=65535,F&=65535,j[B]=F<<16|L}return new o(j,j[j.length-1]&-2147483648?-1:0)};function b(N,R){return N.add(I(R))}t.j=function(N){if(T(this)||T(N))return p;if(_(this))return _(N)?I(this).j(I(N)):I(I(this).j(N));if(_(N))return I(this.j(I(N)));if(this.l(w)<0&&N.l(w)<0)return c(this.m()*N.m());const R=this.g.length+N.g.length,j=[];for(var D=0;D<2*R;D++)j[D]=0;for(D=0;D<this.g.length;D++)for(let B=0;B<N.g.length;B++){const L=this.i(D)>>>16,F=this.i(D)&65535,ae=N.i(B)>>>16,Ce=N.i(B)&65535;j[2*D+2*B]+=F*Ce,E(j,2*D+2*B),j[2*D+2*B+1]+=L*Ce,E(j,2*D+2*B+1),j[2*D+2*B+1]+=F*ae,E(j,2*D+2*B+1),j[2*D+2*B+2]+=L*ae,E(j,2*D+2*B+2)}for(N=0;N<R;N++)j[N]=j[2*N+1]<<16|j[2*N];for(N=R;N<2*R;N++)j[N]=0;return new o(j,0)};function E(N,R){for(;(N[R]&65535)!=N[R];)N[R+1]+=N[R]>>>16,N[R]&=65535,R++}function k(N,R){this.g=N,this.h=R}function M(N,R){if(T(R))throw Error("division by zero");if(T(N))return new k(p,p);if(_(N))return R=M(I(N),R),new k(I(R.g),I(R.h));if(_(R))return R=M(N,I(R)),new k(I(R.g),R.h);if(N.g.length>30){if(_(N)||_(R))throw Error("slowDivide_ only works with positive integers.");for(var j=m,D=R;D.l(N)<=0;)j=U(j),D=U(D);var B=H(j,1),L=H(D,1);for(D=H(D,2),j=H(j,2);!T(D);){var F=L.add(D);F.l(N)<=0&&(B=B.add(j),L=F),D=H(D,1),j=H(j,1)}return R=b(N,B.j(R)),new k(B,R)}for(B=p;N.l(R)>=0;){for(j=Math.max(1,Math.floor(N.m()/R.m())),D=Math.ceil(Math.log(j)/Math.LN2),D=D<=48?1:Math.pow(2,D-48),L=c(j),F=L.j(R);_(F)||F.l(N)>0;)j-=D,L=c(j),F=L.j(R);T(L)&&(L=m),B=B.add(L),N=b(N,F)}return new k(B,N)}t.B=function(N){return M(this,N).h},t.and=function(N){const R=Math.max(this.g.length,N.g.length),j=[];for(let D=0;D<R;D++)j[D]=this.i(D)&N.i(D);return new o(j,this.h&N.h)},t.or=function(N){const R=Math.max(this.g.length,N.g.length),j=[];for(let D=0;D<R;D++)j[D]=this.i(D)|N.i(D);return new o(j,this.h|N.h)},t.xor=function(N){const R=Math.max(this.g.length,N.g.length),j=[];for(let D=0;D<R;D++)j[D]=this.i(D)^N.i(D);return new o(j,this.h^N.h)};function U(N){const R=N.g.length+1,j=[];for(let D=0;D<R;D++)j[D]=N.i(D)<<1|N.i(D-1)>>>31;return new o(j,N.h)}function H(N,R){const j=R>>5;R%=32;const D=N.g.length-j,B=[];for(let L=0;L<D;L++)B[L]=R>0?N.i(L+j)>>>R|N.i(L+j+1)<<32-R:N.i(L+j);return new o(B,N.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=c,o.fromString=h,ux=o}).apply(typeof fE<"u"?fE:typeof self<"u"?self:typeof window<"u"?window:{});var $f=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof $f=="object"&&$f];for(var v=0;v<u.length;++v){var C=u[v];if(C&&C.Math==Math)return C}throw Error("Cannot find global object")}var r=n(this);function i(u,v){if(v)e:{var C=r;u=u.split(".");for(var O=0;O<u.length-1;O++){var Z=u[O];if(!(Z in C))break e;C=C[Z]}u=u[u.length-1],O=C[u],v=v(O),v!=O&&v!=null&&e(C,u,{configurable:!0,writable:!0,value:v})}}i("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(u){return u||function(v){var C=[],O;for(O in v)Object.prototype.hasOwnProperty.call(v,O)&&C.push([O,v[O]]);return C}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var s=s||{},o=this||self;function a(u){var v=typeof u;return v=="object"&&u!=null||v=="function"}function l(u,v,C){return u.call.apply(u.bind,arguments)}function c(u,v,C){return c=l,c.apply(null,arguments)}function h(u,v){var C=Array.prototype.slice.call(arguments,1);return function(){var O=C.slice();return O.push.apply(O,arguments),u.apply(this,O)}}function p(u,v){function C(){}C.prototype=v.prototype,u.Z=v.prototype,u.prototype=new C,u.prototype.constructor=u,u.Ob=function(O,Z,ne){for(var fe=Array(arguments.length-2),Me=2;Me<arguments.length;Me++)fe[Me-2]=arguments[Me];return v.prototype[Z].apply(O,fe)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function w(u){const v=u.length;if(v>0){const C=Array(v);for(let O=0;O<v;O++)C[O]=u[O];return C}return[]}function T(u,v){for(let O=1;O<arguments.length;O++){const Z=arguments[O];var C=typeof Z;if(C=C!="object"?C:Z?Array.isArray(Z)?"array":C:"null",C=="array"||C=="object"&&typeof Z.length=="number"){C=u.length||0;const ne=Z.length||0;u.length=C+ne;for(let fe=0;fe<ne;fe++)u[C+fe]=Z[fe]}else u.push(Z)}}class _{constructor(v,C){this.i=v,this.j=C,this.h=0,this.g=null}get(){let v;return this.h>0?(this.h--,v=this.g,this.g=v.next,v.next=null):v=this.i(),v}}function I(u){o.setTimeout(()=>{throw u},0)}function b(){var u=N;let v=null;return u.g&&(v=u.g,u.g=u.g.next,u.g||(u.h=null),v.next=null),v}class E{constructor(){this.h=this.g=null}add(v,C){const O=k.get();O.set(v,C),this.h?this.h.next=O:this.g=O,this.h=O}}var k=new _(()=>new M,u=>u.reset());class M{constructor(){this.next=this.g=this.h=null}set(v,C){this.h=v,this.g=C,this.next=null}reset(){this.next=this.g=this.h=null}}let U,H=!1,N=new E,R=()=>{const u=Promise.resolve(void 0);U=()=>{u.then(j)}};function j(){for(var u;u=b();){try{u.h.call(u.g)}catch(C){I(C)}var v=k;v.j(u),v.h<100&&(v.h++,u.next=v.g,v.g=u)}H=!1}function D(){this.u=this.u,this.C=this.C}D.prototype.u=!1,D.prototype.dispose=function(){this.u||(this.u=!0,this.N())},D.prototype[Symbol.dispose]=function(){this.dispose()},D.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function B(u,v){this.type=u,this.g=this.target=v,this.defaultPrevented=!1}B.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,v=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const C=()=>{};o.addEventListener("test",C,v),o.removeEventListener("test",C,v)}catch{}return u}();function F(u){return/^[\s\xa0]*$/.test(u)}function ae(u,v){B.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,v)}p(ae,B),ae.prototype.init=function(u,v){const C=this.type=u.type,O=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=v,v=u.relatedTarget,v||(C=="mouseover"?v=u.fromElement:C=="mouseout"&&(v=u.toElement)),this.relatedTarget=v,O?(this.clientX=O.clientX!==void 0?O.clientX:O.pageX,this.clientY=O.clientY!==void 0?O.clientY:O.pageY,this.screenX=O.screenX||0,this.screenY=O.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&ae.Z.h.call(this)},ae.prototype.h=function(){ae.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var Ce="closure_listenable_"+(Math.random()*1e6|0),xe=0;function Te(u,v,C,O,Z){this.listener=u,this.proxy=null,this.src=v,this.type=C,this.capture=!!O,this.ha=Z,this.key=++xe,this.da=this.fa=!1}function re(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function le(u,v,C){for(const O in u)v.call(C,u[O],O,u)}function _e(u,v){for(const C in u)v.call(void 0,u[C],C,u)}function Re(u){const v={};for(const C in u)v[C]=u[C];return v}const Ze="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function bt(u,v){let C,O;for(let Z=1;Z<arguments.length;Z++){O=arguments[Z];for(C in O)u[C]=O[C];for(let ne=0;ne<Ze.length;ne++)C=Ze[ne],Object.prototype.hasOwnProperty.call(O,C)&&(u[C]=O[C])}}function mt(u){this.src=u,this.g={},this.h=0}mt.prototype.add=function(u,v,C,O,Z){const ne=u.toString();u=this.g[ne],u||(u=this.g[ne]=[],this.h++);const fe=yt(u,v,O,Z);return fe>-1?(v=u[fe],C||(v.fa=!1)):(v=new Te(v,this.src,ne,!!O,Z),v.fa=C,u.push(v)),v};function Qt(u,v){const C=v.type;if(C in u.g){var O=u.g[C],Z=Array.prototype.indexOf.call(O,v,void 0),ne;(ne=Z>=0)&&Array.prototype.splice.call(O,Z,1),ne&&(re(v),u.g[C].length==0&&(delete u.g[C],u.h--))}}function yt(u,v,C,O){for(let Z=0;Z<u.length;++Z){const ne=u[Z];if(!ne.da&&ne.listener==v&&ne.capture==!!C&&ne.ha==O)return Z}return-1}var Ie="closure_lm_"+(Math.random()*1e6|0),it={};function we(u,v,C,O,Z){if(Array.isArray(v)){for(let ne=0;ne<v.length;ne++)we(u,v[ne],C,O,Z);return null}return C=Tl(C),u&&u[Ce]?u.J(v,C,a(O)?!!O.capture:!!O,Z):st(u,v,C,!1,O,Z)}function st(u,v,C,O,Z,ne){if(!v)throw Error("Invalid event type");const fe=a(Z)?!!Z.capture:!!Z;let Me=$r(u);if(Me||(u[Ie]=Me=new mt(u)),C=Me.add(v,C,O,fe,ne),C.proxy)return C;if(O=qe(),C.proxy=O,O.src=u,O.listener=C,u.addEventListener)L||(Z=fe),Z===void 0&&(Z=!1),u.addEventListener(v.toString(),O,Z);else if(u.attachEvent)u.attachEvent(An(v.toString()),O);else if(u.addListener&&u.removeListener)u.addListener(O);else throw Error("addEventListener and attachEvent are unavailable.");return C}function qe(){function u(C){return v.call(u.src,u.listener,C)}const v=Nn;return u}function Pe(u,v,C,O,Z){if(Array.isArray(v))for(var ne=0;ne<v.length;ne++)Pe(u,v[ne],C,O,Z);else O=a(O)?!!O.capture:!!O,C=Tl(C),u&&u[Ce]?(u=u.i,ne=String(v).toString(),ne in u.g&&(v=u.g[ne],C=yt(v,C,O,Z),C>-1&&(re(v[C]),Array.prototype.splice.call(v,C,1),v.length==0&&(delete u.g[ne],u.h--)))):u&&(u=$r(u))&&(v=u.g[v.toString()],u=-1,v&&(u=yt(v,C,O,Z)),(C=u>-1?v[u]:null)&&It(C))}function It(u){if(typeof u!="number"&&u&&!u.da){var v=u.src;if(v&&v[Ce])Qt(v.i,u);else{var C=u.type,O=u.proxy;v.removeEventListener?v.removeEventListener(C,O,u.capture):v.detachEvent?v.detachEvent(An(C),O):v.addListener&&v.removeListener&&v.removeListener(O),(C=$r(v))?(Qt(C,u),C.h==0&&(C.src=null,v[Ie]=null)):re(u)}}}function An(u){return u in it?it[u]:it[u]="on"+u}function Nn(u,v){if(u.da)u=!0;else{v=new ae(v,this);const C=u.listener,O=u.ha||u.src;u.fa&&It(u),u=C.call(O,v)}return u}function $r(u){return u=u[Ie],u instanceof mt?u:null}var zr="__closure_events_fn_"+(Math.random()*1e9>>>0);function Tl(u){return typeof u=="function"?u:(u[zr]||(u[zr]=function(v){return u.handleEvent(v)}),u[zr])}function kt(){D.call(this),this.i=new mt(this),this.M=this,this.G=null}p(kt,D),kt.prototype[Ce]=!0,kt.prototype.removeEventListener=function(u,v,C,O){Pe(this,u,v,C,O)};function Xt(u,v){var C,O=u.G;if(O)for(C=[];O;O=O.G)C.push(O);if(u=u.M,O=v.type||v,typeof v=="string")v=new B(v,u);else if(v instanceof B)v.target=v.target||u;else{var Z=v;v=new B(O,u),bt(v,Z)}Z=!0;let ne,fe;if(C)for(fe=C.length-1;fe>=0;fe--)ne=v.g=C[fe],Z=On(ne,O,!0,v)&&Z;if(ne=v.g=u,Z=On(ne,O,!0,v)&&Z,Z=On(ne,O,!1,v)&&Z,C)for(fe=0;fe<C.length;fe++)ne=v.g=C[fe],Z=On(ne,O,!1,v)&&Z}kt.prototype.N=function(){if(kt.Z.N.call(this),this.i){var u=this.i;for(const v in u.g){const C=u.g[v];for(let O=0;O<C.length;O++)re(C[O]);delete u.g[v],u.h--}}this.G=null},kt.prototype.J=function(u,v,C,O){return this.i.add(String(u),v,!1,C,O)},kt.prototype.K=function(u,v,C,O){return this.i.add(String(u),v,!0,C,O)};function On(u,v,C,O){if(v=u.i.g[String(v)],!v)return!0;v=v.concat();let Z=!0;for(let ne=0;ne<v.length;++ne){const fe=v[ne];if(fe&&!fe.da&&fe.capture==C){const Me=fe.listener,jt=fe.ha||fe.src;fe.fa&&Qt(u.i,fe),Z=Me.call(jt,O)!==!1&&Z}}return Z&&!O.defaultPrevented}function rf(u,v){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=c(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(v)>2147483647?-1:o.setTimeout(u,v||0)}function Hs(u){u.g=rf(()=>{u.g=null,u.i&&(u.i=!1,Hs(u))},u.l);const v=u.h;u.h=null,u.m.apply(null,v)}class sf extends D{constructor(v,C){super(),this.m=v,this.l=C,this.h=null,this.i=!1,this.g=null}j(v){this.h=arguments,this.g?this.i=!0:Hs(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function Wr(u){D.call(this),this.h=u,this.g={}}p(Wr,D);var Si=[];function Ei(u){le(u.g,function(v,C){this.g.hasOwnProperty(C)&&It(v)},u),u.g={}}Wr.prototype.N=function(){Wr.Z.N.call(this),Ei(this)},Wr.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var pa=o.JSON.stringify,ma=o.JSON.parse,Eu=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ga(){}function rs(){}var Ci={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function ya(){B.call(this,"d")}p(ya,B);function br(){B.call(this,"c")}p(br,B);var Ee={},Ks=null;function Hr(){return Ks=Ks||new kt}Ee.Ia="serverreachability";function va(u){B.call(this,Ee.Ia,u)}p(va,B);function ge(u){const v=Hr();Xt(v,new va(v))}Ee.STAT_EVENT="statevent";function Pl(u,v){B.call(this,Ee.STAT_EVENT,u),this.stat=v}p(Pl,B);function rn(u){const v=Hr();Xt(v,new Pl(v,u))}Ee.Ja="timingevent";function Il(u,v){B.call(this,Ee.Ja,u),this.size=v}p(Il,B);function Gs(u,v){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},v)}function is(){this.g=!0}is.prototype.ua=function(){this.g=!1};function ey(u,v,C,O,Z,ne){u.info(function(){if(u.g)if(ne){var fe="",Me=ne.split("&");for(let ct=0;ct<Me.length;ct++){var jt=Me[ct].split("=");if(jt.length>1){const Lt=jt[0];jt=jt[1];const jn=Lt.split("_");fe=jn.length>=2&&jn[1]=="type"?fe+(Lt+"="+jt+"&"):fe+(Lt+"=redacted&")}}}else fe=null;else fe=ne;return"XMLHTTP REQ ("+O+") [attempt "+Z+"]: "+v+`
`+C+`
`+fe})}function ty(u,v,C,O,Z,ne,fe){u.info(function(){return"XMLHTTP RESP ("+O+") [ attempt "+Z+"]: "+v+`
`+C+`
`+ne+" "+fe})}function ir(u,v,C,O){u.info(function(){return"XMLHTTP TEXT ("+v+"): "+Cu(u,C)+(O?" "+O:"")})}function qs(u,v){u.info(function(){return"TIMEOUT: "+v})}is.prototype.info=function(){};function Cu(u,v){if(!u.g)return v;if(!v)return null;try{const ne=JSON.parse(v);if(ne){for(u=0;u<ne.length;u++)if(Array.isArray(ne[u])){var C=ne[u];if(!(C.length<2)){var O=C[1];if(Array.isArray(O)&&!(O.length<1)){var Z=O[0];if(Z!="noop"&&Z!="stop"&&Z!="close")for(let fe=1;fe<O.length;fe++)O[fe]=""}}}}return pa(ne)}catch{return v}}var Ys={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},vt={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},zt;function Tu(){}p(Tu,ga),Tu.prototype.g=function(){return new XMLHttpRequest},zt=new Tu;function Ti(u){return encodeURIComponent(String(u))}function kl(u){var v=1;u=u.split(":");const C=[];for(;v>0&&u.length;)C.push(u.shift()),v--;return u.length&&C.push(u.join(":")),C}function sr(u,v,C,O){this.j=u,this.i=v,this.l=C,this.S=O||1,this.V=new Wr(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new of}function of(){this.i=null,this.g="",this.h=!1}var Kr={},Pi={};function Sr(u,v,C){u.M=1,u.A=Ea(ar(v)),u.u=C,u.R=!0,_a(u,null)}function _a(u,v){u.F=Date.now(),Er(u),u.B=ar(u.A);var C=u.B,O=u.S;Array.isArray(O)||(O=[String(O)]),df(C.i,"t",O),u.C=0,C=u.j.L,u.h=new of,u.g=Jt(u.j,C?v:null,!u.u),u.P>0&&(u.O=new sf(c(u.Y,u,u.g),u.P)),v=u.V,C=u.g,O=u.ba;var Z="readystatechange";Array.isArray(Z)||(Z&&(Si[0]=Z.toString()),Z=Si);for(let ne=0;ne<Z.length;ne++){const fe=we(C,Z[ne],O||v.handleEvent,!1,v.h||v);if(!fe)break;v.g[fe.key]=fe}v=u.J?Re(u.J):{},u.u?(u.v||(u.v="POST"),v["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,v)):(u.v="GET",u.g.ea(u.B,u.v,null,v)),ge(),ey(u.i,u.v,u.B,u.l,u.S,u.u)}sr.prototype.ba=function(u){u=u.target;const v=this.O;v&&Ni(u)==3?v.j():this.Y(u)},sr.prototype.Y=function(u){try{if(u==this.g)e:{const Me=Ni(this.g),jt=this.g.ya(),ct=this.g.ca();if(!(Me<3)&&(Me!=3||this.g&&(this.h.h||this.g.la()||Zs(this.g)))){this.K||Me!=4||jt==7||(jt==8||ct<=0?ge(3):ge(2)),wa(this);var v=this.g.ca();this.X=v;var C=ny(this);if(this.o=v==200,ty(this.i,this.v,this.B,this.l,this.S,Me,v),this.o){if(this.U&&!this.L){t:{if(this.g){var O,Z=this.g;if((O=Z.g?Z.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!F(O)){var ne=O;break t}}ne=null}if(u=ne)ir(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,or(this,u);else{this.o=!1,this.m=3,rn(12),Dn(this),gt(this);break e}}if(this.R){u=!0;let Lt;for(;!this.K&&this.C<C.length;)if(Lt=af(this,C),Lt==Pi){Me==4&&(this.m=4,rn(14),u=!1),ir(this.i,this.l,null,"[Incomplete Response]");break}else if(Lt==Kr){this.m=4,rn(15),ir(this.i,this.l,C,"[Invalid Chunk]"),u=!1;break}else ir(this.i,this.l,Lt,null),or(this,Lt);if(Gr(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Me!=4||C.length!=0||this.h.h||(this.m=1,rn(16),u=!1),this.o=this.o&&u,!u)ir(this.i,this.l,C,"[Invalid Chunked Response]"),Dn(this),gt(this);else if(C.length>0&&!this.W){this.W=!0;var fe=this.j;fe.g==this&&fe.aa&&!fe.P&&(fe.j.info("Great, no buffering proxy detected. Bytes received: "+C.length),ro(fe),fe.P=!0,rn(11))}}else ir(this.i,this.l,C,null),or(this,C);Me==4&&Dn(this),this.o&&!this.K&&(Me==4?cs(this.j,this):(this.o=!1,Er(this)))}else ry(this.g),v==400&&C.indexOf("Unknown SID")>0?(this.m=3,rn(12)):(this.m=0,rn(13)),Dn(this),gt(this)}}}catch{}finally{}};function ny(u){if(!Gr(u))return u.g.la();const v=Zs(u.g);if(v==="")return"";let C="";const O=v.length,Z=Ni(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return Dn(u),gt(u),"";u.h.i=new o.TextDecoder}for(let ne=0;ne<O;ne++)u.h.h=!0,C+=u.h.i.decode(v[ne],{stream:!(Z&&ne==O-1)});return v.length=0,u.h.g+=C,u.C=0,u.h.g}function Gr(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function af(u,v){var C=u.C,O=v.indexOf(`
`,C);return O==-1?Pi:(C=Number(v.substring(C,O)),isNaN(C)?Kr:(O+=1,O+C>v.length?Pi:(v=v.slice(O,O+C),u.C=O+C,v)))}sr.prototype.cancel=function(){this.K=!0,Dn(this)};function Er(u){u.T=Date.now()+u.H,Pu(u,u.H)}function Pu(u,v){if(u.D!=null)throw Error("WatchDog timer not null");u.D=Gs(c(u.aa,u),v)}function wa(u){u.D&&(o.clearTimeout(u.D),u.D=null)}sr.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(qs(this.i,this.B),this.M!=2&&(ge(),rn(17)),Dn(this),this.m=2,gt(this)):Pu(this,this.T-u)};function gt(u){u.j.I==0||u.K||cs(u.j,u)}function Dn(u){wa(u);var v=u.O;v&&typeof v.dispose=="function"&&v.dispose(),u.O=null,Ei(u.V),u.g&&(v=u.g,u.g=null,v.abort(),v.dispose())}function or(u,v){try{var C=u.j;if(C.I!=0&&(C.g==u||ba(C.h,u))){if(!u.L&&ba(C.h,u)&&C.I==3){try{var O=C.Ba.g.parse(v)}catch{O=null}if(Array.isArray(O)&&O.length==3){var Z=O;if(Z[0]==0){e:if(!C.v){if(C.g)if(C.g.F+3e3<u.F)Fl(C),to(C);else break e;no(C),rn(18)}}else C.xa=Z[1],0<C.xa-C.K&&Z[2]<37500&&C.F&&C.A==0&&!C.C&&(C.C=Gs(c(C.Va,C),6e3));Rl(C.h)<=1&&C.ta&&(C.ta=void 0)}else ti(C,11)}else if((u.L||C.g==u)&&Fl(C),!F(v))for(Z=C.Ba.g.parse(v),v=0;v<Z.length;v++){let ct=Z[v];const Lt=ct[0];if(!(Lt<=C.K))if(C.K=Lt,ct=ct[1],C.I==2)if(ct[0]=="c"){C.M=ct[1],C.ba=ct[2];const jn=ct[3];jn!=null&&(C.ka=jn,C.j.info("VER="+C.ka));const ds=ct[4];ds!=null&&(C.za=ds,C.j.info("SVER="+C.za));const Cr=ct[5];Cr!=null&&typeof Cr=="number"&&Cr>0&&(O=1.5*Cr,C.O=O,C.j.info("backChannelRequestTimeoutMs_="+O)),O=C;const Tr=u.g;if(Tr){const $l=Tr.g?Tr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if($l){var ne=O.h;ne.g||$l.indexOf("spdy")==-1&&$l.indexOf("quic")==-1&&$l.indexOf("h2")==-1||(ne.j=ne.l,ne.g=new Set,ne.h&&(qr(ne,ne.h),ne.h=null))}if(O.G){const zl=Tr.g?Tr.g.getResponseHeader("X-HTTP-Session-Id"):null;zl&&(O.wa=zl,ft(O.J,O.G,zl))}}C.I=3,C.l&&C.l.ra(),C.aa&&(C.T=Date.now()-u.F,C.j.info("Handshake RTT: "+C.T+"ms")),O=C;var fe=u;if(O.na=Bl(O,O.L?O.ba:null,O.W),fe.L){Iu(O.h,fe);var Me=fe,jt=O.O;jt&&(Me.H=jt),Me.D&&(wa(Me),Er(Me)),O.g=fe}else ka(O);C.i.length>0&&jl(C)}else ct[0]!="stop"&&ct[0]!="close"||ti(C,7);else C.I==3&&(ct[0]=="stop"||ct[0]=="close"?ct[0]=="stop"?ti(C,7):eo(C):ct[0]!="noop"&&C.l&&C.l.qa(ct),C.A=0)}}ge(4)}catch{}}var lf=class{constructor(u,v){this.g=u,this.map=v}};function ss(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function xa(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function Rl(u){return u.h?1:u.g?u.g.size:0}function ba(u,v){return u.h?u.h==v:u.g?u.g.has(v):!1}function qr(u,v){u.g?u.g.add(v):u.h=v}function Iu(u,v){u.h&&u.h==v?u.h=null:u.g&&u.g.has(v)&&u.g.delete(v)}ss.prototype.cancel=function(){if(this.i=Sa(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function Sa(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let v=u.i;for(const C of u.g.values())v=v.concat(C.G);return v}return w(u.i)}var ku=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function He(u,v){if(u){u=u.split("&");for(let C=0;C<u.length;C++){const O=u[C].indexOf("=");let Z,ne=null;O>=0?(Z=u[C].substring(0,O),ne=u[C].substring(O+1)):Z=u[C],v(Z,ne?decodeURIComponent(ne.replace(/\+/g," ")):"")}}}function Yr(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let v;u instanceof Yr?(this.l=u.l,Ii(this,u.j),this.o=u.o,this.g=u.g,Qr(this,u.u),this.h=u.h,Al(this,hf(u.i)),this.m=u.m):u&&(v=String(u).match(ku))?(this.l=!1,Ii(this,v[1]||"",!0),this.o=tt(v[2]||""),this.g=tt(v[3]||"",!0),Qr(this,v[4]),this.h=tt(v[5]||"",!0),Al(this,v[6]||"",!0),this.m=tt(v[7]||"")):(this.l=!1,this.i=new ki(null,this.l))}Yr.prototype.toString=function(){const u=[];var v=this.j;v&&u.push(Xr(v,os,!0),":");var C=this.g;return(C||v=="file")&&(u.push("//"),(v=this.o)&&u.push(Xr(v,os,!0),"@"),u.push(Ti(C).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),C=this.u,C!=null&&u.push(":",String(C))),(C=this.h)&&(this.g&&C.charAt(0)!="/"&&u.push("/"),u.push(Xr(C,C.charAt(0)=="/"?Au:Ru,!0))),(C=this.i.toString())&&u.push("?",C),(C=this.m)&&u.push("#",Xr(C,cf)),u.join("")},Yr.prototype.resolve=function(u){const v=ar(this);let C=!!u.j;C?Ii(v,u.j):C=!!u.o,C?v.o=u.o:C=!!u.g,C?v.g=u.g:C=u.u!=null;var O=u.h;if(C)Qr(v,u.u);else if(C=!!u.h){if(O.charAt(0)!="/")if(this.g&&!this.h)O="/"+O;else{var Z=v.h.lastIndexOf("/");Z!=-1&&(O=v.h.slice(0,Z+1)+O)}if(Z=O,Z==".."||Z==".")O="";else if(Z.indexOf("./")!=-1||Z.indexOf("/.")!=-1){O=Z.lastIndexOf("/",0)==0,Z=Z.split("/");const ne=[];for(let fe=0;fe<Z.length;){const Me=Z[fe++];Me=="."?O&&fe==Z.length&&ne.push(""):Me==".."?((ne.length>1||ne.length==1&&ne[0]!="")&&ne.pop(),O&&fe==Z.length&&ne.push("")):(ne.push(Me),O=!0)}O=ne.join("/")}else O=Z}return C?v.h=O:C=u.i.toString()!=="",C?Al(v,hf(u.i)):C=!!u.m,C&&(v.m=u.m),v};function ar(u){return new Yr(u)}function Ii(u,v,C){u.j=C?tt(v,!0):v,u.j&&(u.j=u.j.replace(/:$/,""))}function Qr(u,v){if(v){if(v=Number(v),isNaN(v)||v<0)throw Error("Bad port number "+v);u.u=v}else u.u=null}function Al(u,v,C){v instanceof ki?(u.i=v,Qs(u.i,u.l)):(C||(v=Xr(v,Nl)),u.i=new ki(v,u.l))}function ft(u,v,C){u.i.set(v,C)}function Ea(u){return ft(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function tt(u,v){return u?v?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Xr(u,v,C){return typeof u=="string"?(u=encodeURI(u).replace(v,Ca),C&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function Ca(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var os=/[#\/\?@]/g,Ru=/[#\?:]/g,Au=/[#\?]/g,Nl=/[#\?@]/g,cf=/#/g;function ki(u,v){this.h=this.g=null,this.i=u||null,this.j=!!v}function Ri(u){u.g||(u.g=new Map,u.h=0,u.i&&He(u.i,function(v,C){u.add(decodeURIComponent(v.replace(/\+/g," ")),C)}))}t=ki.prototype,t.add=function(u,v){Ri(this),this.i=null,u=Gt(this,u);let C=this.g.get(u);return C||this.g.set(u,C=[]),C.push(v),this.h+=1,this};function uf(u,v){Ri(u),v=Gt(u,v),u.g.has(v)&&(u.i=null,u.h-=u.g.get(v).length,u.g.delete(v))}function Ye(u,v){return Ri(u),v=Gt(u,v),u.g.has(v)}t.forEach=function(u,v){Ri(this),this.g.forEach(function(C,O){C.forEach(function(Z){u.call(v,Z,O,this)},this)},this)};function Nu(u,v){Ri(u);let C=[];if(typeof v=="string")Ye(u,v)&&(C=C.concat(u.g.get(Gt(u,v))));else for(u=Array.from(u.g.values()),v=0;v<u.length;v++)C=C.concat(u[v]);return C}t.set=function(u,v){return Ri(this),this.i=null,u=Gt(this,u),Ye(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[v]),this.h+=1,this},t.get=function(u,v){return u?(u=Nu(this,u),u.length>0?String(u[0]):v):v};function df(u,v,C){uf(u,v),C.length>0&&(u.i=null,u.g.set(Gt(u,v),w(C)),u.h+=C.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],v=Array.from(this.g.keys());for(let O=0;O<v.length;O++){var C=v[O];const Z=Ti(C);C=Nu(this,C);for(let ne=0;ne<C.length;ne++){let fe=Z;C[ne]!==""&&(fe+="="+Ti(C[ne])),u.push(fe)}}return this.i=u.join("&")};function hf(u){const v=new ki;return v.i=u.i,u.g&&(v.g=new Map(u.g),v.h=u.h),v}function Gt(u,v){return v=String(v),u.j&&(v=v.toLowerCase()),v}function Qs(u,v){v&&!u.j&&(Ri(u),u.i=null,u.g.forEach(function(C,O){const Z=O.toLowerCase();O!=Z&&(uf(this,O),df(this,Z,C))},u)),u.j=v}function Ol(u,v){const C=new is;if(o.Image){const O=new Image;O.onload=h(Jr,C,"TestLoadImage: loaded",!0,v,O),O.onerror=h(Jr,C,"TestLoadImage: error",!1,v,O),O.onabort=h(Jr,C,"TestLoadImage: abort",!1,v,O),O.ontimeout=h(Jr,C,"TestLoadImage: timeout",!1,v,O),o.setTimeout(function(){O.ontimeout&&O.ontimeout()},1e4),O.src=u}else v(!1)}function Ai(u,v){const C=new is,O=new AbortController,Z=setTimeout(()=>{O.abort(),Jr(C,"TestPingServer: timeout",!1,v)},1e4);fetch(u,{signal:O.signal}).then(ne=>{clearTimeout(Z),ne.ok?Jr(C,"TestPingServer: ok",!0,v):Jr(C,"TestPingServer: server error",!1,v)}).catch(()=>{clearTimeout(Z),Jr(C,"TestPingServer: error",!1,v)})}function Jr(u,v,C,O,Z){try{Z&&(Z.onload=null,Z.onerror=null,Z.onabort=null,Z.ontimeout=null),O(C)}catch{}}function ff(){this.g=new Eu}function Mt(u){this.i=u.Sb||null,this.h=u.ab||!1}p(Mt,ga),Mt.prototype.g=function(){return new Mn(this.i,this.h)};function Mn(u,v){kt.call(this),this.H=u,this.o=v,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Mn,kt),t=Mn.prototype,t.open=function(u,v){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=v,this.readyState=1,as(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const v={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(v.body=u),(this.H||o).fetch(new Request(this.D,v)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Zr(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,as(this)),this.g&&(this.readyState=3,as(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;Xs(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function Xs(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var v=u.value?u.value:new Uint8Array(0);(v=this.B.decode(v,{stream:!u.done}))&&(this.response=this.responseText+=v)}u.done?Zr(this):as(this),this.readyState==3&&Xs(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Zr(this))},t.Na=function(u){this.g&&(this.response=u,Zr(this))},t.ga=function(){this.g&&Zr(this)};function Zr(u){u.readyState=4,u.l=null,u.j=null,u.B=null,as(u)}t.setRequestHeader=function(u,v){this.A.append(u,v)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],v=this.h.entries();for(var C=v.next();!C.done;)C=C.value,u.push(C[0]+": "+C[1]),C=v.next();return u.join(`\r
`)};function as(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(Mn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function ei(u){let v="";return le(u,function(C,O){v+=O,v+=":",v+=C,v+=`\r
`}),v}function Ou(u,v,C){e:{for(O in C){var O=!1;break e}O=!0}O||(C=ei(C),typeof u=="string"?C!=null&&Ti(C):ft(u,v,C))}function nt(u){kt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(nt,kt);var Du=/^https?$/i,pf=["POST","PUT"];t=nt.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,v,C,O){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);v=v?v.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():zt.g(),this.g.onreadystatechange=m(c(this.Ca,this));try{this.B=!0,this.g.open(v,String(u),!0),this.B=!1}catch(ne){Dl(this,ne);return}if(u=C||"",C=new Map(this.headers),O)if(Object.getPrototypeOf(O)===Object.prototype)for(var Z in O)C.set(Z,O[Z]);else if(typeof O.keys=="function"&&typeof O.get=="function")for(const ne of O.keys())C.set(ne,O.get(ne));else throw Error("Unknown input type for opt_headers: "+String(O));O=Array.from(C.keys()).find(ne=>ne.toLowerCase()=="content-type"),Z=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(pf,v,void 0)>=0)||O||Z||C.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[ne,fe]of C)this.g.setRequestHeader(ne,fe);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch(ne){Dl(this,ne)}};function Dl(u,v){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=v,u.o=5,Js(u),Ta(u)}function Js(u){u.A||(u.A=!0,Xt(u,"complete"),Xt(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,Xt(this,"complete"),Xt(this,"abort"),Ta(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Ta(this,!0)),nt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?Ml(this):this.Xa())},t.Xa=function(){Ml(this)};function Ml(u){if(u.h&&typeof s<"u"){if(u.v&&Ni(u)==4)setTimeout(u.Ca.bind(u),0);else if(Xt(u,"readystatechange"),Ni(u)==4){u.h=!1;try{const ne=u.ca();e:switch(ne){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var v=!0;break e;default:v=!1}var C;if(!(C=v)){var O;if(O=ne===0){let fe=String(u.D).match(ku)[1]||null;!fe&&o.self&&o.self.location&&(fe=o.self.location.protocol.slice(0,-1)),O=!Du.test(fe?fe.toLowerCase():"")}C=O}if(C)Xt(u,"complete"),Xt(u,"success");else{u.o=6;try{var Z=Ni(u)>2?u.g.statusText:""}catch{Z=""}u.l=Z+" ["+u.ca()+"]",Js(u)}}finally{Ta(u)}}}}function Ta(u,v){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const C=u.g;u.g=null,v||Xt(u,"ready");try{C.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ni(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Ni(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var v=this.g.responseText;return u&&v.indexOf(u)==0&&(v=v.substring(u.length)),ma(v)}};function Zs(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function ry(u){const v={};u=(u.g&&Ni(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let O=0;O<u.length;O++){if(F(u[O]))continue;var C=kl(u[O]);const Z=C[0];if(C=C[1],typeof C!="string")continue;C=C.trim();const ne=v[Z]||[];v[Z]=ne,ne.push(C)}_e(v,function(O){return O.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Pa(u,v,C){return C&&C.internalChannelParams&&C.internalChannelParams[u]||v}function Ia(u){this.za=0,this.i=[],this.j=new is,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Pa("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Pa("baseRetryDelayMs",5e3,u),this.Za=Pa("retryDelaySeedMs",1e4,u),this.Ta=Pa("forwardChannelMaxRetries",2,u),this.va=Pa("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new ss(u&&u.concurrentRequestLimit),this.Ba=new ff,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=Ia.prototype,t.ka=8,t.I=1,t.connect=function(u,v,C,O){rn(0),this.W=u,this.H=v||{},C&&O!==void 0&&(this.H.OSID=C,this.H.OAID=O),this.F=this.X,this.J=Bl(this,null,this.W),jl(this)};function eo(u){if(mf(u),u.I==3){var v=u.V++,C=ar(u.J);if(ft(C,"SID",u.M),ft(C,"RID",v),ft(C,"TYPE","terminate"),ls(u,C),v=new sr(u,u.j,v),v.M=2,v.A=Ea(ar(C)),C=!1,o.navigator&&o.navigator.sendBeacon)try{C=o.navigator.sendBeacon(v.A.toString(),"")}catch{}!C&&o.Image&&(new Image().src=v.A,C=!0),C||(v.g=Jt(v.j,null),v.g.ea(v.A)),v.F=Date.now(),Er(v)}Ul(u)}function to(u){u.g&&(ro(u),u.g.cancel(),u.g=null)}function mf(u){to(u),u.v&&(o.clearTimeout(u.v),u.v=null),Fl(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function jl(u){if(!xa(u.h)&&!u.m){u.m=!0;var v=u.Ea;U||R(),H||(U(),H=!0),N.add(v,u),u.D=0}}function iy(u,v){return Rl(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=v.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=Gs(c(u.Ea,u,v),Vl(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const Z=new sr(this,this.j,u);let ne=this.o;if(this.U&&(ne?(ne=Re(ne),bt(ne,this.U)):ne=this.U),this.u!==null||this.R||(Z.J=ne,ne=null),this.S)e:{for(var v=0,C=0;C<this.i.length;C++){t:{var O=this.i[C];if("__data__"in O.map&&(O=O.map.__data__,typeof O=="string")){O=O.length;break t}O=void 0}if(O===void 0)break;if(v+=O,v>4096){v=C;break e}if(v===4096||C===this.i.length-1){v=C+1;break e}}v=1e3}else v=1e3;v=Mu(this,Z,v),C=ar(this.J),ft(C,"RID",u),ft(C,"CVER",22),this.G&&ft(C,"X-HTTP-Session-Id",this.G),ls(this,C),ne&&(this.R?v="headers="+Ti(ei(ne))+"&"+v:this.u&&Ou(C,this.u,ne)),qr(this.h,Z),this.Ra&&ft(C,"TYPE","init"),this.S?(ft(C,"$req",v),ft(C,"SID","null"),Z.U=!0,Sr(Z,C,null)):Sr(Z,C,v),this.I=2}}else this.I==3&&(u?Ll(this,u):this.i.length==0||xa(this.h)||Ll(this))};function Ll(u,v){var C;v?C=v.l:C=u.V++;const O=ar(u.J);ft(O,"SID",u.M),ft(O,"RID",C),ft(O,"AID",u.K),ls(u,O),u.u&&u.o&&Ou(O,u.u,u.o),C=new sr(u,u.j,C,u.D+1),u.u===null&&(C.J=u.o),v&&(u.i=v.G.concat(u.i)),v=Mu(u,C,1e3),C.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),qr(u.h,C),Sr(C,O,v)}function ls(u,v){u.H&&le(u.H,function(C,O){ft(v,O,C)}),u.l&&le({},function(C,O){ft(v,O,C)})}function Mu(u,v,C){C=Math.min(u.i.length,C);const O=u.l?c(u.l.Ka,u.l,u):null;e:{var Z=u.i;let Me=-1;for(;;){const jt=["count="+C];Me==-1?C>0?(Me=Z[0].g,jt.push("ofs="+Me)):Me=0:jt.push("ofs="+Me);let ct=!0;for(let Lt=0;Lt<C;Lt++){var ne=Z[Lt].g;const jn=Z[Lt].map;if(ne-=Me,ne<0)Me=Math.max(0,Z[Lt].g-100),ct=!1;else try{ne="req"+ne+"_"||"";try{var fe=jn instanceof Map?jn:Object.entries(jn);for(const[ds,Cr]of fe){let Tr=Cr;a(Cr)&&(Tr=pa(Cr)),jt.push(ne+ds+"="+encodeURIComponent(Tr))}}catch(ds){throw jt.push(ne+"type="+encodeURIComponent("_badmap")),ds}}catch{O&&O(jn)}}if(ct){fe=jt.join("&");break e}}fe=void 0}return u=u.i.splice(0,C),v.G=u,fe}function ka(u){if(!u.g&&!u.v){u.Y=1;var v=u.Da;U||R(),H||(U(),H=!0),N.add(v,u),u.A=0}}function no(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=Gs(c(u.Da,u),Vl(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,ju(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=Gs(c(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,rn(10),to(this),ju(this))};function ro(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function ju(u){u.g=new sr(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var v=ar(u.na);ft(v,"RID","rpc"),ft(v,"SID",u.M),ft(v,"AID",u.K),ft(v,"CI",u.F?"0":"1"),!u.F&&u.ia&&ft(v,"TO",u.ia),ft(v,"TYPE","xmlhttp"),ls(u,v),u.u&&u.o&&Ou(v,u.u,u.o),u.O&&(u.g.H=u.O);var C=u.g;u=u.ba,C.M=1,C.A=Ea(ar(v)),C.u=null,C.R=!0,_a(C,u)}t.Va=function(){this.C!=null&&(this.C=null,to(this),no(this),rn(19))};function Fl(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function cs(u,v){var C=null;if(u.g==v){Fl(u),ro(u),u.g=null;var O=2}else if(ba(u.h,v))C=v.G,Iu(u.h,v),O=1;else return;if(u.I!=0){if(v.o)if(O==1){C=v.u?v.u.length:0,v=Date.now()-v.F;var Z=u.D;O=Hr(),Xt(O,new Il(O,C)),jl(u)}else ka(u);else if(Z=v.m,Z==3||Z==0&&v.X>0||!(O==1&&iy(u,v)||O==2&&no(u)))switch(C&&C.length>0&&(v=u.h,v.i=v.i.concat(C)),Z){case 1:ti(u,5);break;case 4:ti(u,10);break;case 3:ti(u,6);break;default:ti(u,2)}}}function Vl(u,v){let C=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(C*=2),C*v}function ti(u,v){if(u.j.info("Error code "+v),v==2){var C=c(u.bb,u),O=u.Ua;const Z=!O;O=new Yr(O||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Ii(O,"https"),Ea(O),Z?Ol(O.toString(),C):Ai(O.toString(),C)}else rn(2);u.I=0,u.l&&u.l.pa(v),Ul(u),mf(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),rn(2)):(this.j.info("Failed to ping google.com"),rn(1))};function Ul(u){if(u.I=0,u.ja=[],u.l){const v=Sa(u.h);(v.length!=0||u.i.length!=0)&&(T(u.ja,v),T(u.ja,u.i),u.h.i.length=0,w(u.i),u.i.length=0),u.l.oa()}}function Bl(u,v,C){var O=C instanceof Yr?ar(C):new Yr(C);if(O.g!="")v&&(O.g=v+"."+O.g),Qr(O,O.u);else{var Z=o.location;O=Z.protocol,v=v?v+"."+Z.hostname:Z.hostname,Z=+Z.port;const ne=new Yr(null);O&&Ii(ne,O),v&&(ne.g=v),Z&&Qr(ne,Z),C&&(ne.h=C),O=ne}return C=u.G,v=u.wa,C&&v&&ft(O,C,v),ft(O,"VER",u.ka),ls(u,O),O}function Jt(u,v,C){if(v&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return v=u.Aa&&!u.ma?new nt(new Mt({ab:C})):new nt(u.ma),v.Fa(u.L),v}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function io(){}t=io.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function sn(u,v){kt.call(this),this.g=new Ia(v),this.l=u,this.h=v&&v.messageUrlParams||null,u=v&&v.messageHeaders||null,v&&v.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=v&&v.initMessageHeaders||null,v&&v.messageContentType&&(u?u["X-WebChannel-Content-Type"]=v.messageContentType:u={"X-WebChannel-Content-Type":v.messageContentType}),v&&v.sa&&(u?u["X-WebChannel-Client-Profile"]=v.sa:u={"X-WebChannel-Client-Profile":v.sa}),this.g.U=u,(u=v&&v.Qb)&&!F(u)&&(this.g.u=u),this.A=v&&v.supportsCrossDomainXhr||!1,this.v=v&&v.sendRawJson||!1,(v=v&&v.httpSessionIdParam)&&!F(v)&&(this.g.G=v,u=this.h,u!==null&&v in u&&(u=this.h,v in u&&delete u[v])),this.j=new us(this)}p(sn,kt),sn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){eo(this.g)},sn.prototype.o=function(u){var v=this.g;if(typeof u=="string"){var C={};C.__data__=u,u=C}else this.v&&(C={},C.__data__=pa(u),u=C);v.i.push(new lf(v.Ya++,u)),v.I==3&&jl(v)},sn.prototype.N=function(){this.g.l=null,delete this.j,eo(this.g),delete this.g,sn.Z.N.call(this)};function Lu(u){ya.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var v=u.__sm__;if(v){e:{for(const C in v){u=C;break e}u=void 0}(this.i=u)&&(u=this.i,v=v!==null&&u in v?v[u]:void 0),this.data=v}else this.data=u}p(Lu,ya);function Ra(){br.call(this),this.status=1}p(Ra,br);function us(u){this.g=u}p(us,io),us.prototype.ra=function(){Xt(this.g,"a")},us.prototype.qa=function(u){Xt(this.g,new Lu(u))},us.prototype.pa=function(u){Xt(this.g,new Ra)},us.prototype.oa=function(){Xt(this.g,"b")},sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Ys.NO_ERROR=0,Ys.TIMEOUT=8,Ys.HTTP_ERROR=6,vt.COMPLETE="complete",rs.EventType=Ci,Ci.OPEN="a",Ci.CLOSE="b",Ci.ERROR="c",Ci.MESSAGE="d",kt.prototype.listen=kt.prototype.J,nt.prototype.listenOnce=nt.prototype.K,nt.prototype.getLastError=nt.prototype.Ha,nt.prototype.getLastErrorCode=nt.prototype.ya,nt.prototype.getStatus=nt.prototype.ca,nt.prototype.getResponseJson=nt.prototype.La,nt.prototype.getResponseText=nt.prototype.la,nt.prototype.send=nt.prototype.ea,nt.prototype.setWithCredentials=nt.prototype.Fa}).apply(typeof $f<"u"?$f:typeof self<"u"?self:typeof window<"u"?window:{});const pE="@firebase/firestore",mE="4.9.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Un.UNAUTHENTICATED=new Un(null),Un.GOOGLE_CREDENTIALS=new Un("google-credentials-uid"),Un.FIRST_PARTY=new Un("first-party-uid"),Un.MOCK_USER=new Un("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let zh="12.3.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zc=new Pg("@firebase/firestore");function fi(t,...e){if(Zc.logLevel<=ot.DEBUG){const n=e.map(dx);Zc.debug(`Firestore (${zh}): ${t}`,...n)}}function eN(t,...e){if(Zc.logLevel<=ot.ERROR){const n=e.map(dx);Zc.error(`Firestore (${zh}): ${t}`,...n)}}function D9(t,...e){if(Zc.logLevel<=ot.WARN){const n=e.map(dx);Zc.warn(`Firestore (${zh}): ${t}`,...n)}}function dx(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function lh(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,tN(t,r,n)}function tN(t,e,n){let r=`FIRESTORE (${zh}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw eN(r),new Error(r)}function Sd(t,e,n,r){let i="Unexpected state";typeof n=="string"?i=n:r=n,t||tN(e,i,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Je extends es{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ed{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nN{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class M9{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Un.UNAUTHENTICATED))}shutdown(){}}class j9{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class L9{constructor(e){this.t=e,this.currentUser=Un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Sd(this.o===void 0,42304);let r=this.i;const i=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let s=new Ed;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new Ed,e.enqueueRetryable(()=>i(this.currentUser))};const o=()=>{const l=s;e.enqueueRetryable(async()=>{await l.promise,await i(this.currentUser)})},a=l=>{fi("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(fi("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new Ed)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(fi("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Sd(typeof r.accessToken=="string",31837,{l:r}),new nN(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Sd(e===null||typeof e=="string",2055,{h:e}),new Un(e)}}class F9{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Un.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class V9{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new F9(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Un.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class gE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class U9{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Or(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Sd(this.o===void 0,3512);const r=s=>{s.error!=null&&fi("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const o=s.token!==this.m;return this.m=s.token,fi("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{fi("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.V.getImmediate({optional:!0});s?i(s):fi("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new gE(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Sd(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new gE(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B9(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $9{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const i=B9(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%62))}return r}}function Zo(t,e){return t<e?-1:t>e?1:0}function z9(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const i=t.charAt(r),s=e.charAt(r);if(i!==s)return Xy(i)===Xy(s)?Zo(i,s):Xy(i)?1:-1}return Zo(t.length,e.length)}const W9=55296,H9=57343;function Xy(t){const e=t.charCodeAt(0);return e>=W9&&e<=H9}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="__name__";class Mi{constructor(e,n,r){n===void 0?n=0:n>e.length&&lh(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&lh(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Mi.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Mi?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const s=Mi.compareSegments(e.get(i),n.get(i));if(s!==0)return s}return Zo(e.length,n.length)}static compareSegments(e,n){const r=Mi.isNumericId(e),i=Mi.isNumericId(n);return r&&!i?-1:!r&&i?1:r&&i?Mi.extractNumericId(e).compare(Mi.extractNumericId(n)):z9(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return ux.fromString(e.substring(4,e.length-2))}}class ui extends Mi{construct(e,n,r){return new ui(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Je(Xe.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new ui(n)}static emptyPath(){return new ui([])}}const K9=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class $a extends Mi{construct(e,n,r){return new $a(e,n,r)}static isValidIdentifier(e){return K9.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),$a.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===yE}static keyField(){return new $a([yE])}static fromServerFormat(e){const n=[];let r="",i=0;const s=()=>{if(r.length===0)throw new Je(Xe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;i<e.length;){const a=e[i];if(a==="\\"){if(i+1===e.length)throw new Je(Xe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[i+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new Je(Xe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new Je(Xe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new $a(n)}static emptyPath(){return new $a([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e){this.path=e}static fromPath(e){return new Ka(ui.fromString(e))}static fromName(e){return new Ka(ui.fromString(e).popFirst(5))}static empty(){return new Ka(ui.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ui.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return ui.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Ka(new ui(e.slice()))}}function G9(t,e,n,r){if(e===!0&&r===!0)throw new Je(Xe.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function q9(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Y9(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":lh(12329,{type:typeof t})}function Q9(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Je(Xe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Y9(t);throw new Je(Xe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Yt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Wh(t,e){if(!q9(t))throw new Je(Xe.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const i=e[r].typeString,s="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(i&&typeof o!==i){n=`JSON field '${r}' must be a ${i}.`;break}if(s!==void 0&&o!==s.value){n=`Expected '${r}' field to equal '${s.value}'`;break}}if(n)throw new Je(Xe.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vE=-62135596800,_E=1e6;class Vi{static now(){return Vi.fromMillis(Date.now())}static fromDate(e){return Vi.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*_E);return new Vi(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Je(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Je(Xe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<vE)throw new Je(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Je(Xe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_E}_compareTo(e){return this.seconds===e.seconds?Zo(this.nanoseconds,e.nanoseconds):Zo(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Vi._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Wh(e,Vi._jsonSchema))return new Vi(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-vE;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Vi._jsonSchemaVersion="firestore/timestamp/1.0",Vi._jsonSchema={type:Yt("string",Vi._jsonSchemaVersion),seconds:Yt("number"),nanoseconds:Yt("number")};function X9(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J9 extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pl{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new J9("Invalid base64 string: "+s):s}}(e);return new pl(n)}static fromUint8Array(e){const n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new pl(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Zo(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}pl.EMPTY_BYTE_STRING=new pl("");const B_="(default)";class xm{constructor(e,n){this.projectId=e,this.database=n||B_}static empty(){return new xm("","")}get isDefaultDatabase(){return this.database===B_}isEqual(e){return e instanceof xm&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Z9{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.de=null,this.startAt,this.endAt}}function e$(t){return new Z9(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var wE,Qe;(Qe=wE||(wE={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new ux([4294967295,4294967295],0);/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=41943040;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const n$=1048576;function Jy(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r${constructor(e,n,r=1e3,i=1.5,s=6e4){this.Mi=e,this.timerId=n,this.d_=r,this.A_=i,this.R_=s,this.V_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.V_=0}g_(){this.V_=this.R_}p_(e){this.cancel();const n=Math.floor(this.V_+this.y_()),r=Math.max(0,Date.now()-this.f_),i=Math.max(0,n-r);i>0&&fi("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.V_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Mi.enqueueAfterDelay(this.timerId,i,()=>(this.f_=Date.now(),e())),this.V_*=this.A_,this.V_<this.d_&&(this.V_=this.d_),this.V_>this.R_&&(this.V_=this.R_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.V_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hx{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new Ed,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){const o=Date.now()+r,a=new hx(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Je(Xe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}var xE,bE;(bE=xE||(xE={})).Ma="default",bE.Cache="cache";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function i$(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SE=new Map;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rN="firestore.googleapis.com",EE=!0;class CE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new Je(Xe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=rN,this.ssl=EE}else this.host=e.host,this.ssl=e.ssl??EE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=t$;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<n$)throw new Je(Xe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}G9("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=i$(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new Je(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new Je(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new Je(Xe.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class iN{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new CE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new Je(Xe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new Je(Xe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new CE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new M9;switch(r.type){case"firstParty":return new V9(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Je(Xe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=SE.get(n);r&&(fi("ComponentProvider","Removing Datastore"),SE.delete(n),r.terminate())}(this),Promise.resolve()}}function s$(t,e,n,r={}){var c;t=Q9(t,iN);const i=ca(e),s=t._getSettings(),o={...s,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;i&&(Sg(`https://${a}`),Eg("Firestore",!0)),s.host!==rN&&s.host!==a&&D9("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...s,host:a,ssl:i,emulatorOptions:r};if(!Xo(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,p;if(typeof r.mockUserToken=="string")h=r.mockUserToken,p=Un.MOCK_USER;else{h=Jw(r.mockUserToken,(c=t._app)==null?void 0:c.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new Je(Xe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");p=new Un(m)}t._authCredentials=new j9(new nN(h,p))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fx{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new fx(this.firestore,e,this._query)}}class $i{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new px(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new $i(this.firestore,e,this._key)}toJSON(){return{type:$i._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Wh(n,$i._jsonSchema))return new $i(e,r||null,new Ka(ui.fromString(n.referencePath)))}}$i._jsonSchemaVersion="firestore/documentReference/1.0",$i._jsonSchema={type:Yt("string",$i._jsonSchemaVersion),referencePath:Yt("string")};class px extends fx{constructor(e,n,r){super(e,n,e$(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new $i(this.firestore,null,new Ka(e))}withConverter(e){return new px(this.firestore,e,this._path)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const TE="AsyncQueue";class PE{constructor(e=Promise.resolve()){this.Xu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new r$(this,"async_queue_retry"),this._c=()=>{const r=Jy();r&&fi(TE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Jy();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Jy();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ed;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Xu.push(e),this.lc()))}async lc(){if(this.Xu.length!==0){try{await this.Xu[0](),this.Xu.shift(),this.M_.reset()}catch(e){if(!X9(e))throw e;fi(TE,"Operation failed with retryable error: "+e)}this.Xu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,eN("INTERNAL UNHANDLED ERROR: ",IE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const i=hx.createAndSchedule(this,e,n,r,s=>this.hc(s));return this.tc.push(i),i}uc(){this.nc&&lh(47125,{Pc:IE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}dc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function IE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class o$ extends iN{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new PE,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new PE(e),this._firestoreClient=void 0,await e}}}function a$(t,e){const n=typeof t=="object"?t:Ig(),r=typeof t=="string"?t:B_,i=Vh(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Xw("firestore");s&&s$(i,...s)}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _s{constructor(e){this._byteString=e}static fromBase64String(e){try{return new _s(pl.fromBase64String(e))}catch(n){throw new Je(Xe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new _s(pl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:_s._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Wh(e,_s._jsonSchema))return _s.fromBase64String(e.bytes)}}_s._jsonSchemaVersion="firestore/bytes/1.0",_s._jsonSchema={type:Yt("string",_s._jsonSchemaVersion),bytes:Yt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sN{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Je(Xe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new $a(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rl{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Je(Xe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Je(Xe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Zo(this._lat,e._lat)||Zo(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:rl._jsonSchemaVersion}}static fromJSON(e){if(Wh(e,rl._jsonSchema))return new rl(e.latitude,e.longitude)}}rl._jsonSchemaVersion="firestore/geoPoint/1.0",rl._jsonSchema={type:Yt("string",rl._jsonSchemaVersion),latitude:Yt("number"),longitude:Yt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class il{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}toJSON(){return{type:il._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Wh(e,il._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new il(e.vectorValues);throw new Je(Xe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}il._jsonSchemaVersion="firestore/vectorValue/1.0",il._jsonSchema={type:Yt("string",il._jsonSchemaVersion),vectorValues:Yt("object")};const l$=new RegExp("[~\\*/\\[\\]]");function c$(t,e,n){if(e.search(l$)>=0)throw kE(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t);try{return new sN(...e.split("."))._internalPath}catch{throw kE(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t)}}function kE(t,e,n,r,i){let s=`Function ${e}() called with invalid data`;s+=". ";let o="";return new Je(Xe.INVALID_ARGUMENT,s+t+o)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oN{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $i(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new u$(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(aN("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class u$ extends oN{data(){return super.data()}}function aN(t,e){return typeof e=="string"?c$(t,e):e instanceof sN?e._internalPath:e._delegate._internalPath}class zf{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Pc extends oN{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Sp(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(aN("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new Je(Xe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=Pc._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}Pc._jsonSchemaVersion="firestore/documentSnapshot/1.0",Pc._jsonSchema={type:Yt("string",Pc._jsonSchemaVersion),bundleSource:Yt("string","DocumentSnapshot"),bundleName:Yt("string"),bundle:Yt("string")};class Sp extends Pc{data(e={}){return super.data(e)}}class Cd{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new zf(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Sp(this._firestore,this._userDataWriter,r.key,r,new zf(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Je(Xe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{const l=new Sp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{const l=new Sp(i._firestore,i._userDataWriter,a.doc.key,a.doc,new zf(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);let c=-1,h=-1;return a.type!==0&&(c=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:d$(a.type),doc:l,oldIndex:c,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new Je(Xe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Cd._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=$9.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],i=[];return this.docs.forEach(s=>{s._document!==null&&(n.push(s._document),r.push(this._userDataWriter.convertObjectMap(s._document.data.value.mapValue.fields,"previous")),i.push(s.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function d$(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return lh(61501,{type:t})}}Cd._jsonSchemaVersion="firestore/querySnapshot/1.0",Cd._jsonSchema={type:Yt("string",Cd._jsonSchemaVersion),bundleSource:Yt("string","QuerySnapshot"),bundleName:Yt("string"),bundle:Yt("string")};(function(e,n=!0){(function(i){zh=i})(ua),Jo(new Ls("firestore",(r,{instanceIdentifier:i,options:s})=>{const o=r.getProvider("app").getImmediate(),a=new o$(new L9(r.getProvider("auth-internal")),new U9(o,r.getProvider("app-check-internal")),function(c,h){if(!Object.prototype.hasOwnProperty.apply(c.options,["projectId"]))throw new Je(Xe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new xm(c.options.projectId,h)}(o,i),o);return s={useFetchStreams:n,...s},a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),Fr(pE,mE,e),Fr(pE,mE,"esm2020")})();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN="firebasestorage.googleapis.com",h$="storageBucket",f$=2*60*1e3,p$=10*60*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ns extends es{constructor(e,n,r=0){super(Zy(e),`Firebase Storage: ${n} (${Zy(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,ns.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return Zy(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Xi;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Xi||(Xi={}));function Zy(t){return"storage/"+t}function m$(){const t="An unknown error occurred, please check the error payload for server response.";return new ns(Xi.UNKNOWN,t)}function g$(){return new ns(Xi.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function y$(){return new ns(Xi.CANCELED,"User canceled the upload/download.")}function v$(t){return new ns(Xi.INVALID_URL,"Invalid URL '"+t+"'.")}function _$(t){return new ns(Xi.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function RE(t){return new ns(Xi.INVALID_ARGUMENT,t)}function cN(){return new ns(Xi.APP_DELETED,"The Firebase app was deleted.")}function w$(t){return new ns(Xi.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pi{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=pi.makeFromUrl(e,n)}catch{return new pi(e,"")}if(r.path==="")return r;throw _$(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function s(M){M.path.charAt(M.path.length-1)==="/"&&(M.path_=M.path_.slice(0,-1))}const o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),l={bucket:1,path:3};function c(M){M.path_=decodeURIComponent(M.path)}const h="v[A-Za-z0-9_]+",p=n.replace(/[.]/g,"\\."),m="(/([^?#]*).*)?$",w=new RegExp(`^https?://${p}/${h}/b/${i}/o${m}`,"i"),T={bucket:1,path:3},_=n===lN?"(?:storage.googleapis.com|storage.cloud.google.com)":n,I="([^?#]*)",b=new RegExp(`^https?://${_}/${i}/${I}`,"i"),k=[{regex:a,indices:l,postModify:s},{regex:w,indices:T,postModify:c},{regex:b,indices:{bucket:1,path:2},postModify:c}];for(let M=0;M<k.length;M++){const U=k[M],H=U.regex.exec(e);if(H){const N=H[U.indices.bucket];let R=H[U.indices.path];R||(R=""),r=new pi(N,R),U.postModify(r);break}}if(r==null)throw v$(e);return r}}class x${constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b$(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function l(){return a===2}let c=!1;function h(...I){c||(c=!0,e.apply(null,I))}function p(I){i=setTimeout(()=>{i=null,t(w,l())},I)}function m(){s&&clearTimeout(s)}function w(I,...b){if(c){m();return}if(I){m(),h.call(null,I,...b);return}if(l()||o){m(),h.call(null,I,...b);return}r<64&&(r*=2);let k;a===1?(a=2,k=0):k=(r+Math.random())*1e3,p(k)}let T=!1;function _(I){T||(T=!0,m(),!c&&(i!==null?(I||(a=2),clearTimeout(i),p(0)):I||(a=1)))}return p(0),s=setTimeout(()=>{o=!0,_(!0)},n),_}function S$(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function E$(t){return t!==void 0}function AE(t,e,n,r){if(r<e)throw RE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw RE(`Invalid value for '${t}'. Expected ${n} or less.`)}function C$(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var bm;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})(bm||(bm={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function T$(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class P${constructor(e,n,r,i,s,o,a,l,c,h,p,m=!0,w=!1){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=l,this.timeout_=c,this.progressCallback_=h,this.connectionFactory_=p,this.retry=m,this.isUsingEmulator=w,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((T,_)=>{this.resolve_=T,this.reject_=_,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Wf(!1,null,!0));return}const s=this.connectionFactory_();this.pendingConnection_=s;const o=a=>{const l=a.loaded,c=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(l,c)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.isUsingEmulator,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;const a=s.getErrorCode()===bm.NO_ERROR,l=s.getStatus();if(!a||T$(l,this.additionalRetryCodes_)&&this.retry){const h=s.getErrorCode()===bm.ABORT;r(!1,new Wf(!1,null,h));return}const c=this.successCodes_.indexOf(l)!==-1;r(!0,new Wf(c,s))})},n=(r,i)=>{const s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{const l=this.callback_(a,a.getResponse());E$(l)?s(l):s()}catch(l){o(l)}else if(a!==null){const l=m$();l.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,l)):o(l)}else if(i.canceled){const l=this.appDelete_?cN():y$();o(l)}else{const l=g$();o(l)}};this.canceled_?n(!1,new Wf(!1,null,!0)):this.backoffId_=b$(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&S$(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Wf{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function I$(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function k$(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function R$(t,e){e&&(t["X-Firebase-GMPID"]=e)}function A$(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function N$(t,e,n,r,i,s,o=!0,a=!1){const l=C$(t.urlParams),c=t.url+l,h=Object.assign({},t.headers);return R$(h,e),I$(h,n),k$(h,s),A$(h,r),new P$(c,t.method,h,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o,a)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function O$(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function D$(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sm{constructor(e,n){this._service=e,n instanceof pi?this._location=n:this._location=pi.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Sm(e,n)}get root(){const e=new pi(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return D$(this._location.path)}get storage(){return this._service}get parent(){const e=O$(this._location.path);if(e===null)return null;const n=new pi(this._location.bucket,e);return new Sm(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw w$(e)}}function NE(t,e){const n=e==null?void 0:e[h$];return n==null?null:pi.makeFromBucketSpec(n,t)}function M$(t,e,n,r={}){t.host=`${e}:${n}`;const i=ca(e);i&&(Sg(`https://${t.host}/b`),Eg("Storage",!0)),t._isUsingEmulator=!0,t._protocol=i?"https":"http";const{mockUserToken:s}=r;s&&(t._overrideAuthToken=typeof s=="string"?s:Jw(s,t.app.options.projectId))}class j${constructor(e,n,r,i,s,o=!1){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._isUsingEmulator=o,this._bucket=null,this._host=lN,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=f$,this._maxUploadRetryTime=p$,this._requests=new Set,i!=null?this._bucket=pi.makeFromBucketSpec(i,this._host):this._bucket=NE(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=pi.makeFromBucketSpec(this._url,e):this._bucket=NE(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){AE("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){AE("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){if(Or(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Sm(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new x$(cN());{const o=N$(e,this._appId,r,i,n,this._firebaseVersion,s,this._isUsingEmulator);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const OE="@firebase/storage",DE="0.14.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="storage";function L$(t=Ig(),e){t=rr(t);const r=Vh(t,uN).getImmediate({identifier:e}),i=Xw("storage");return i&&F$(r,...i),r}function F$(t,e,n,r={}){M$(t,e,n,r)}function V$(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new j$(n,r,i,e,ua)}function U$(){Jo(new Ls(uN,V$,"PUBLIC").setMultipleInstances(!0)),Fr(OE,DE,""),Fr(OE,DE,"esm2020")}U$();var ME={};const jE="@firebase/database",LE="1.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let dN="";function B$(t){dN=t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $${constructor(e){this.domStorage_=e,this.prefix_="firebase:"}set(e,n){n==null?this.domStorage_.removeItem(this.prefixedName_(e)):this.domStorage_.setItem(this.prefixedName_(e),tn(n))}get(e){const n=this.domStorage_.getItem(this.prefixedName_(e));return n==null?null:sh(n)}remove(e){this.domStorage_.removeItem(this.prefixedName_(e))}prefixedName_(e){return this.prefix_+e}toString(){return this.domStorage_.toString()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z${constructor(){this.cache_={},this.isInMemoryStorage=!0}set(e,n){n==null?delete this.cache_[e]:this.cache_[e]=n}get(e){return ts(this.cache_,e)?this.cache_[e]:null}remove(e){delete this.cache_[e]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hN=function(t){try{if(typeof window<"u"&&typeof window[t]<"u"){const e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new $$(e)}}catch{}return new z$},Ga=hN("localStorage"),W$=hN("sessionStorage");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ic=new Pg("@firebase/database"),H$=function(){let t=1;return function(){return t++}}(),fN=function(t){const e=C6(t),n=new x6;n.update(e);const r=n.digest();return Yw.encodeByteArray(r)},Hh=function(...t){let e="";for(let n=0;n<t.length;n++){const r=t[n];Array.isArray(r)||r&&typeof r=="object"&&typeof r.length=="number"?e+=Hh.apply(null,r):typeof r=="object"?e+=tn(r):e+=r,e+=" "}return e};let Td=null,FE=!0;const K$=function(t,e){he(!e,"Can't turn on custom loggers persistently."),Ic.logLevel=ot.VERBOSE,Td=Ic.log.bind(Ic)},mn=function(...t){if(FE===!0&&(FE=!1,Td===null&&W$.get("logging_enabled")===!0&&K$()),Td){const e=Hh.apply(null,t);Td(e)}},Kh=function(t){return function(...e){mn(t,...e)}},$_=function(...t){const e="FIREBASE INTERNAL ERROR: "+Hh(...t);Ic.error(e)},Bs=function(...t){const e=`FIREBASE FATAL ERROR: ${Hh(...t)}`;throw Ic.error(e),new Error(e)},Hn=function(...t){const e="FIREBASE WARNING: "+Hh(...t);Ic.warn(e)},G$=function(){typeof window<"u"&&window.location&&window.location.protocol&&window.location.protocol.indexOf("https:")!==-1&&Hn("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},mx=function(t){return typeof t=="number"&&(t!==t||t===Number.POSITIVE_INFINITY||t===Number.NEGATIVE_INFINITY)},q$=function(t){if(document.readyState==="complete")t();else{let e=!1;const n=function(){if(!document.body){setTimeout(n,Math.floor(10));return}e||(e=!0,t())};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",()=>{document.readyState==="complete"&&n()}),window.attachEvent("onload",n))}},eu="[MIN_NAME]",ml="[MAX_NAME]",Sl=function(t,e){if(t===e)return 0;if(t===eu||e===ml)return-1;if(e===eu||t===ml)return 1;{const n=VE(t),r=VE(e);return n!==null?r!==null?n-r===0?t.length-e.length:n-r:-1:r!==null?1:t<e?-1:1}},Y$=function(t,e){return t===e?0:t<e?-1:1},qu=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+tn(e))},gx=function(t){if(typeof t!="object"||t===null)return tn(t);const e=[];for(const r in t)e.push(r);e.sort();let n="{";for(let r=0;r<e.length;r++)r!==0&&(n+=","),n+=tn(e[r]),n+=":",n+=gx(t[e[r]]);return n+="}",n},pN=function(t,e){const n=t.length;if(n<=e)return[t];const r=[];for(let i=0;i<n;i+=e)i+e>n?r.push(t.substring(i,n)):r.push(t.substring(i,i+e));return r};function _n(t,e){for(const n in t)t.hasOwnProperty(n)&&e(n,t[n])}const mN=function(t){he(!mx(t),"Invalid JSON number");const e=11,n=52,r=(1<<e-1)-1;let i,s,o,a,l;t===0?(s=0,o=0,i=1/t===-1/0?1:0):(i=t<0,t=Math.abs(t),t>=Math.pow(2,1-r)?(a=Math.min(Math.floor(Math.log(t)/Math.LN2),r),s=a+r,o=Math.round(t*Math.pow(2,n-a)-Math.pow(2,n))):(s=0,o=Math.round(t/Math.pow(2,1-r-n))));const c=[];for(l=n;l;l-=1)c.push(o%2?1:0),o=Math.floor(o/2);for(l=e;l;l-=1)c.push(s%2?1:0),s=Math.floor(s/2);c.push(i?1:0),c.reverse();const h=c.join("");let p="";for(l=0;l<64;l+=8){let m=parseInt(h.substr(l,8),2).toString(16);m.length===1&&(m="0"+m),p=p+m}return p.toLowerCase()},Q$=function(){return!!(typeof window=="object"&&window.chrome&&window.chrome.extension&&!/^chrome/.test(window.location.href))},X$=function(){return typeof Windows=="object"&&typeof Windows.UI=="object"};function J$(t,e){let n="Unknown Error";t==="too_big"?n="The data requested exceeds the maximum size that can be accessed with a single request.":t==="permission_denied"?n="Client doesn't have permission to access the desired data.":t==="unavailable"&&(n="The service is unavailable");const r=new Error(t+" at "+e._path.toString()+": "+n);return r.code=t.toUpperCase(),r}const Z$=new RegExp("^-?(0*)\\d{1,10}$"),ez=-2147483648,tz=2147483647,VE=function(t){if(Z$.test(t)){const e=Number(t);if(e>=ez&&e<=tz)return e}return null},vu=function(t){try{t()}catch(e){setTimeout(()=>{const n=e.stack||"";throw Hn("Exception was thrown by user callback.",n),e},Math.floor(0))}},nz=function(){return(typeof window=="object"&&window.navigator&&window.navigator.userAgent||"").search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},Pd=function(t,e){const n=setTimeout(t,e);return typeof n=="number"&&typeof Deno<"u"&&Deno.unrefTimer?Deno.unrefTimer(n):typeof n=="object"&&n.unref&&n.unref(),n};/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rz{constructor(e,n){this.appCheckProvider=n,this.appName=e.name,Or(e)&&e.settings.appCheckToken&&(this.serverAppAppCheckToken=e.settings.appCheckToken),this.appCheck=n==null?void 0:n.getImmediate({optional:!0}),this.appCheck||n==null||n.get().then(r=>this.appCheck=r)}getToken(e){if(this.serverAppAppCheckToken){if(e)throw new Error("Attempted reuse of `FirebaseServerApp.appCheckToken` after previous usage failed.");return Promise.resolve({token:this.serverAppAppCheckToken})}return this.appCheck?this.appCheck.getToken(e):new Promise((n,r)=>{setTimeout(()=>{this.appCheck?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){var n;(n=this.appCheckProvider)==null||n.get().then(r=>r.addTokenListener(e))}notifyForInvalidToken(){Hn(`Provided AppCheck credentials for the app named "${this.appName}" are invalid. This usually indicates your app was not initialized correctly.`)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iz{constructor(e,n,r){this.appName_=e,this.firebaseOptions_=n,this.authProvider_=r,this.auth_=null,this.auth_=r.getImmediate({optional:!0}),this.auth_||r.onInit(i=>this.auth_=i)}getToken(e){return this.auth_?this.auth_.getToken(e).catch(n=>n&&n.code==="auth/token-not-initialized"?(mn("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(n)):new Promise((n,r)=>{setTimeout(()=>{this.auth_?this.getToken(e).then(n,r):n(null)},0)})}addTokenChangeListener(e){this.auth_?this.auth_.addAuthTokenListener(e):this.authProvider_.get().then(n=>n.addAuthTokenListener(e))}removeTokenChangeListener(e){this.authProvider_.get().then(n=>n.removeAuthTokenListener(e))}notifyForInvalidToken(){let e='Provided authentication credentials for the app named "'+this.appName_+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.firebaseOptions_?e+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.firebaseOptions_?e+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':e+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',Hn(e)}}class Ep{constructor(e){this.accessToken=e}getToken(e){return Promise.resolve({accessToken:this.accessToken})}addTokenChangeListener(e){e(this.accessToken)}removeTokenChangeListener(e){}notifyForInvalidToken(){}}Ep.OWNER="owner";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yx="5",gN="v",yN="s",vN="r",_N="f",wN=/(console\.firebase|firebase-console-\w+\.corp|firebase\.corp)\.google\.com/,xN="ls",bN="p",z_="ac",SN="websocket",EN="long_polling";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CN{constructor(e,n,r,i,s=!1,o="",a=!1,l=!1,c=null){this.secure=n,this.namespace=r,this.webSocketOnly=i,this.nodeAdmin=s,this.persistenceKey=o,this.includeNamespaceInQueryParams=a,this.isUsingEmulator=l,this.emulatorOptions=c,this._host=e.toLowerCase(),this._domain=this._host.substr(this._host.indexOf(".")+1),this.internalHost=Ga.get("host:"+e)||this._host}isCacheableHost(){return this.internalHost.substr(0,2)==="s-"}isCustomHost(){return this._domain!=="firebaseio.com"&&this._domain!=="firebaseio-demo.com"}get host(){return this._host}set host(e){e!==this.internalHost&&(this.internalHost=e,this.isCacheableHost()&&Ga.set("host:"+this._host,this.internalHost))}toString(){let e=this.toURLString();return this.persistenceKey&&(e+="<"+this.persistenceKey+">"),e}toURLString(){const e=this.secure?"https://":"http://",n=this.includeNamespaceInQueryParams?`?ns=${this.namespace}`:"";return`${e}${this.host}/${n}`}}function sz(t){return t.host!==t.internalHost||t.isCustomHost()||t.includeNamespaceInQueryParams}function TN(t,e,n){he(typeof e=="string","typeof type must == string"),he(typeof n=="object","typeof params must == object");let r;if(e===SN)r=(t.secure?"wss://":"ws://")+t.internalHost+"/.ws?";else if(e===EN)r=(t.secure?"https://":"http://")+t.internalHost+"/.lp?";else throw new Error("Unknown connection type: "+e);sz(t)&&(n.ns=t.namespace);const i=[];return _n(n,(s,o)=>{i.push(s+"="+o)}),r+i.join("&")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oz{constructor(){this.counters_={}}incrementCounter(e,n=1){ts(this.counters_,e)||(this.counters_[e]=0),this.counters_[e]+=n}get(){return r6(this.counters_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ev={},tv={};function vx(t){const e=t.toString();return ev[e]||(ev[e]=new oz),ev[e]}function az(t,e){const n=t.toString();return tv[n]||(tv[n]=e()),tv[n]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e){this.onMessage_=e,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}closeAfter(e,n){this.closeAfterResponse=e,this.onClose=n,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)}handleResponse(e,n){for(this.pendingResponses[e]=n;this.pendingResponses[this.currentResponseNum];){const r=this.pendingResponses[this.currentResponseNum];delete this.pendingResponses[this.currentResponseNum];for(let i=0;i<r.length;++i)r[i]&&vu(()=>{this.onMessage_(r[i])});if(this.currentResponseNum===this.closeAfterResponse){this.onClose&&(this.onClose(),this.onClose=null);break}this.currentResponseNum++}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const UE="start",cz="close",uz="pLPCommand",dz="pRTLPCB",PN="id",IN="pw",kN="ser",hz="cb",fz="seg",pz="ts",mz="d",gz="dframe",RN=1870,AN=30,yz=RN-AN,vz=25e3,_z=3e4;class uc{constructor(e,n,r,i,s,o,a){this.connId=e,this.repoInfo=n,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.transportSessionId=o,this.lastSessionId=a,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=Kh(e),this.stats_=vx(n),this.urlFn=l=>(this.appCheckToken&&(l[z_]=this.appCheckToken),TN(n,EN,l))}open(e,n){this.curSegmentNum=0,this.onDisconnect_=n,this.myPacketOrderer=new lz(e),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(()=>{this.log_("Timed out trying to connect."),this.onClosed_(),this.connectTimeoutTimer_=null},Math.floor(_z)),q$(()=>{if(this.isClosed_)return;this.scriptTagHolder=new _x((...s)=>{const[o,a,l,c,h]=s;if(this.incrementIncomingBytes_(s),!!this.scriptTagHolder)if(this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null),this.everConnected_=!0,o===UE)this.id=a,this.password=l;else if(o===cz)a?(this.scriptTagHolder.sendNewPolls=!1,this.myPacketOrderer.closeAfter(a,()=>{this.onClosed_()})):this.onClosed_();else throw new Error("Unrecognized command received: "+o)},(...s)=>{const[o,a]=s;this.incrementIncomingBytes_(s),this.myPacketOrderer.handleResponse(o,a)},()=>{this.onClosed_()},this.urlFn);const r={};r[UE]="t",r[kN]=Math.floor(Math.random()*1e8),this.scriptTagHolder.uniqueCallbackIdentifier&&(r[hz]=this.scriptTagHolder.uniqueCallbackIdentifier),r[gN]=yx,this.transportSessionId&&(r[yN]=this.transportSessionId),this.lastSessionId&&(r[xN]=this.lastSessionId),this.applicationId&&(r[bN]=this.applicationId),this.appCheckToken&&(r[z_]=this.appCheckToken),typeof location<"u"&&location.hostname&&wN.test(location.hostname)&&(r[vN]=_N);const i=this.urlFn(r);this.log_("Connecting via long-poll to "+i),this.scriptTagHolder.addTag(i,()=>{})})}start(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)}static forceAllow(){uc.forceAllow_=!0}static forceDisallow(){uc.forceDisallow_=!0}static isAvailable(){return uc.forceAllow_?!0:!uc.forceDisallow_&&typeof document<"u"&&document.createElement!=null&&!Q$()&&!X$()}markConnectionHealthy(){}shutdown_(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)}onClosed_(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))}close(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())}send(e){const n=tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=uA(n),i=pN(r,yz);for(let s=0;s<i.length;s++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[s]),this.curSegmentNum++}addDisconnectPingFrame(e,n){this.myDisconnFrame=document.createElement("iframe");const r={};r[gz]="t",r[PN]=e,r[IN]=n,this.myDisconnFrame.src=this.urlFn(r),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}incrementIncomingBytes_(e){const n=tn(e).length;this.bytesReceived+=n,this.stats_.incrementCounter("bytes_received",n)}}class _x{constructor(e,n,r,i){this.onDisconnect=r,this.urlFn=i,this.outstandingRequests=new Set,this.pendingSegs=[],this.currentSerial=Math.floor(Math.random()*1e8),this.sendNewPolls=!0;{this.uniqueCallbackIdentifier=H$(),window[uz+this.uniqueCallbackIdentifier]=e,window[dz+this.uniqueCallbackIdentifier]=n,this.myIFrame=_x.createIFrame_();let s="";this.myIFrame.src&&this.myIFrame.src.substr(0,11)==="javascript:"&&(s='<script>document.domain="'+document.domain+'";<\/script>');const o="<html><body>"+s+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(o),this.myIFrame.doc.close()}catch(a){mn("frame writing exception"),a.stack&&mn(a.stack),mn(a)}}}static createIFrame_(){const e=document.createElement("iframe");if(e.style.display="none",document.body){document.body.appendChild(e);try{e.contentWindow.document||mn("No IE domain setting required")}catch{const r=document.domain;e.src="javascript:void((function(){document.open();document.domain='"+r+"';document.close();})())"}}else throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";return e.contentDocument?e.doc=e.contentDocument:e.contentWindow?e.doc=e.contentWindow.document:e.document&&(e.doc=e.document),e}close(){this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.textContent="",setTimeout(()=>{this.myIFrame!==null&&(document.body.removeChild(this.myIFrame),this.myIFrame=null)},Math.floor(0)));const e=this.onDisconnect;e&&(this.onDisconnect=null,e())}startLongPoll(e,n){for(this.myID=e,this.myPW=n,this.alive=!0;this.newRequest_(););}newRequest_(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.size<(this.pendingSegs.length>0?2:1)){this.currentSerial++;const e={};e[PN]=this.myID,e[IN]=this.myPW,e[kN]=this.currentSerial;let n=this.urlFn(e),r="",i=0;for(;this.pendingSegs.length>0&&this.pendingSegs[0].d.length+AN+r.length<=RN;){const o=this.pendingSegs.shift();r=r+"&"+fz+i+"="+o.seg+"&"+pz+i+"="+o.ts+"&"+mz+i+"="+o.d,i++}return n=n+r,this.addLongPollTag_(n,this.currentSerial),!0}else return!1}enqueueSegment(e,n,r){this.pendingSegs.push({seg:e,ts:n,d:r}),this.alive&&this.newRequest_()}addLongPollTag_(e,n){this.outstandingRequests.add(n);const r=()=>{this.outstandingRequests.delete(n),this.newRequest_()},i=setTimeout(r,Math.floor(vz)),s=()=>{clearTimeout(i),r()};this.addTag(e,s)}addTag(e,n){setTimeout(()=>{try{if(!this.sendNewPolls)return;const r=this.myIFrame.doc.createElement("script");r.type="text/javascript",r.async=!0,r.src=e,r.onload=r.onreadystatechange=function(){const i=r.readyState;(!i||i==="loaded"||i==="complete")&&(r.onload=r.onreadystatechange=null,r.parentNode&&r.parentNode.removeChild(r),n())},r.onerror=()=>{mn("Long-poll script failed to load: "+e),this.sendNewPolls=!1,this.close()},this.myIFrame.doc.body.appendChild(r)}catch{}},Math.floor(1))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=16384,xz=45e3;let Em=null;typeof MozWebSocket<"u"?Em=MozWebSocket:typeof WebSocket<"u"&&(Em=WebSocket);class di{constructor(e,n,r,i,s,o,a){this.connId=e,this.applicationId=r,this.appCheckToken=i,this.authToken=s,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=Kh(this.connId),this.stats_=vx(n),this.connURL=di.connectionURL_(n,o,a,i,r),this.nodeAdmin=n.nodeAdmin}static connectionURL_(e,n,r,i,s){const o={};return o[gN]=yx,typeof location<"u"&&location.hostname&&wN.test(location.hostname)&&(o[vN]=_N),n&&(o[yN]=n),r&&(o[xN]=r),i&&(o[z_]=i),s&&(o[bN]=s),TN(e,SN,o)}open(e,n){this.onDisconnect=n,this.onMessage=e,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,Ga.set("previous_websocket_failure",!0);try{let r;gA(),this.mySock=new Em(this.connURL,[],r)}catch(r){this.log_("Error instantiating WebSocket.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_();return}this.mySock.onopen=()=>{this.log_("Websocket connected."),this.everConnected_=!0},this.mySock.onclose=()=>{this.log_("Websocket connection was disconnected."),this.mySock=null,this.onClosed_()},this.mySock.onmessage=r=>{this.handleIncomingFrame(r)},this.mySock.onerror=r=>{this.log_("WebSocket error.  Closing connection.");const i=r.message||r.data;i&&this.log_(i),this.onClosed_()}}start(){}static forceDisallow(){di.forceDisallow_=!0}static isAvailable(){let e=!1;if(typeof navigator<"u"&&navigator.userAgent){const n=/Android ([0-9]{0,}\.[0-9]{0,})/,r=navigator.userAgent.match(n);r&&r.length>1&&parseFloat(r[1])<4.4&&(e=!0)}return!e&&Em!==null&&!di.forceDisallow_}static previouslyFailed(){return Ga.isInMemoryStorage||Ga.get("previous_websocket_failure")===!0}markConnectionHealthy(){Ga.remove("previous_websocket_failure")}appendFrame_(e){if(this.frames.push(e),this.frames.length===this.totalFrames){const n=this.frames.join("");this.frames=null;const r=sh(n);this.onMessage(r)}}handleNewFrameCount_(e){this.totalFrames=e,this.frames=[]}extractFrameCount_(e){if(he(this.frames===null,"We already have a frame buffer"),e.length<=6){const n=Number(e);if(!isNaN(n))return this.handleNewFrameCount_(n),null}return this.handleNewFrameCount_(1),e}handleIncomingFrame(e){if(this.mySock===null)return;const n=e.data;if(this.bytesReceived+=n.length,this.stats_.incrementCounter("bytes_received",n.length),this.resetKeepAlive(),this.frames!==null)this.appendFrame_(n);else{const r=this.extractFrameCount_(n);r!==null&&this.appendFrame_(r)}}send(e){this.resetKeepAlive();const n=tn(e);this.bytesSent+=n.length,this.stats_.incrementCounter("bytes_sent",n.length);const r=pN(n,wz);r.length>1&&this.sendString_(String(r.length));for(let i=0;i<r.length;i++)this.sendString_(r[i])}shutdown_(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)}onClosed_(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))}close(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())}resetKeepAlive(){clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(()=>{this.mySock&&this.sendString_("0"),this.resetKeepAlive()},Math.floor(xz))}sendString_(e){try{this.mySock.send(e)}catch(n){this.log_("Exception thrown from WebSocket.send():",n.message||n.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}}}di.responsesRequiredToBeHealthy=2;di.healthyTimeout=3e4;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ch{static get ALL_TRANSPORTS(){return[uc,di]}static get IS_TRANSPORT_INITIALIZED(){return this.globalTransportInitialized_}constructor(e){this.initTransports_(e)}initTransports_(e){const n=di&&di.isAvailable();let r=n&&!di.previouslyFailed();if(e.webSocketOnly&&(n||Hn("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),r=!0),r)this.transports_=[di];else{const i=this.transports_=[];for(const s of ch.ALL_TRANSPORTS)s&&s.isAvailable()&&i.push(s);ch.globalTransportInitialized_=!0}}initialTransport(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")}upgradeTransport(){return this.transports_.length>1?this.transports_[1]:null}}ch.globalTransportInitialized_=!1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bz=6e4,Sz=5e3,Ez=10*1024,Cz=100*1024,nv="t",BE="d",Tz="s",$E="r",Pz="e",zE="o",WE="a",HE="n",KE="p",Iz="h";class kz{constructor(e,n,r,i,s,o,a,l,c,h){this.id=e,this.repoInfo_=n,this.applicationId_=r,this.appCheckToken_=i,this.authToken_=s,this.onMessage_=o,this.onReady_=a,this.onDisconnect_=l,this.onKill_=c,this.lastSessionId=h,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=Kh("c:"+this.id+":"),this.transportManager_=new ch(n),this.log_("Connection created"),this.start_()}start_(){const e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,null,this.lastSessionId),this.primaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.conn_),r=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(()=>{this.conn_&&this.conn_.open(n,r)},Math.floor(0));const i=e.healthyTimeout||0;i>0&&(this.healthyTimeout_=Pd(()=>{this.healthyTimeout_=null,this.isHealthy_||(this.conn_&&this.conn_.bytesReceived>Cz?(this.log_("Connection exceeded healthy timeout but has received "+this.conn_.bytesReceived+" bytes.  Marking connection healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()):this.conn_&&this.conn_.bytesSent>Ez?this.log_("Connection exceeded healthy timeout but has sent "+this.conn_.bytesSent+" bytes.  Leaving connection alive."):(this.log_("Closing unhealthy connection after timeout."),this.close()))},Math.floor(i)))}nextTransportId_(){return"c:"+this.id+":"+this.connectionCount++}disconnReceiver_(e){return n=>{e===this.conn_?this.onConnectionLost_(n):e===this.secondaryConn_?(this.log_("Secondary connection lost."),this.onSecondaryConnectionLost_()):this.log_("closing an old connection")}}connReceiver_(e){return n=>{this.state_!==2&&(e===this.rx_?this.onPrimaryMessageReceived_(n):e===this.secondaryConn_?this.onSecondaryMessageReceived_(n):this.log_("message on old connection"))}}sendRequest(e){const n={t:"d",d:e};this.sendData_(n)}tryCleanupConnection(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)}onSecondaryControl_(e){if(nv in e){const n=e[nv];n===WE?this.upgradeIfSecondaryHealthy_():n===$E?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),(this.tx_===this.secondaryConn_||this.rx_===this.secondaryConn_)&&this.close()):n===zE&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}}onSecondaryMessageReceived_(e){const n=qu("t",e),r=qu("d",e);if(n==="c")this.onSecondaryControl_(r);else if(n==="d")this.pendingDataMessages.push(r);else throw new Error("Unknown protocol layer: "+n)}upgradeIfSecondaryHealthy_(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:KE,d:{}}}))}proceedWithUpgrade_(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:WE,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:HE,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()}onPrimaryMessageReceived_(e){const n=qu("t",e),r=qu("d",e);n==="c"?this.onControl_(r):n==="d"&&this.onDataMessage_(r)}onDataMessage_(e){this.onPrimaryResponse_(),this.onMessage_(e)}onPrimaryResponse_(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))}onControl_(e){const n=qu(nv,e);if(BE in e){const r=e[BE];if(n===Iz){const i={...r};this.repoInfo_.isUsingEmulator&&(i.h=this.repoInfo_.host),this.onHandshake_(i)}else if(n===HE){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(let i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else n===Tz?this.onConnectionShutdown_(r):n===$E?this.onReset_(r):n===Pz?$_("Server Error: "+r):n===zE?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):$_("Unknown control packet command: "+n)}}onHandshake_(e){const n=e.ts,r=e.v,i=e.h;this.sessionId=e.s,this.repoInfo_.host=i,this.state_===0&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,n),yx!==r&&Hn("Protocol version mismatch detected"),this.tryStartUpgrade_())}tryStartUpgrade_(){const e=this.transportManager_.upgradeTransport();e&&this.startUpgrade_(e)}startUpgrade_(e){this.secondaryConn_=new e(this.nextTransportId_(),this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,this.sessionId),this.secondaryResponsesRequired_=e.responsesRequiredToBeHealthy||0;const n=this.connReceiver_(this.secondaryConn_),r=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,r),Pd(()=>{this.secondaryConn_&&(this.log_("Timed out trying to upgrade."),this.secondaryConn_.close())},Math.floor(bz))}onReset_(e){this.log_("Reset packet received.  New host: "+e),this.repoInfo_.host=e,this.state_===1?this.close():(this.closeConnections_(),this.start_())}onConnectionEstablished_(e,n){this.log_("Realtime connection established."),this.conn_=e,this.state_=1,this.onReady_&&(this.onReady_(n,this.sessionId),this.onReady_=null),this.primaryResponsesRequired_===0?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):Pd(()=>{this.sendPingOnPrimaryIfNecessary_()},Math.floor(Sz))}sendPingOnPrimaryIfNecessary_(){!this.isHealthy_&&this.state_===1&&(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:KE,d:{}}}))}onSecondaryConnectionLost_(){const e=this.secondaryConn_;this.secondaryConn_=null,(this.tx_===e||this.rx_===e)&&this.close()}onConnectionLost_(e){this.conn_=null,!e&&this.state_===0?(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(Ga.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)):this.state_===1&&this.log_("Realtime connection lost."),this.close()}onConnectionShutdown_(e){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(e),this.onKill_=null),this.onDisconnect_=null,this.close()}sendData_(e){if(this.state_!==1)throw"Connection is not connected";this.tx_.send(e)}close(){this.state_!==2&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))}closeConnections_(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{put(e,n,r,i){}merge(e,n,r,i){}refreshAuthToken(e){}refreshAppCheckToken(e){}onDisconnectPut(e,n,r){}onDisconnectMerge(e,n,r){}onDisconnectCancel(e,n){}reportStats(e){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ON{constructor(e){this.allowedEvents_=e,this.listeners_={},he(Array.isArray(e)&&e.length>0,"Requires a non-empty array")}trigger(e,...n){if(Array.isArray(this.listeners_[e])){const r=[...this.listeners_[e]];for(let i=0;i<r.length;i++)r[i].callback.apply(r[i].context,n)}}on(e,n,r){this.validateEventType_(e),this.listeners_[e]=this.listeners_[e]||[],this.listeners_[e].push({callback:n,context:r});const i=this.getInitialEvent(e);i&&n.apply(r,i)}off(e,n,r){this.validateEventType_(e);const i=this.listeners_[e]||[];for(let s=0;s<i.length;s++)if(i[s].callback===n&&(!r||r===i[s].context)){i.splice(s,1);return}}validateEventType_(e){he(this.allowedEvents_.find(n=>n===e),"Unknown event: "+e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cm extends ON{static getInstance(){return new Cm}constructor(){super(["online"]),this.online_=!0,typeof window<"u"&&typeof window.addEventListener<"u"&&!Zw()&&(window.addEventListener("online",()=>{this.online_||(this.online_=!0,this.trigger("online",!0))},!1),window.addEventListener("offline",()=>{this.online_&&(this.online_=!1,this.trigger("online",!1))},!1))}getInitialEvent(e){return he(e==="online","Unknown event type: "+e),[this.online_]}currentlyOnline(){return this.online_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const GE=32,qE=768;class pt{constructor(e,n){if(n===void 0){this.pieces_=e.split("/");let r=0;for(let i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[r]=this.pieces_[i],r++);this.pieces_.length=r,this.pieceNum_=0}else this.pieces_=e,this.pieceNum_=n}toString(){let e="";for(let n=this.pieceNum_;n<this.pieces_.length;n++)this.pieces_[n]!==""&&(e+="/"+this.pieces_[n]);return e||"/"}}function rt(){return new pt("")}function ze(t){return t.pieceNum_>=t.pieces_.length?null:t.pieces_[t.pieceNum_]}function ea(t){return t.pieces_.length-t.pieceNum_}function wt(t){let e=t.pieceNum_;return e<t.pieces_.length&&e++,new pt(t.pieces_,e)}function wx(t){return t.pieceNum_<t.pieces_.length?t.pieces_[t.pieces_.length-1]:null}function Rz(t){let e="";for(let n=t.pieceNum_;n<t.pieces_.length;n++)t.pieces_[n]!==""&&(e+="/"+encodeURIComponent(String(t.pieces_[n])));return e||"/"}function uh(t,e=0){return t.pieces_.slice(t.pieceNum_+e)}function DN(t){if(t.pieceNum_>=t.pieces_.length)return null;const e=[];for(let n=t.pieceNum_;n<t.pieces_.length-1;n++)e.push(t.pieces_[n]);return new pt(e,0)}function Bt(t,e){const n=[];for(let r=t.pieceNum_;r<t.pieces_.length;r++)n.push(t.pieces_[r]);if(e instanceof pt)for(let r=e.pieceNum_;r<e.pieces_.length;r++)n.push(e.pieces_[r]);else{const r=e.split("/");for(let i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new pt(n,0)}function Ke(t){return t.pieceNum_>=t.pieces_.length}function zn(t,e){const n=ze(t),r=ze(e);if(n===null)return e;if(n===r)return zn(wt(t),wt(e));throw new Error("INTERNAL ERROR: innerPath ("+e+") is not within outerPath ("+t+")")}function Az(t,e){const n=uh(t,0),r=uh(e,0);for(let i=0;i<n.length&&i<r.length;i++){const s=Sl(n[i],r[i]);if(s!==0)return s}return n.length===r.length?0:n.length<r.length?-1:1}function xx(t,e){if(ea(t)!==ea(e))return!1;for(let n=t.pieceNum_,r=e.pieceNum_;n<=t.pieces_.length;n++,r++)if(t.pieces_[n]!==e.pieces_[r])return!1;return!0}function jr(t,e){let n=t.pieceNum_,r=e.pieceNum_;if(ea(t)>ea(e))return!1;for(;n<t.pieces_.length;){if(t.pieces_[n]!==e.pieces_[r])return!1;++n,++r}return!0}class Nz{constructor(e,n){this.errorPrefix_=n,this.parts_=uh(e,0),this.byteLength_=Math.max(1,this.parts_.length);for(let r=0;r<this.parts_.length;r++)this.byteLength_+=Tg(this.parts_[r]);MN(this)}}function Oz(t,e){t.parts_.length>0&&(t.byteLength_+=1),t.parts_.push(e),t.byteLength_+=Tg(e),MN(t)}function Dz(t){const e=t.parts_.pop();t.byteLength_-=Tg(e),t.parts_.length>0&&(t.byteLength_-=1)}function MN(t){if(t.byteLength_>qE)throw new Error(t.errorPrefix_+"has a key path longer than "+qE+" bytes ("+t.byteLength_+").");if(t.parts_.length>GE)throw new Error(t.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+GE+") or object contains a cycle "+Fa(t))}function Fa(t){return t.parts_.length===0?"":"in property '"+t.parts_.join(".")+"'"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx extends ON{static getInstance(){return new bx}constructor(){super(["visible"]);let e,n;typeof document<"u"&&typeof document.addEventListener<"u"&&(typeof document.hidden<"u"?(n="visibilitychange",e="hidden"):typeof document.mozHidden<"u"?(n="mozvisibilitychange",e="mozHidden"):typeof document.msHidden<"u"?(n="msvisibilitychange",e="msHidden"):typeof document.webkitHidden<"u"&&(n="webkitvisibilitychange",e="webkitHidden")),this.visible_=!0,n&&document.addEventListener(n,()=>{const r=!document[e];r!==this.visible_&&(this.visible_=r,this.trigger("visible",r))},!1)}getInitialEvent(e){return he(e==="visible","Unknown event type: "+e),[this.visible_]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yu=1e3,Mz=60*5*1e3,YE=30*1e3,jz=1.3,Lz=3e4,Fz="server_kill",QE=3;class Is extends NN{constructor(e,n,r,i,s,o,a,l){if(super(),this.repoInfo_=e,this.applicationId_=n,this.onDataUpdate_=r,this.onConnectStatus_=i,this.onServerInfoUpdate_=s,this.authTokenProvider_=o,this.appCheckTokenProvider_=a,this.authOverride_=l,this.id=Is.nextPersistentConnectionId_++,this.log_=Kh("p:"+this.id+":"),this.interruptReasons_={},this.listens=new Map,this.outstandingPuts_=[],this.outstandingGets_=[],this.outstandingPutCount_=0,this.outstandingGetCount_=0,this.onDisconnectRequestQueue_=[],this.connected_=!1,this.reconnectDelay_=Yu,this.maxReconnectDelay_=Mz,this.securityDebugCallback_=null,this.lastSessionId=null,this.establishConnectionTimer_=null,this.visible_=!1,this.requestCBHash_={},this.requestNumber_=0,this.realtime_=null,this.authToken_=null,this.appCheckToken_=null,this.forceTokenRefresh_=!1,this.invalidAuthTokenCount_=0,this.invalidAppCheckTokenCount_=0,this.firstConnection_=!0,this.lastConnectionAttemptTime_=null,this.lastConnectionEstablishedTime_=null,l&&!gA())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");bx.getInstance().on("visible",this.onVisible_,this),e.host.indexOf("fblocal")===-1&&Cm.getInstance().on("online",this.onOnline_,this)}sendRequest(e,n,r){const i=++this.requestNumber_,s={r:i,a:e,b:n};this.log_(tn(s)),he(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(s),r&&(this.requestCBHash_[i]=r)}get(e){this.initConnection_();const n=new Lh,i={action:"g",request:{p:e._path.toString(),q:e._queryObject},onComplete:o=>{const a=o.d;o.s==="ok"?n.resolve(a):n.reject(a)}};this.outstandingGets_.push(i),this.outstandingGetCount_++;const s=this.outstandingGets_.length-1;return this.connected_&&this.sendGet_(s),n.promise}listen(e,n,r,i){this.initConnection_();const s=e._queryIdentifier,o=e._path.toString();this.log_("Listen called for "+o+" "+s),this.listens.has(o)||this.listens.set(o,new Map),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"listen() called for non-default but complete query"),he(!this.listens.get(o).has(s),"listen() called twice for same path/queryId.");const a={onComplete:i,hashFn:n,query:e,tag:r};this.listens.get(o).set(s,a),this.connected_&&this.sendListen_(a)}sendGet_(e){const n=this.outstandingGets_[e];this.sendRequest("g",n.request,r=>{delete this.outstandingGets_[e],this.outstandingGetCount_--,this.outstandingGetCount_===0&&(this.outstandingGets_=[]),n.onComplete&&n.onComplete(r)})}sendListen_(e){const n=e.query,r=n._path.toString(),i=n._queryIdentifier;this.log_("Listen on "+r+" for "+i);const s={p:r},o="q";e.tag&&(s.q=n._queryObject,s.t=e.tag),s.h=e.hashFn(),this.sendRequest(o,s,a=>{const l=a.d,c=a.s;Is.warnOnListenWarnings_(l,n),(this.listens.get(r)&&this.listens.get(r).get(i))===e&&(this.log_("listen response",a),c!=="ok"&&this.removeListen_(r,i),e.onComplete&&e.onComplete(c,l))})}static warnOnListenWarnings_(e,n){if(e&&typeof e=="object"&&ts(e,"w")){const r=Xc(e,"w");if(Array.isArray(r)&&~r.indexOf("no_index")){const i='".indexOn": "'+n._queryParams.getIndex().toString()+'"',s=n._path.toString();Hn(`Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding ${i} at ${s} to your security rules for better performance.`)}}}refreshAuthToken(e){this.authToken_=e,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},()=>{}),this.reduceReconnectDelayIfAdminCredential_(e)}reduceReconnectDelayIfAdminCredential_(e){(e&&e.length===40||w6(e))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=YE)}refreshAppCheckToken(e){this.appCheckToken_=e,this.log_("App check token refreshed"),this.appCheckToken_?this.tryAppCheck():this.connected_&&this.sendRequest("unappeck",{},()=>{})}tryAuth(){if(this.connected_&&this.authToken_){const e=this.authToken_,n=_6(e)?"auth":"gauth",r={cred:e};this.authOverride_===null?r.noauth=!0:typeof this.authOverride_=="object"&&(r.authvar=this.authOverride_),this.sendRequest(n,r,i=>{const s=i.s,o=i.d||"error";this.authToken_===e&&(s==="ok"?this.invalidAuthTokenCount_=0:this.onAuthRevoked_(s,o))})}}tryAppCheck(){this.connected_&&this.appCheckToken_&&this.sendRequest("appcheck",{token:this.appCheckToken_},e=>{const n=e.s,r=e.d||"error";n==="ok"?this.invalidAppCheckTokenCount_=0:this.onAppCheckRevoked_(n,r)})}unlisten(e,n){const r=e._path.toString(),i=e._queryIdentifier;this.log_("Unlisten called for "+r+" "+i),he(e._queryParams.isDefault()||!e._queryParams.loadsAllData(),"unlisten() called for non-default but complete query"),this.removeListen_(r,i)&&this.connected_&&this.sendUnlisten_(r,i,e._queryObject,n)}sendUnlisten_(e,n,r,i){this.log_("Unlisten on "+e+" for "+n);const s={p:e},o="n";i&&(s.q=r,s.t=i),this.sendRequest(o,s)}onDisconnectPut(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("o",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"o",data:n,onComplete:r})}onDisconnectMerge(e,n,r){this.initConnection_(),this.connected_?this.sendOnDisconnect_("om",e,n,r):this.onDisconnectRequestQueue_.push({pathString:e,action:"om",data:n,onComplete:r})}onDisconnectCancel(e,n){this.initConnection_(),this.connected_?this.sendOnDisconnect_("oc",e,null,n):this.onDisconnectRequestQueue_.push({pathString:e,action:"oc",data:null,onComplete:n})}sendOnDisconnect_(e,n,r,i){const s={p:n,d:r};this.log_("onDisconnect "+e,s),this.sendRequest(e,s,o=>{i&&setTimeout(()=>{i(o.s,o.d)},Math.floor(0))})}put(e,n,r,i){this.putInternal("p",e,n,r,i)}merge(e,n,r,i){this.putInternal("m",e,n,r,i)}putInternal(e,n,r,i,s){this.initConnection_();const o={p:n,d:r};s!==void 0&&(o.h=s),this.outstandingPuts_.push({action:e,request:o,onComplete:i}),this.outstandingPutCount_++;const a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+n)}sendPut_(e){const n=this.outstandingPuts_[e].action,r=this.outstandingPuts_[e].request,i=this.outstandingPuts_[e].onComplete;this.outstandingPuts_[e].queued=this.connected_,this.sendRequest(n,r,s=>{this.log_(n+" response",s),delete this.outstandingPuts_[e],this.outstandingPutCount_--,this.outstandingPutCount_===0&&(this.outstandingPuts_=[]),i&&i(s.s,s.d)})}reportStats(e){if(this.connected_){const n={c:e};this.log_("reportStats",n),this.sendRequest("s",n,r=>{if(r.s!=="ok"){const s=r.d;this.log_("reportStats","Error sending stats: "+s)}})}}onDataMessage_(e){if("r"in e){this.log_("from server: "+tn(e));const n=e.r,r=this.requestCBHash_[n];r&&(delete this.requestCBHash_[n],r(e.b))}else{if("error"in e)throw"A server-side error has occurred: "+e.error;"a"in e&&this.onDataPush_(e.a,e.b)}}onDataPush_(e,n){this.log_("handleServerMessage",e,n),e==="d"?this.onDataUpdate_(n.p,n.d,!1,n.t):e==="m"?this.onDataUpdate_(n.p,n.d,!0,n.t):e==="c"?this.onListenRevoked_(n.p,n.q):e==="ac"?this.onAuthRevoked_(n.s,n.d):e==="apc"?this.onAppCheckRevoked_(n.s,n.d):e==="sd"?this.onSecurityDebugPacket_(n):$_("Unrecognized action received from server: "+tn(e)+`
Are you using the latest client?`)}onReady_(e,n){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=new Date().getTime(),this.handleTimestamp_(e),this.lastSessionId=n,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)}scheduleConnect_(e){he(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(()=>{this.establishConnectionTimer_=null,this.establishConnection_()},Math.floor(e))}initConnection_(){!this.realtime_&&this.firstConnection_&&this.scheduleConnect_(0)}onVisible_(e){e&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0)),this.visible_=e}onOnline_(e){e?(this.log_("Browser went online."),this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())}onRealtimeDisconnect_(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){this.visible_?this.lastConnectionEstablishedTime_&&(new Date().getTime()-this.lastConnectionEstablishedTime_>Lz&&(this.reconnectDelay_=Yu),this.lastConnectionEstablishedTime_=null):(this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=new Date().getTime());const e=Math.max(0,new Date().getTime()-this.lastConnectionAttemptTime_);let n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*jz)}this.onConnectStatus_(!1)}async establishConnection_(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=new Date().getTime(),this.lastConnectionEstablishedTime_=null;const e=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),r=this.onRealtimeDisconnect_.bind(this),i=this.id+":"+Is.nextConnectionId_++,s=this.lastSessionId;let o=!1,a=null;const l=function(){a?a.close():(o=!0,r())},c=function(p){he(a,"sendRequest call when we're not connected not allowed."),a.sendRequest(p)};this.realtime_={close:l,sendRequest:c};const h=this.forceTokenRefresh_;this.forceTokenRefresh_=!1;try{const[p,m]=await Promise.all([this.authTokenProvider_.getToken(h),this.appCheckTokenProvider_.getToken(h)]);o?mn("getToken() completed but was canceled"):(mn("getToken() completed. Creating connection."),this.authToken_=p&&p.accessToken,this.appCheckToken_=m&&m.token,a=new kz(i,this.repoInfo_,this.applicationId_,this.appCheckToken_,this.authToken_,e,n,r,w=>{Hn(w+" ("+this.repoInfo_.toString()+")"),this.interrupt(Fz)},s))}catch(p){this.log_("Failed to get token: "+p),o||(this.repoInfo_.nodeAdmin&&Hn(p),l())}}}interrupt(e){mn("Interrupting connection for reason: "+e),this.interruptReasons_[e]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())}resume(e){mn("Resuming connection for reason: "+e),delete this.interruptReasons_[e],N_(this.interruptReasons_)&&(this.reconnectDelay_=Yu,this.realtime_||this.scheduleConnect_(0))}handleTimestamp_(e){const n=e-new Date().getTime();this.onServerInfoUpdate_({serverTimeOffset:n})}cancelSentTransactions_(){for(let e=0;e<this.outstandingPuts_.length;e++){const n=this.outstandingPuts_[e];n&&"h"in n.request&&n.queued&&(n.onComplete&&n.onComplete("disconnect"),delete this.outstandingPuts_[e],this.outstandingPutCount_--)}this.outstandingPutCount_===0&&(this.outstandingPuts_=[])}onListenRevoked_(e,n){let r;n?r=n.map(s=>gx(s)).join("$"):r="default";const i=this.removeListen_(e,r);i&&i.onComplete&&i.onComplete("permission_denied")}removeListen_(e,n){const r=new pt(e).toString();let i;if(this.listens.has(r)){const s=this.listens.get(r);i=s.get(n),s.delete(n),s.size===0&&this.listens.delete(r)}else i=void 0;return i}onAuthRevoked_(e,n){mn("Auth token revoked: "+e+"/"+n),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),(e==="invalid_token"||e==="permission_denied")&&(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=QE&&(this.reconnectDelay_=YE,this.authTokenProvider_.notifyForInvalidToken()))}onAppCheckRevoked_(e,n){mn("App check token revoked: "+e+"/"+n),this.appCheckToken_=null,this.forceTokenRefresh_=!0,(e==="invalid_token"||e==="permission_denied")&&(this.invalidAppCheckTokenCount_++,this.invalidAppCheckTokenCount_>=QE&&this.appCheckTokenProvider_.notifyForInvalidToken())}onSecurityDebugPacket_(e){this.securityDebugCallback_?this.securityDebugCallback_(e):"msg"in e&&console.log("FIREBASE: "+e.msg.replace(`
`,`
FIREBASE: `))}restoreState_(){this.tryAuth(),this.tryAppCheck();for(const e of this.listens.values())for(const n of e.values())this.sendListen_(n);for(let e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);for(;this.onDisconnectRequestQueue_.length;){const e=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(e.action,e.pathString,e.data,e.onComplete)}for(let e=0;e<this.outstandingGets_.length;e++)this.outstandingGets_[e]&&this.sendGet_(e)}sendConnectStats_(){const e={};let n="js";e["sdk."+n+"."+dN.replace(/\./g,"-")]=1,Zw()?e["framework.cordova"]=1:mA()&&(e["framework.reactnative"]=1),this.reportStats(e)}shouldReconnect_(){const e=Cm.getInstance().currentlyOnline();return N_(this.interruptReasons_)&&e}}Is.nextPersistentConnectionId_=0;Is.nextConnectionId_=0;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class We{constructor(e,n){this.name=e,this.node=n}static Wrap(e,n){return new We(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ag{getCompare(){return this.compare.bind(this)}indexedValueChanged(e,n){const r=new We(eu,e),i=new We(eu,n);return this.compare(r,i)!==0}minPost(){return We.MIN}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hf;class jN extends Ag{static get __EMPTY_NODE(){return Hf}static set __EMPTY_NODE(e){Hf=e}compare(e,n){return Sl(e.name,n.name)}isDefinedOn(e){throw mu("KeyIndex.isDefinedOn not expected to be called.")}indexedValueChanged(e,n){return!1}minPost(){return We.MIN}maxPost(){return new We(ml,Hf)}makePost(e,n){return he(typeof e=="string","KeyIndex indexValue must always be a string."),new We(e,Hf)}toString(){return".key"}}const kc=new jN;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kf{constructor(e,n,r,i,s=null){this.isReverse_=i,this.resultGenerator_=s,this.nodeStack_=[];let o=1;for(;!e.isEmpty();)if(e=e,o=n?r(e.key,n):1,i&&(o*=-1),o<0)this.isReverse_?e=e.left:e=e.right;else if(o===0){this.nodeStack_.push(e);break}else this.nodeStack_.push(e),this.isReverse_?e=e.right:e=e.left}getNext(){if(this.nodeStack_.length===0)return null;let e=this.nodeStack_.pop(),n;if(this.resultGenerator_?n=this.resultGenerator_(e.key,e.value):n={key:e.key,value:e.value},this.isReverse_)for(e=e.left;!e.isEmpty();)this.nodeStack_.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack_.push(e),e=e.left;return n}hasNext(){return this.nodeStack_.length>0}peek(){if(this.nodeStack_.length===0)return null;const e=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value}}}class ln{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??ln.RED,this.left=i??Jn.EMPTY_NODE,this.right=s??Jn.EMPTY_NODE}copy(e,n,r,i,s){return new ln(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}count(){return this.left.count()+1+this.right.count()}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||!!e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min_(){return this.left.isEmpty()?this:this.left.min_()}minKey(){return this.min_().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const s=r(e,i.key);return s<0?i=i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i=i.copy(null,n,null,null,null):i=i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp_()}removeMin_(){if(this.left.isEmpty())return Jn.EMPTY_NODE;let e=this;return!e.left.isRed_()&&!e.left.left.isRed_()&&(e=e.moveRedLeft_()),e=e.copy(null,null,null,e.left.removeMin_(),null),e.fixUp_()}remove(e,n){let r,i;if(r=this,n(e,r.key)<0)!r.left.isEmpty()&&!r.left.isRed_()&&!r.left.left.isRed_()&&(r=r.moveRedLeft_()),r=r.copy(null,null,null,r.left.remove(e,n),null);else{if(r.left.isRed_()&&(r=r.rotateRight_()),!r.right.isEmpty()&&!r.right.isRed_()&&!r.right.left.isRed_()&&(r=r.moveRedRight_()),n(e,r.key)===0){if(r.right.isEmpty())return Jn.EMPTY_NODE;i=r.right.min_(),r=r.copy(i.key,i.value,null,null,r.right.removeMin_())}r=r.copy(null,null,null,null,r.right.remove(e,n))}return r.fixUp_()}isRed_(){return this.color}fixUp_(){let e=this;return e.right.isRed_()&&!e.left.isRed_()&&(e=e.rotateLeft_()),e.left.isRed_()&&e.left.left.isRed_()&&(e=e.rotateRight_()),e.left.isRed_()&&e.right.isRed_()&&(e=e.colorFlip_()),e}moveRedLeft_(){let e=this.colorFlip_();return e.right.left.isRed_()&&(e=e.copy(null,null,null,null,e.right.rotateRight_()),e=e.rotateLeft_(),e=e.colorFlip_()),e}moveRedRight_(){let e=this.colorFlip_();return e.left.left.isRed_()&&(e=e.rotateRight_(),e=e.colorFlip_()),e}rotateLeft_(){const e=this.copy(null,null,ln.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight_(){const e=this.copy(null,null,ln.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip_(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth_(){const e=this.check_();return Math.pow(2,e)<=this.count()+1}check_(){if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");const e=this.left.check_();if(e!==this.right.check_())throw new Error("Black depths differ");return e+(this.isRed_()?0:1)}}ln.RED=!0;ln.BLACK=!1;class Vz{copy(e,n,r,i,s){return this}insert(e,n,r){return new ln(e,n,null)}remove(e,n){return this}count(){return 0}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}check_(){return 0}isRed_(){return!1}}class Jn{constructor(e,n=Jn.EMPTY_NODE){this.comparator_=e,this.root_=n}insert(e,n){return new Jn(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,ln.BLACK,null,null))}remove(e){return new Jn(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,ln.BLACK,null,null))}get(e){let n,r=this.root_;for(;!r.isEmpty();){if(n=this.comparator_(e,r.key),n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}getPredecessorKey(e){let n,r=this.root_,i=null;for(;!r.isEmpty();)if(n=this.comparator_(e,r.key),n===0){if(r.left.isEmpty())return i?i.key:null;for(r=r.left;!r.right.isEmpty();)r=r.right;return r.key}else n<0?r=r.left:n>0&&(i=r,r=r.right);throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")}isEmpty(){return this.root_.isEmpty()}count(){return this.root_.count()}minKey(){return this.root_.minKey()}maxKey(){return this.root_.maxKey()}inorderTraversal(e){return this.root_.inorderTraversal(e)}reverseTraversal(e){return this.root_.reverseTraversal(e)}getIterator(e){return new Kf(this.root_,null,this.comparator_,!1,e)}getIteratorFrom(e,n){return new Kf(this.root_,e,this.comparator_,!1,n)}getReverseIteratorFrom(e,n){return new Kf(this.root_,e,this.comparator_,!0,n)}getReverseIterator(e){return new Kf(this.root_,null,this.comparator_,!0,e)}}Jn.EMPTY_NODE=new Vz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uz(t,e){return Sl(t.name,e.name)}function Sx(t,e){return Sl(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let W_;function Bz(t){W_=t}const LN=function(t){return typeof t=="number"?"number:"+mN(t):"string:"+t},FN=function(t){if(t.isLeafNode()){const e=t.val();he(typeof e=="string"||typeof e=="number"||typeof e=="object"&&ts(e,".sv"),"Priority must be a string or number.")}else he(t===W_||t.isEmpty(),"priority of unexpected type.");he(t===W_||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let XE;class on{static set __childrenNodeConstructor(e){XE=e}static get __childrenNodeConstructor(){return XE}constructor(e,n=on.__childrenNodeConstructor.EMPTY_NODE){this.value_=e,this.priorityNode_=n,this.lazyHash_=null,he(this.value_!==void 0&&this.value_!==null,"LeafNode shouldn't be created with null/undefined value."),FN(this.priorityNode_)}isLeafNode(){return!0}getPriority(){return this.priorityNode_}updatePriority(e){return new on(this.value_,e)}getImmediateChild(e){return e===".priority"?this.priorityNode_:on.__childrenNodeConstructor.EMPTY_NODE}getChild(e){return Ke(e)?this:ze(e)===".priority"?this.priorityNode_:on.__childrenNodeConstructor.EMPTY_NODE}hasChild(){return!1}getPredecessorChildName(e,n){return null}updateImmediateChild(e,n){return e===".priority"?this.updatePriority(n):n.isEmpty()&&e!==".priority"?this:on.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)}updateChild(e,n){const r=ze(e);return r===null?n:n.isEmpty()&&r!==".priority"?this:(he(r!==".priority"||ea(e)===1,".priority must be the last token in a path"),this.updateImmediateChild(r,on.__childrenNodeConstructor.EMPTY_NODE.updateChild(wt(e),n)))}isEmpty(){return!1}numChildren(){return 0}forEachChild(e,n){return!1}val(e){return e&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()}hash(){if(this.lazyHash_===null){let e="";this.priorityNode_.isEmpty()||(e+="priority:"+LN(this.priorityNode_.val())+":");const n=typeof this.value_;e+=n+":",n==="number"?e+=mN(this.value_):e+=this.value_,this.lazyHash_=fN(e)}return this.lazyHash_}getValue(){return this.value_}compareTo(e){return e===on.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof on.__childrenNodeConstructor?-1:(he(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))}compareToLeafNode_(e){const n=typeof e.value_,r=typeof this.value_,i=on.VALUE_TYPE_ORDER.indexOf(n),s=on.VALUE_TYPE_ORDER.indexOf(r);return he(i>=0,"Unknown leaf type: "+n),he(s>=0,"Unknown leaf type: "+r),i===s?r==="object"?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:s-i}withIndex(){return this}isIndexed(){return!0}equals(e){if(e===this)return!0;if(e.isLeafNode()){const n=e;return this.value_===n.value_&&this.priorityNode_.equals(n.priorityNode_)}else return!1}}on.VALUE_TYPE_ORDER=["object","boolean","number","string"];/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let VN,UN;function $z(t){VN=t}function zz(t){UN=t}class Wz extends Ag{compare(e,n){const r=e.node.getPriority(),i=n.node.getPriority(),s=r.compareTo(i);return s===0?Sl(e.name,n.name):s}isDefinedOn(e){return!e.getPriority().isEmpty()}indexedValueChanged(e,n){return!e.getPriority().equals(n.getPriority())}minPost(){return We.MIN}maxPost(){return new We(ml,new on("[PRIORITY-POST]",UN))}makePost(e,n){const r=VN(e);return new We(n,new on("[PRIORITY-POST]",r))}toString(){return".priority"}}const $t=new Wz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hz=Math.log(2);class Kz{constructor(e){const n=s=>parseInt(Math.log(s)/Hz,10),r=s=>parseInt(Array(s+1).join("1"),2);this.count=n(e+1),this.current_=this.count-1;const i=r(this.count);this.bits_=e+1&i}nextBitIsOne(){const e=!(this.bits_&1<<this.current_);return this.current_--,e}}const Tm=function(t,e,n,r){t.sort(e);const i=function(l,c){const h=c-l;let p,m;if(h===0)return null;if(h===1)return p=t[l],m=n?n(p):p,new ln(m,p.node,ln.BLACK,null,null);{const w=parseInt(h/2,10)+l,T=i(l,w),_=i(w+1,c);return p=t[w],m=n?n(p):p,new ln(m,p.node,ln.BLACK,T,_)}},s=function(l){let c=null,h=null,p=t.length;const m=function(T,_){const I=p-T,b=p;p-=T;const E=i(I+1,b),k=t[I],M=n?n(k):k;w(new ln(M,k.node,_,null,E))},w=function(T){c?(c.left=T,c=T):(h=T,c=T)};for(let T=0;T<l.count;++T){const _=l.nextBitIsOne(),I=Math.pow(2,l.count-(T+1));_?m(I,ln.BLACK):(m(I,ln.BLACK),m(I,ln.RED))}return h},o=new Kz(t.length),a=s(o);return new Jn(r||e,a)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let rv;const Kl={};class Es{static get Default(){return he(Kl&&$t,"ChildrenNode.ts has not been loaded"),rv=rv||new Es({".priority":Kl},{".priority":$t}),rv}constructor(e,n){this.indexes_=e,this.indexSet_=n}get(e){const n=Xc(this.indexes_,e);if(!n)throw new Error("No index defined for "+e);return n instanceof Jn?n:null}hasIndex(e){return ts(this.indexSet_,e.toString())}addIndex(e,n){he(e!==kc,"KeyIndex always exists and isn't meant to be added to the IndexMap.");const r=[];let i=!1;const s=n.getIterator(We.Wrap);let o=s.getNext();for(;o;)i=i||e.isDefinedOn(o.node),r.push(o),o=s.getNext();let a;i?a=Tm(r,e.getCompare()):a=Kl;const l=e.toString(),c={...this.indexSet_};c[l]=e;const h={...this.indexes_};return h[l]=a,new Es(h,c)}addToIndexes(e,n){const r=fm(this.indexes_,(i,s)=>{const o=Xc(this.indexSet_,s);if(he(o,"Missing index implementation for "+s),i===Kl)if(o.isDefinedOn(e.node)){const a=[],l=n.getIterator(We.Wrap);let c=l.getNext();for(;c;)c.name!==e.name&&a.push(c),c=l.getNext();return a.push(e),Tm(a,o.getCompare())}else return Kl;else{const a=n.get(e.name);let l=i;return a&&(l=l.remove(new We(e.name,a))),l.insert(e,e.node)}});return new Es(r,this.indexSet_)}removeFromIndexes(e,n){const r=fm(this.indexes_,i=>{if(i===Kl)return i;{const s=n.get(e.name);return s?i.remove(new We(e.name,s)):i}});return new Es(r,this.indexSet_)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qu;class Ne{static get EMPTY_NODE(){return Qu||(Qu=new Ne(new Jn(Sx),null,Es.Default))}constructor(e,n,r){this.children_=e,this.priorityNode_=n,this.indexMap_=r,this.lazyHash_=null,this.priorityNode_&&FN(this.priorityNode_),this.children_.isEmpty()&&he(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}isLeafNode(){return!1}getPriority(){return this.priorityNode_||Qu}updatePriority(e){return this.children_.isEmpty()?this:new Ne(this.children_,e,this.indexMap_)}getImmediateChild(e){if(e===".priority")return this.getPriority();{const n=this.children_.get(e);return n===null?Qu:n}}getChild(e){const n=ze(e);return n===null?this:this.getImmediateChild(n).getChild(wt(e))}hasChild(e){return this.children_.get(e)!==null}updateImmediateChild(e,n){if(he(n,"We should always be passing snapshot nodes"),e===".priority")return this.updatePriority(n);{const r=new We(e,n);let i,s;n.isEmpty()?(i=this.children_.remove(e),s=this.indexMap_.removeFromIndexes(r,this.children_)):(i=this.children_.insert(e,n),s=this.indexMap_.addToIndexes(r,this.children_));const o=i.isEmpty()?Qu:this.priorityNode_;return new Ne(i,o,s)}}updateChild(e,n){const r=ze(e);if(r===null)return n;{he(ze(e)!==".priority"||ea(e)===1,".priority must be the last token in a path");const i=this.getImmediateChild(r).updateChild(wt(e),n);return this.updateImmediateChild(r,i)}}isEmpty(){return this.children_.isEmpty()}numChildren(){return this.children_.count()}val(e){if(this.isEmpty())return null;const n={};let r=0,i=0,s=!0;if(this.forEachChild($t,(o,a)=>{n[o]=a.val(e),r++,s&&Ne.INTEGER_REGEXP_.test(o)?i=Math.max(i,Number(o)):s=!1}),!e&&s&&i<2*r){const o=[];for(const a in n)o[a]=n[a];return o}else return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n}hash(){if(this.lazyHash_===null){let e="";this.getPriority().isEmpty()||(e+="priority:"+LN(this.getPriority().val())+":"),this.forEachChild($t,(n,r)=>{const i=r.hash();i!==""&&(e+=":"+n+":"+i)}),this.lazyHash_=e===""?"":fN(e)}return this.lazyHash_}getPredecessorChildName(e,n,r){const i=this.resolveIndex_(r);if(i){const s=i.getPredecessorKey(new We(e,n));return s?s.name:null}else return this.children_.getPredecessorKey(e)}getFirstChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.minKey();return r&&r.name}else return this.children_.minKey()}getFirstChild(e){const n=this.getFirstChildName(e);return n?new We(n,this.children_.get(n)):null}getLastChildName(e){const n=this.resolveIndex_(e);if(n){const r=n.maxKey();return r&&r.name}else return this.children_.maxKey()}getLastChild(e){const n=this.getLastChildName(e);return n?new We(n,this.children_.get(n)):null}forEachChild(e,n){const r=this.resolveIndex_(e);return r?r.inorderTraversal(i=>n(i.name,i.node)):this.children_.inorderTraversal(n)}getIterator(e){return this.getIteratorFrom(e.minPost(),e)}getIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getIteratorFrom(e,i=>i);{const i=this.children_.getIteratorFrom(e.name,We.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)<0;)i.getNext(),s=i.peek();return i}}getReverseIterator(e){return this.getReverseIteratorFrom(e.maxPost(),e)}getReverseIteratorFrom(e,n){const r=this.resolveIndex_(n);if(r)return r.getReverseIteratorFrom(e,i=>i);{const i=this.children_.getReverseIteratorFrom(e.name,We.Wrap);let s=i.peek();for(;s!=null&&n.compare(s,e)>0;)i.getNext(),s=i.peek();return i}}compareTo(e){return this.isEmpty()?e.isEmpty()?0:-1:e.isLeafNode()||e.isEmpty()?1:e===Gh?-1:0}withIndex(e){if(e===kc||this.indexMap_.hasIndex(e))return this;{const n=this.indexMap_.addIndex(e,this.children_);return new Ne(this.children_,this.priorityNode_,n)}}isIndexed(e){return e===kc||this.indexMap_.hasIndex(e)}equals(e){if(e===this)return!0;if(e.isLeafNode())return!1;{const n=e;if(this.getPriority().equals(n.getPriority()))if(this.children_.count()===n.children_.count()){const r=this.getIterator($t),i=n.getIterator($t);let s=r.getNext(),o=i.getNext();for(;s&&o;){if(s.name!==o.name||!s.node.equals(o.node))return!1;s=r.getNext(),o=i.getNext()}return s===null&&o===null}else return!1;else return!1}}resolveIndex_(e){return e===kc?null:this.indexMap_.get(e.toString())}}Ne.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/;class Gz extends Ne{constructor(){super(new Jn(Sx),Ne.EMPTY_NODE,Es.Default)}compareTo(e){return e===this?0:1}equals(e){return e===this}getPriority(){return this}getImmediateChild(e){return Ne.EMPTY_NODE}isEmpty(){return!1}}const Gh=new Gz;Object.defineProperties(We,{MIN:{value:new We(eu,Ne.EMPTY_NODE)},MAX:{value:new We(ml,Gh)}});jN.__EMPTY_NODE=Ne.EMPTY_NODE;on.__childrenNodeConstructor=Ne;Bz(Gh);zz(Gh);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qz=!0;function en(t,e=null){if(t===null)return Ne.EMPTY_NODE;if(typeof t=="object"&&".priority"in t&&(e=t[".priority"]),he(e===null||typeof e=="string"||typeof e=="number"||typeof e=="object"&&".sv"in e,"Invalid priority type found: "+typeof e),typeof t=="object"&&".value"in t&&t[".value"]!==null&&(t=t[".value"]),typeof t!="object"||".sv"in t){const n=t;return new on(n,en(e))}if(!(t instanceof Array)&&qz){const n=[];let r=!1;if(_n(t,(o,a)=>{if(o.substring(0,1)!=="."){const l=en(a);l.isEmpty()||(r=r||!l.getPriority().isEmpty(),n.push(new We(o,l)))}}),n.length===0)return Ne.EMPTY_NODE;const s=Tm(n,Uz,o=>o.name,Sx);if(r){const o=Tm(n,$t.getCompare());return new Ne(s,en(e),new Es({".priority":o},{".priority":$t}))}else return new Ne(s,en(e),Es.Default)}else{let n=Ne.EMPTY_NODE;return _n(t,(r,i)=>{if(ts(t,r)&&r.substring(0,1)!=="."){const s=en(i);(s.isLeafNode()||!s.isEmpty())&&(n=n.updateImmediateChild(r,s))}}),n.updatePriority(en(e))}}$z(en);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz extends Ag{constructor(e){super(),this.indexPath_=e,he(!Ke(e)&&ze(e)!==".priority","Can't create PathIndex with empty path or .priority key")}extractChild(e){return e.getChild(this.indexPath_)}isDefinedOn(e){return!e.getChild(this.indexPath_).isEmpty()}compare(e,n){const r=this.extractChild(e.node),i=this.extractChild(n.node),s=r.compareTo(i);return s===0?Sl(e.name,n.name):s}makePost(e,n){const r=en(e),i=Ne.EMPTY_NODE.updateChild(this.indexPath_,r);return new We(n,i)}maxPost(){const e=Ne.EMPTY_NODE.updateChild(this.indexPath_,Gh);return new We(ml,e)}toString(){return uh(this.indexPath_,0).join("/")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz extends Ag{compare(e,n){const r=e.node.compareTo(n.node);return r===0?Sl(e.name,n.name):r}isDefinedOn(e){return!0}indexedValueChanged(e,n){return!e.equals(n)}minPost(){return We.MIN}maxPost(){return We.MAX}makePost(e,n){const r=en(e);return new We(n,r)}toString(){return".value"}}const Xz=new Qz;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BN(t){return{type:"value",snapshotNode:t}}function tu(t,e){return{type:"child_added",snapshotNode:e,childName:t}}function dh(t,e){return{type:"child_removed",snapshotNode:e,childName:t}}function hh(t,e,n){return{type:"child_changed",snapshotNode:e,childName:t,oldSnap:n}}function Jz(t,e){return{type:"child_moved",snapshotNode:e,childName:t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ex{constructor(e){this.index_=e}updateChild(e,n,r,i,s,o){he(e.isIndexed(this.index_),"A node must be indexed if only a child is updated");const a=e.getImmediateChild(n);return a.getChild(i).equals(r.getChild(i))&&a.isEmpty()===r.isEmpty()||(o!=null&&(r.isEmpty()?e.hasChild(n)?o.trackChildChange(dh(n,a)):he(e.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):a.isEmpty()?o.trackChildChange(tu(n,r)):o.trackChildChange(hh(n,r,a))),e.isLeafNode()&&r.isEmpty())?e:e.updateImmediateChild(n,r).withIndex(this.index_)}updateFullNode(e,n,r){return r!=null&&(e.isLeafNode()||e.forEachChild($t,(i,s)=>{n.hasChild(i)||r.trackChildChange(dh(i,s))}),n.isLeafNode()||n.forEachChild($t,(i,s)=>{if(e.hasChild(i)){const o=e.getImmediateChild(i);o.equals(s)||r.trackChildChange(hh(i,s,o))}else r.trackChildChange(tu(i,s))})),n.withIndex(this.index_)}updatePriority(e,n){return e.isEmpty()?Ne.EMPTY_NODE:e.updatePriority(n)}filtersNodes(){return!1}getIndexedFilter(){return this}getIndex(){return this.index_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fh{constructor(e){this.indexedFilter_=new Ex(e.getIndex()),this.index_=e.getIndex(),this.startPost_=fh.getStartPost_(e),this.endPost_=fh.getEndPost_(e),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}getStartPost(){return this.startPost_}getEndPost(){return this.endPost_}matches(e){const n=this.startIsInclusive_?this.index_.compare(this.getStartPost(),e)<=0:this.index_.compare(this.getStartPost(),e)<0,r=this.endIsInclusive_?this.index_.compare(e,this.getEndPost())<=0:this.index_.compare(e,this.getEndPost())<0;return n&&r}updateChild(e,n,r,i,s,o){return this.matches(new We(n,r))||(r=Ne.EMPTY_NODE),this.indexedFilter_.updateChild(e,n,r,i,s,o)}updateFullNode(e,n,r){n.isLeafNode()&&(n=Ne.EMPTY_NODE);let i=n.withIndex(this.index_);i=i.updatePriority(Ne.EMPTY_NODE);const s=this;return n.forEachChild($t,(o,a)=>{s.matches(new We(o,a))||(i=i.updateImmediateChild(o,Ne.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.indexedFilter_}getIndex(){return this.index_}static getStartPost_(e){if(e.hasStart()){const n=e.getIndexStartName();return e.getIndex().makePost(e.getIndexStartValue(),n)}else return e.getIndex().minPost()}static getEndPost_(e){if(e.hasEnd()){const n=e.getIndexEndName();return e.getIndex().makePost(e.getIndexEndValue(),n)}else return e.getIndex().maxPost()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e){this.withinDirectionalStart=n=>this.reverse_?this.withinEndPost(n):this.withinStartPost(n),this.withinDirectionalEnd=n=>this.reverse_?this.withinStartPost(n):this.withinEndPost(n),this.withinStartPost=n=>{const r=this.index_.compare(this.rangedFilter_.getStartPost(),n);return this.startIsInclusive_?r<=0:r<0},this.withinEndPost=n=>{const r=this.index_.compare(n,this.rangedFilter_.getEndPost());return this.endIsInclusive_?r<=0:r<0},this.rangedFilter_=new fh(e),this.index_=e.getIndex(),this.limit_=e.getLimit(),this.reverse_=!e.isViewFromLeft(),this.startIsInclusive_=!e.startAfterSet_,this.endIsInclusive_=!e.endBeforeSet_}updateChild(e,n,r,i,s,o){return this.rangedFilter_.matches(new We(n,r))||(r=Ne.EMPTY_NODE),e.getImmediateChild(n).equals(r)?e:e.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(e,n,r,i,s,o):this.fullLimitUpdateChild_(e,n,r,s,o)}updateFullNode(e,n,r){let i;if(n.isLeafNode()||n.isEmpty())i=Ne.EMPTY_NODE.withIndex(this.index_);else if(this.limit_*2<n.numChildren()&&n.isIndexed(this.index_)){i=Ne.EMPTY_NODE.withIndex(this.index_);let s;this.reverse_?s=n.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):s=n.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);let o=0;for(;s.hasNext()&&o<this.limit_;){const a=s.getNext();if(this.withinDirectionalStart(a))if(this.withinDirectionalEnd(a))i=i.updateImmediateChild(a.name,a.node),o++;else break;else continue}}else{i=n.withIndex(this.index_),i=i.updatePriority(Ne.EMPTY_NODE);let s;this.reverse_?s=i.getReverseIterator(this.index_):s=i.getIterator(this.index_);let o=0;for(;s.hasNext();){const a=s.getNext();o<this.limit_&&this.withinDirectionalStart(a)&&this.withinDirectionalEnd(a)?o++:i=i.updateImmediateChild(a.name,Ne.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(e,i,r)}updatePriority(e,n){return e}filtersNodes(){return!0}getIndexedFilter(){return this.rangedFilter_.getIndexedFilter()}getIndex(){return this.index_}fullLimitUpdateChild_(e,n,r,i,s){let o;if(this.reverse_){const p=this.index_.getCompare();o=(m,w)=>p(w,m)}else o=this.index_.getCompare();const a=e;he(a.numChildren()===this.limit_,"");const l=new We(n,r),c=this.reverse_?a.getFirstChild(this.index_):a.getLastChild(this.index_),h=this.rangedFilter_.matches(l);if(a.hasChild(n)){const p=a.getImmediateChild(n);let m=i.getChildAfterChild(this.index_,c,this.reverse_);for(;m!=null&&(m.name===n||a.hasChild(m.name));)m=i.getChildAfterChild(this.index_,m,this.reverse_);const w=m==null?1:o(m,l);if(h&&!r.isEmpty()&&w>=0)return s!=null&&s.trackChildChange(hh(n,r,p)),a.updateImmediateChild(n,r);{s!=null&&s.trackChildChange(dh(n,p));const _=a.updateImmediateChild(n,Ne.EMPTY_NODE);return m!=null&&this.rangedFilter_.matches(m)?(s!=null&&s.trackChildChange(tu(m.name,m.node)),_.updateImmediateChild(m.name,m.node)):_}}else return r.isEmpty()?e:h&&o(c,l)>=0?(s!=null&&(s.trackChildChange(dh(c.name,c.node)),s.trackChildChange(tu(n,r))),a.updateImmediateChild(n,r).updateImmediateChild(c.name,Ne.EMPTY_NODE)):e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Cx{constructor(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.startAfterSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.endBeforeSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=$t}hasStart(){return this.startSet_}isViewFromLeft(){return this.viewFrom_===""?this.startSet_:this.viewFrom_==="l"}getIndexStartValue(){return he(this.startSet_,"Only valid if start has been set"),this.indexStartValue_}getIndexStartName(){return he(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:eu}hasEnd(){return this.endSet_}getIndexEndValue(){return he(this.endSet_,"Only valid if end has been set"),this.indexEndValue_}getIndexEndName(){return he(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:ml}hasLimit(){return this.limitSet_}hasAnchoredLimit(){return this.limitSet_&&this.viewFrom_!==""}getLimit(){return he(this.limitSet_,"Only valid if limit has been set"),this.limit_}getIndex(){return this.index_}loadsAllData(){return!(this.startSet_||this.endSet_||this.limitSet_)}isDefault(){return this.loadsAllData()&&this.index_===$t}copy(){const e=new Cx;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.startAfterSet_=this.startAfterSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.endBeforeSet_=this.endBeforeSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e}}function eW(t){return t.loadsAllData()?new Ex(t.getIndex()):t.hasLimit()?new Zz(t):new fh(t)}function JE(t){const e={};if(t.isDefault())return e;let n;if(t.index_===$t?n="$priority":t.index_===Xz?n="$value":t.index_===kc?n="$key":(he(t.index_ instanceof Yz,"Unrecognized index type!"),n=t.index_.toString()),e.orderBy=tn(n),t.startSet_){const r=t.startAfterSet_?"startAfter":"startAt";e[r]=tn(t.indexStartValue_),t.startNameSet_&&(e[r]+=","+tn(t.indexStartName_))}if(t.endSet_){const r=t.endBeforeSet_?"endBefore":"endAt";e[r]=tn(t.indexEndValue_),t.endNameSet_&&(e[r]+=","+tn(t.indexEndName_))}return t.limitSet_&&(t.isViewFromLeft()?e.limitToFirst=t.limit_:e.limitToLast=t.limit_),e}function ZE(t){const e={};if(t.startSet_&&(e.sp=t.indexStartValue_,t.startNameSet_&&(e.sn=t.indexStartName_),e.sin=!t.startAfterSet_),t.endSet_&&(e.ep=t.indexEndValue_,t.endNameSet_&&(e.en=t.indexEndName_),e.ein=!t.endBeforeSet_),t.limitSet_){e.l=t.limit_;let n=t.viewFrom_;n===""&&(t.isViewFromLeft()?n="l":n="r"),e.vf=n}return t.index_!==$t&&(e.i=t.index_.toString()),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pm extends NN{reportStats(e){throw new Error("Method not implemented.")}static getListenId_(e,n){return n!==void 0?"tag$"+n:(he(e._queryParams.isDefault(),"should have a tag if it's not a default query."),e._path.toString())}constructor(e,n,r,i){super(),this.repoInfo_=e,this.onDataUpdate_=n,this.authTokenProvider_=r,this.appCheckTokenProvider_=i,this.log_=Kh("p:rest:"),this.listens_={}}listen(e,n,r,i){const s=e._path.toString();this.log_("Listen called for "+s+" "+e._queryIdentifier);const o=Pm.getListenId_(e,r),a={};this.listens_[o]=a;const l=JE(e._queryParams);this.restRequest_(s+".json",l,(c,h)=>{let p=h;if(c===404&&(p=null,c=null),c===null&&this.onDataUpdate_(s,p,!1,r),Xc(this.listens_,o)===a){let m;c?c===401?m="permission_denied":m="rest_error:"+c:m="ok",i(m,null)}})}unlisten(e,n){const r=Pm.getListenId_(e,n);delete this.listens_[r]}get(e){const n=JE(e._queryParams),r=e._path.toString(),i=new Lh;return this.restRequest_(r+".json",n,(s,o)=>{let a=o;s===404&&(a=null,s=null),s===null?(this.onDataUpdate_(r,a,!1,null),i.resolve(a)):i.reject(new Error(a))}),i.promise}refreshAuthToken(e){}restRequest_(e,n={},r){return n.format="export",Promise.all([this.authTokenProvider_.getToken(!1),this.appCheckTokenProvider_.getToken(!1)]).then(([i,s])=>{i&&i.accessToken&&(n.auth=i.accessToken),s&&s.token&&(n.ac=s.token);const o=(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host+e+"?ns="+this.repoInfo_.namespace+gu(n);this.log_("Sending REST request for "+o);const a=new XMLHttpRequest;a.onreadystatechange=()=>{if(r&&a.readyState===4){this.log_("REST Response for "+o+" received. status:",a.status,"response:",a.responseText);let l=null;if(a.status>=200&&a.status<300){try{l=sh(a.responseText)}catch{Hn("Failed to parse JSON response for "+o+": "+a.responseText)}r(null,l)}else a.status!==401&&a.status!==404&&Hn("Got unsuccessful REST response for "+o+" Status: "+a.status),r(a.status);r=null}},a.open("GET",o,!0),a.send()})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tW{constructor(){this.rootNode_=Ne.EMPTY_NODE}getNode(e){return this.rootNode_.getChild(e)}updateSnapshot(e,n){this.rootNode_=this.rootNode_.updateChild(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Im(){return{value:null,children:new Map}}function $N(t,e,n){if(Ke(e))t.value=n,t.children.clear();else if(t.value!==null)t.value=t.value.updateChild(e,n);else{const r=ze(e);t.children.has(r)||t.children.set(r,Im());const i=t.children.get(r);e=wt(e),$N(i,e,n)}}function H_(t,e,n){t.value!==null?n(e,t.value):nW(t,(r,i)=>{const s=new pt(e.toString()+"/"+r);H_(i,s,n)})}function nW(t,e){t.children.forEach((n,r)=>{e(r,n)})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rW{constructor(e){this.collection_=e,this.last_=null}get(){const e=this.collection_.get(),n={...e};return this.last_&&_n(this.last_,(r,i)=>{n[r]=n[r]-i}),this.last_=e,n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eC=10*1e3,iW=30*1e3,sW=5*60*1e3;class oW{constructor(e,n){this.server_=n,this.statsToReport_={},this.statsListener_=new rW(e);const r=eC+(iW-eC)*Math.random();Pd(this.reportStats_.bind(this),Math.floor(r))}reportStats_(){const e=this.statsListener_.get(),n={};let r=!1;_n(e,(i,s)=>{s>0&&ts(this.statsToReport_,i)&&(n[i]=s,r=!0)}),r&&this.server_.reportStats(n),Pd(this.reportStats_.bind(this),Math.floor(Math.random()*2*sW))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var mi;(function(t){t[t.OVERWRITE=0]="OVERWRITE",t[t.MERGE=1]="MERGE",t[t.ACK_USER_WRITE=2]="ACK_USER_WRITE",t[t.LISTEN_COMPLETE=3]="LISTEN_COMPLETE"})(mi||(mi={}));function Tx(){return{fromUser:!0,fromServer:!1,queryId:null,tagged:!1}}function Px(){return{fromUser:!1,fromServer:!0,queryId:null,tagged:!1}}function Ix(t){return{fromUser:!1,fromServer:!0,queryId:t,tagged:!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class km{constructor(e,n,r){this.path=e,this.affectedTree=n,this.revert=r,this.type=mi.ACK_USER_WRITE,this.source=Tx()}operationForChild(e){if(Ke(this.path)){if(this.affectedTree.value!=null)return he(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;{const n=this.affectedTree.subtree(new pt(e));return new km(rt(),n,this.revert)}}else return he(ze(this.path)===e,"operationForChild called for unrelated child."),new km(wt(this.path),this.affectedTree,this.revert)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ph{constructor(e,n){this.source=e,this.path=n,this.type=mi.LISTEN_COMPLETE}operationForChild(e){return Ke(this.path)?new ph(this.source,rt()):new ph(this.source,wt(this.path))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e,n,r){this.source=e,this.path=n,this.snap=r,this.type=mi.OVERWRITE}operationForChild(e){return Ke(this.path)?new gl(this.source,rt(),this.snap.getImmediateChild(e)):new gl(this.source,wt(this.path),this.snap)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu{constructor(e,n,r){this.source=e,this.path=n,this.children=r,this.type=mi.MERGE}operationForChild(e){if(Ke(this.path)){const n=this.children.subtree(new pt(e));return n.isEmpty()?null:n.value?new gl(this.source,rt(),n.value):new nu(this.source,rt(),n)}else return he(ze(this.path)===e,"Can't get a merge for a child not on the path of the operation"),new nu(this.source,wt(this.path),this.children)}toString(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n,r){this.node_=e,this.fullyInitialized_=n,this.filtered_=r}isFullyInitialized(){return this.fullyInitialized_}isFiltered(){return this.filtered_}isCompleteForPath(e){if(Ke(e))return this.isFullyInitialized()&&!this.filtered_;const n=ze(e);return this.isCompleteForChild(n)}isCompleteForChild(e){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(e)}getNode(){return this.node_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aW{constructor(e){this.query_=e,this.index_=this.query_._queryParams.getIndex()}}function lW(t,e,n,r){const i=[],s=[];return e.forEach(o=>{o.type==="child_changed"&&t.index_.indexedValueChanged(o.oldSnap,o.snapshotNode)&&s.push(Jz(o.childName,o.snapshotNode))}),Xu(t,i,"child_removed",e,r,n),Xu(t,i,"child_added",e,r,n),Xu(t,i,"child_moved",s,r,n),Xu(t,i,"child_changed",e,r,n),Xu(t,i,"value",e,r,n),i}function Xu(t,e,n,r,i,s){const o=r.filter(a=>a.type===n);o.sort((a,l)=>uW(t,a,l)),o.forEach(a=>{const l=cW(t,a,s);i.forEach(c=>{c.respondsTo(a.type)&&e.push(c.createEvent(l,t.query_))})})}function cW(t,e,n){return e.type==="value"||e.type==="child_removed"||(e.prevName=n.getPredecessorChildName(e.childName,e.snapshotNode,t.index_)),e}function uW(t,e,n){if(e.childName==null||n.childName==null)throw mu("Should only compare child_ events.");const r=new We(e.childName,e.snapshotNode),i=new We(n.childName,n.snapshotNode);return t.index_.compare(r,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ng(t,e){return{eventCache:t,serverCache:e}}function Id(t,e,n,r){return Ng(new ta(e,n,r),t.serverCache)}function zN(t,e,n,r){return Ng(t.eventCache,new ta(e,n,r))}function Rm(t){return t.eventCache.isFullyInitialized()?t.eventCache.getNode():null}function yl(t){return t.serverCache.isFullyInitialized()?t.serverCache.getNode():null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let iv;const dW=()=>(iv||(iv=new Jn(Y$)),iv);class _t{static fromObject(e){let n=new _t(null);return _n(e,(r,i)=>{n=n.set(new pt(r),i)}),n}constructor(e,n=dW()){this.value=e,this.children=n}isEmpty(){return this.value===null&&this.children.isEmpty()}findRootMostMatchingPathAndValue(e,n){if(this.value!=null&&n(this.value))return{path:rt(),value:this.value};if(Ke(e))return null;{const r=ze(e),i=this.children.get(r);if(i!==null){const s=i.findRootMostMatchingPathAndValue(wt(e),n);return s!=null?{path:Bt(new pt(r),s.path),value:s.value}:null}else return null}}findRootMostValueAndPath(e){return this.findRootMostMatchingPathAndValue(e,()=>!0)}subtree(e){if(Ke(e))return this;{const n=ze(e),r=this.children.get(n);return r!==null?r.subtree(wt(e)):new _t(null)}}set(e,n){if(Ke(e))return new _t(n,this.children);{const r=ze(e),s=(this.children.get(r)||new _t(null)).set(wt(e),n),o=this.children.insert(r,s);return new _t(this.value,o)}}remove(e){if(Ke(e))return this.children.isEmpty()?new _t(null):new _t(null,this.children);{const n=ze(e),r=this.children.get(n);if(r){const i=r.remove(wt(e));let s;return i.isEmpty()?s=this.children.remove(n):s=this.children.insert(n,i),this.value===null&&s.isEmpty()?new _t(null):new _t(this.value,s)}else return this}}get(e){if(Ke(e))return this.value;{const n=ze(e),r=this.children.get(n);return r?r.get(wt(e)):null}}setTree(e,n){if(Ke(e))return n;{const r=ze(e),s=(this.children.get(r)||new _t(null)).setTree(wt(e),n);let o;return s.isEmpty()?o=this.children.remove(r):o=this.children.insert(r,s),new _t(this.value,o)}}fold(e){return this.fold_(rt(),e)}fold_(e,n){const r={};return this.children.inorderTraversal((i,s)=>{r[i]=s.fold_(Bt(e,i),n)}),n(e,this.value,r)}findOnPath(e,n){return this.findOnPath_(e,rt(),n)}findOnPath_(e,n,r){const i=this.value?r(n,this.value):!1;if(i)return i;if(Ke(e))return null;{const s=ze(e),o=this.children.get(s);return o?o.findOnPath_(wt(e),Bt(n,s),r):null}}foreachOnPath(e,n){return this.foreachOnPath_(e,rt(),n)}foreachOnPath_(e,n,r){if(Ke(e))return this;{this.value&&r(n,this.value);const i=ze(e),s=this.children.get(i);return s?s.foreachOnPath_(wt(e),Bt(n,i),r):new _t(null)}}foreach(e){this.foreach_(rt(),e)}foreach_(e,n){this.children.inorderTraversal((r,i)=>{i.foreach_(Bt(e,r),n)}),this.value&&n(e,this.value)}foreachChild(e){this.children.inorderTraversal((n,r)=>{r.value&&e(n,r.value)})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vi{constructor(e){this.writeTree_=e}static empty(){return new vi(new _t(null))}}function kd(t,e,n){if(Ke(e))return new vi(new _t(n));{const r=t.writeTree_.findRootMostValueAndPath(e);if(r!=null){const i=r.path;let s=r.value;const o=zn(i,e);return s=s.updateChild(o,n),new vi(t.writeTree_.set(i,s))}else{const i=new _t(n),s=t.writeTree_.setTree(e,i);return new vi(s)}}}function K_(t,e,n){let r=t;return _n(n,(i,s)=>{r=kd(r,Bt(e,i),s)}),r}function tC(t,e){if(Ke(e))return vi.empty();{const n=t.writeTree_.setTree(e,new _t(null));return new vi(n)}}function G_(t,e){return El(t,e)!=null}function El(t,e){const n=t.writeTree_.findRootMostValueAndPath(e);return n!=null?t.writeTree_.get(n.path).getChild(zn(n.path,e)):null}function nC(t){const e=[],n=t.writeTree_.value;return n!=null?n.isLeafNode()||n.forEachChild($t,(r,i)=>{e.push(new We(r,i))}):t.writeTree_.children.inorderTraversal((r,i)=>{i.value!=null&&e.push(new We(r,i.value))}),e}function zo(t,e){if(Ke(e))return t;{const n=El(t,e);return n!=null?new vi(new _t(n)):new vi(t.writeTree_.subtree(e))}}function q_(t){return t.writeTree_.isEmpty()}function ru(t,e){return WN(rt(),t.writeTree_,e)}function WN(t,e,n){if(e.value!=null)return n.updateChild(t,e.value);{let r=null;return e.children.inorderTraversal((i,s)=>{i===".priority"?(he(s.value!==null,"Priority writes must always be leaf nodes"),r=s.value):n=WN(Bt(t,i),s,n)}),!n.getChild(t).isEmpty()&&r!==null&&(n=n.updateChild(Bt(t,".priority"),r)),n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Og(t,e){return qN(e,t)}function hW(t,e,n,r,i){he(r>t.lastWriteId,"Stacking an older write on top of newer ones"),i===void 0&&(i=!0),t.allWrites.push({path:e,snap:n,writeId:r,visible:i}),i&&(t.visibleWrites=kd(t.visibleWrites,e,n)),t.lastWriteId=r}function fW(t,e,n,r){he(r>t.lastWriteId,"Stacking an older merge on top of newer ones"),t.allWrites.push({path:e,children:n,writeId:r,visible:!0}),t.visibleWrites=K_(t.visibleWrites,e,n),t.lastWriteId=r}function pW(t,e){for(let n=0;n<t.allWrites.length;n++){const r=t.allWrites[n];if(r.writeId===e)return r}return null}function mW(t,e){const n=t.allWrites.findIndex(a=>a.writeId===e);he(n>=0,"removeWrite called with nonexistent writeId.");const r=t.allWrites[n];t.allWrites.splice(n,1);let i=r.visible,s=!1,o=t.allWrites.length-1;for(;i&&o>=0;){const a=t.allWrites[o];a.visible&&(o>=n&&gW(a,r.path)?i=!1:jr(r.path,a.path)&&(s=!0)),o--}if(i){if(s)return yW(t),!0;if(r.snap)t.visibleWrites=tC(t.visibleWrites,r.path);else{const a=r.children;_n(a,l=>{t.visibleWrites=tC(t.visibleWrites,Bt(r.path,l))})}return!0}else return!1}function gW(t,e){if(t.snap)return jr(t.path,e);for(const n in t.children)if(t.children.hasOwnProperty(n)&&jr(Bt(t.path,n),e))return!0;return!1}function yW(t){t.visibleWrites=HN(t.allWrites,vW,rt()),t.allWrites.length>0?t.lastWriteId=t.allWrites[t.allWrites.length-1].writeId:t.lastWriteId=-1}function vW(t){return t.visible}function HN(t,e,n){let r=vi.empty();for(let i=0;i<t.length;++i){const s=t[i];if(e(s)){const o=s.path;let a;if(s.snap)jr(n,o)?(a=zn(n,o),r=kd(r,a,s.snap)):jr(o,n)&&(a=zn(o,n),r=kd(r,rt(),s.snap.getChild(a)));else if(s.children){if(jr(n,o))a=zn(n,o),r=K_(r,a,s.children);else if(jr(o,n))if(a=zn(o,n),Ke(a))r=K_(r,rt(),s.children);else{const l=Xc(s.children,ze(a));if(l){const c=l.getChild(wt(a));r=kd(r,rt(),c)}}}else throw mu("WriteRecord should have .snap or .children")}}return r}function KN(t,e,n,r,i){if(!r&&!i){const s=El(t.visibleWrites,e);if(s!=null)return s;{const o=zo(t.visibleWrites,e);if(q_(o))return n;if(n==null&&!G_(o,rt()))return null;{const a=n||Ne.EMPTY_NODE;return ru(o,a)}}}else{const s=zo(t.visibleWrites,e);if(!i&&q_(s))return n;if(!i&&n==null&&!G_(s,rt()))return null;{const o=function(c){return(c.visible||i)&&(!r||!~r.indexOf(c.writeId))&&(jr(c.path,e)||jr(e,c.path))},a=HN(t.allWrites,o,e),l=n||Ne.EMPTY_NODE;return ru(a,l)}}}function _W(t,e,n){let r=Ne.EMPTY_NODE;const i=El(t.visibleWrites,e);if(i)return i.isLeafNode()||i.forEachChild($t,(s,o)=>{r=r.updateImmediateChild(s,o)}),r;if(n){const s=zo(t.visibleWrites,e);return n.forEachChild($t,(o,a)=>{const l=ru(zo(s,new pt(o)),a);r=r.updateImmediateChild(o,l)}),nC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}else{const s=zo(t.visibleWrites,e);return nC(s).forEach(o=>{r=r.updateImmediateChild(o.name,o.node)}),r}}function wW(t,e,n,r,i){he(r||i,"Either existingEventSnap or existingServerSnap must exist");const s=Bt(e,n);if(G_(t.visibleWrites,s))return null;{const o=zo(t.visibleWrites,s);return q_(o)?i.getChild(n):ru(o,i.getChild(n))}}function xW(t,e,n,r){const i=Bt(e,n),s=El(t.visibleWrites,i);if(s!=null)return s;if(r.isCompleteForChild(n)){const o=zo(t.visibleWrites,i);return ru(o,r.getNode().getImmediateChild(n))}else return null}function bW(t,e){return El(t.visibleWrites,e)}function SW(t,e,n,r,i,s,o){let a;const l=zo(t.visibleWrites,e),c=El(l,rt());if(c!=null)a=c;else if(n!=null)a=ru(l,n);else return[];if(a=a.withIndex(o),!a.isEmpty()&&!a.isLeafNode()){const h=[],p=o.getCompare(),m=s?a.getReverseIteratorFrom(r,o):a.getIteratorFrom(r,o);let w=m.getNext();for(;w&&h.length<i;)p(w,r)!==0&&h.push(w),w=m.getNext();return h}else return[]}function EW(){return{visibleWrites:vi.empty(),allWrites:[],lastWriteId:-1}}function Am(t,e,n,r){return KN(t.writeTree,t.treePath,e,n,r)}function kx(t,e){return _W(t.writeTree,t.treePath,e)}function rC(t,e,n,r){return wW(t.writeTree,t.treePath,e,n,r)}function Nm(t,e){return bW(t.writeTree,Bt(t.treePath,e))}function CW(t,e,n,r,i,s){return SW(t.writeTree,t.treePath,e,n,r,i,s)}function Rx(t,e,n){return xW(t.writeTree,t.treePath,e,n)}function GN(t,e){return qN(Bt(t.treePath,e),t.writeTree)}function qN(t,e){return{treePath:t,writeTree:e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TW{constructor(){this.changeMap=new Map}trackChildChange(e){const n=e.type,r=e.childName;he(n==="child_added"||n==="child_changed"||n==="child_removed","Only child changes supported for tracking"),he(r!==".priority","Only non-priority child changes can be tracked.");const i=this.changeMap.get(r);if(i){const s=i.type;if(n==="child_added"&&s==="child_removed")this.changeMap.set(r,hh(r,e.snapshotNode,i.snapshotNode));else if(n==="child_removed"&&s==="child_added")this.changeMap.delete(r);else if(n==="child_removed"&&s==="child_changed")this.changeMap.set(r,dh(r,i.oldSnap));else if(n==="child_changed"&&s==="child_added")this.changeMap.set(r,tu(r,e.snapshotNode));else if(n==="child_changed"&&s==="child_changed")this.changeMap.set(r,hh(r,e.snapshotNode,i.oldSnap));else throw mu("Illegal combination of changes: "+e+" occurred after "+i)}else this.changeMap.set(r,e)}getChanges(){return Array.from(this.changeMap.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PW{getCompleteChild(e){return null}getChildAfterChild(e,n,r){return null}}const YN=new PW;class Ax{constructor(e,n,r=null){this.writes_=e,this.viewCache_=n,this.optCompleteServerCache_=r}getCompleteChild(e){const n=this.viewCache_.eventCache;if(n.isCompleteForChild(e))return n.getNode().getImmediateChild(e);{const r=this.optCompleteServerCache_!=null?new ta(this.optCompleteServerCache_,!0,!1):this.viewCache_.serverCache;return Rx(this.writes_,e,r)}}getChildAfterChild(e,n,r){const i=this.optCompleteServerCache_!=null?this.optCompleteServerCache_:yl(this.viewCache_),s=CW(this.writes_,i,n,1,r,e);return s.length===0?null:s[0]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IW(t){return{filter:t}}function kW(t,e){he(e.eventCache.getNode().isIndexed(t.filter.getIndex()),"Event snap not indexed"),he(e.serverCache.getNode().isIndexed(t.filter.getIndex()),"Server snap not indexed")}function RW(t,e,n,r,i){const s=new TW;let o,a;if(n.type===mi.OVERWRITE){const c=n;c.source.fromUser?o=Y_(t,e,c.path,c.snap,r,i,s):(he(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered()&&!Ke(c.path),o=Om(t,e,c.path,c.snap,r,i,a,s))}else if(n.type===mi.MERGE){const c=n;c.source.fromUser?o=NW(t,e,c.path,c.children,r,i,s):(he(c.source.fromServer,"Unknown source."),a=c.source.tagged||e.serverCache.isFiltered(),o=Q_(t,e,c.path,c.children,r,i,a,s))}else if(n.type===mi.ACK_USER_WRITE){const c=n;c.revert?o=MW(t,e,c.path,r,i,s):o=OW(t,e,c.path,c.affectedTree,r,i,s)}else if(n.type===mi.LISTEN_COMPLETE)o=DW(t,e,n.path,r,s);else throw mu("Unknown operation type: "+n.type);const l=s.getChanges();return AW(e,o,l),{viewCache:o,changes:l}}function AW(t,e,n){const r=e.eventCache;if(r.isFullyInitialized()){const i=r.getNode().isLeafNode()||r.getNode().isEmpty(),s=Rm(t);(n.length>0||!t.eventCache.isFullyInitialized()||i&&!r.getNode().equals(s)||!r.getNode().getPriority().equals(s.getPriority()))&&n.push(BN(Rm(e)))}}function QN(t,e,n,r,i,s){const o=e.eventCache;if(Nm(r,n)!=null)return e;{let a,l;if(Ke(n))if(he(e.serverCache.isFullyInitialized(),"If change path is empty, we must have complete server data"),e.serverCache.isFiltered()){const c=yl(e),h=c instanceof Ne?c:Ne.EMPTY_NODE,p=kx(r,h);a=t.filter.updateFullNode(e.eventCache.getNode(),p,s)}else{const c=Am(r,yl(e));a=t.filter.updateFullNode(e.eventCache.getNode(),c,s)}else{const c=ze(n);if(c===".priority"){he(ea(n)===1,"Can't have a priority with additional path components");const h=o.getNode();l=e.serverCache.getNode();const p=rC(r,n,h,l);p!=null?a=t.filter.updatePriority(h,p):a=o.getNode()}else{const h=wt(n);let p;if(o.isCompleteForChild(c)){l=e.serverCache.getNode();const m=rC(r,n,o.getNode(),l);m!=null?p=o.getNode().getImmediateChild(c).updateChild(h,m):p=o.getNode().getImmediateChild(c)}else p=Rx(r,c,e.serverCache);p!=null?a=t.filter.updateChild(o.getNode(),c,p,h,i,s):a=o.getNode()}}return Id(e,a,o.isFullyInitialized()||Ke(n),t.filter.filtersNodes())}}function Om(t,e,n,r,i,s,o,a){const l=e.serverCache;let c;const h=o?t.filter:t.filter.getIndexedFilter();if(Ke(n))c=h.updateFullNode(l.getNode(),r,null);else if(h.filtersNodes()&&!l.isFiltered()){const w=l.getNode().updateChild(n,r);c=h.updateFullNode(l.getNode(),w,null)}else{const w=ze(n);if(!l.isCompleteForPath(n)&&ea(n)>1)return e;const T=wt(n),I=l.getNode().getImmediateChild(w).updateChild(T,r);w===".priority"?c=h.updatePriority(l.getNode(),I):c=h.updateChild(l.getNode(),w,I,T,YN,null)}const p=zN(e,c,l.isFullyInitialized()||Ke(n),h.filtersNodes()),m=new Ax(i,p,s);return QN(t,p,n,i,m,a)}function Y_(t,e,n,r,i,s,o){const a=e.eventCache;let l,c;const h=new Ax(i,e,s);if(Ke(n))c=t.filter.updateFullNode(e.eventCache.getNode(),r,o),l=Id(e,c,!0,t.filter.filtersNodes());else{const p=ze(n);if(p===".priority")c=t.filter.updatePriority(e.eventCache.getNode(),r),l=Id(e,c,a.isFullyInitialized(),a.isFiltered());else{const m=wt(n),w=a.getNode().getImmediateChild(p);let T;if(Ke(m))T=r;else{const _=h.getCompleteChild(p);_!=null?wx(m)===".priority"&&_.getChild(DN(m)).isEmpty()?T=_:T=_.updateChild(m,r):T=Ne.EMPTY_NODE}if(w.equals(T))l=e;else{const _=t.filter.updateChild(a.getNode(),p,T,m,h,o);l=Id(e,_,a.isFullyInitialized(),t.filter.filtersNodes())}}}return l}function iC(t,e){return t.eventCache.isCompleteForChild(e)}function NW(t,e,n,r,i,s,o){let a=e;return r.foreach((l,c)=>{const h=Bt(n,l);iC(e,ze(h))&&(a=Y_(t,a,h,c,i,s,o))}),r.foreach((l,c)=>{const h=Bt(n,l);iC(e,ze(h))||(a=Y_(t,a,h,c,i,s,o))}),a}function sC(t,e,n){return n.foreach((r,i)=>{e=e.updateChild(r,i)}),e}function Q_(t,e,n,r,i,s,o,a){if(e.serverCache.getNode().isEmpty()&&!e.serverCache.isFullyInitialized())return e;let l=e,c;Ke(n)?c=r:c=new _t(null).setTree(n,r);const h=e.serverCache.getNode();return c.children.inorderTraversal((p,m)=>{if(h.hasChild(p)){const w=e.serverCache.getNode().getImmediateChild(p),T=sC(t,w,m);l=Om(t,l,new pt(p),T,i,s,o,a)}}),c.children.inorderTraversal((p,m)=>{const w=!e.serverCache.isCompleteForChild(p)&&m.value===null;if(!h.hasChild(p)&&!w){const T=e.serverCache.getNode().getImmediateChild(p),_=sC(t,T,m);l=Om(t,l,new pt(p),_,i,s,o,a)}}),l}function OW(t,e,n,r,i,s,o){if(Nm(i,n)!=null)return e;const a=e.serverCache.isFiltered(),l=e.serverCache;if(r.value!=null){if(Ke(n)&&l.isFullyInitialized()||l.isCompleteForPath(n))return Om(t,e,n,l.getNode().getChild(n),i,s,a,o);if(Ke(n)){let c=new _t(null);return l.getNode().forEachChild(kc,(h,p)=>{c=c.set(new pt(h),p)}),Q_(t,e,n,c,i,s,a,o)}else return e}else{let c=new _t(null);return r.foreach((h,p)=>{const m=Bt(n,h);l.isCompleteForPath(m)&&(c=c.set(h,l.getNode().getChild(m)))}),Q_(t,e,n,c,i,s,a,o)}}function DW(t,e,n,r,i){const s=e.serverCache,o=zN(e,s.getNode(),s.isFullyInitialized()||Ke(n),s.isFiltered());return QN(t,o,n,r,YN,i)}function MW(t,e,n,r,i,s){let o;if(Nm(r,n)!=null)return e;{const a=new Ax(r,e,i),l=e.eventCache.getNode();let c;if(Ke(n)||ze(n)===".priority"){let h;if(e.serverCache.isFullyInitialized())h=Am(r,yl(e));else{const p=e.serverCache.getNode();he(p instanceof Ne,"serverChildren would be complete if leaf node"),h=kx(r,p)}h=h,c=t.filter.updateFullNode(l,h,s)}else{const h=ze(n);let p=Rx(r,h,e.serverCache);p==null&&e.serverCache.isCompleteForChild(h)&&(p=l.getImmediateChild(h)),p!=null?c=t.filter.updateChild(l,h,p,wt(n),a,s):e.eventCache.getNode().hasChild(h)?c=t.filter.updateChild(l,h,Ne.EMPTY_NODE,wt(n),a,s):c=l,c.isEmpty()&&e.serverCache.isFullyInitialized()&&(o=Am(r,yl(e)),o.isLeafNode()&&(c=t.filter.updateFullNode(c,o,s)))}return o=e.serverCache.isFullyInitialized()||Nm(r,rt())!=null,Id(e,c,o,t.filter.filtersNodes())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jW{constructor(e,n){this.query_=e,this.eventRegistrations_=[];const r=this.query_._queryParams,i=new Ex(r.getIndex()),s=eW(r);this.processor_=IW(s);const o=n.serverCache,a=n.eventCache,l=i.updateFullNode(Ne.EMPTY_NODE,o.getNode(),null),c=s.updateFullNode(Ne.EMPTY_NODE,a.getNode(),null),h=new ta(l,o.isFullyInitialized(),i.filtersNodes()),p=new ta(c,a.isFullyInitialized(),s.filtersNodes());this.viewCache_=Ng(p,h),this.eventGenerator_=new aW(this.query_)}get query(){return this.query_}}function LW(t){return t.viewCache_.serverCache.getNode()}function FW(t){return Rm(t.viewCache_)}function VW(t,e){const n=yl(t.viewCache_);return n&&(t.query._queryParams.loadsAllData()||!Ke(e)&&!n.getImmediateChild(ze(e)).isEmpty())?n.getChild(e):null}function oC(t){return t.eventRegistrations_.length===0}function UW(t,e){t.eventRegistrations_.push(e)}function aC(t,e,n){const r=[];if(n){he(e==null,"A cancel should cancel all event registrations.");const i=t.query._path;t.eventRegistrations_.forEach(s=>{const o=s.createCancelEvent(n,i);o&&r.push(o)})}if(e){let i=[];for(let s=0;s<t.eventRegistrations_.length;++s){const o=t.eventRegistrations_[s];if(!o.matches(e))i.push(o);else if(e.hasAnyCallback()){i=i.concat(t.eventRegistrations_.slice(s+1));break}}t.eventRegistrations_=i}else t.eventRegistrations_=[];return r}function lC(t,e,n,r){e.type===mi.MERGE&&e.source.queryId!==null&&(he(yl(t.viewCache_),"We should always have a full cache before handling merges"),he(Rm(t.viewCache_),"Missing event cache, even though we have a server cache"));const i=t.viewCache_,s=RW(t.processor_,i,e,n,r);return kW(t.processor_,s.viewCache),he(s.viewCache.serverCache.isFullyInitialized()||!i.serverCache.isFullyInitialized(),"Once a server snap is complete, it should never go back"),t.viewCache_=s.viewCache,XN(t,s.changes,s.viewCache.eventCache.getNode(),null)}function BW(t,e){const n=t.viewCache_.eventCache,r=[];return n.getNode().isLeafNode()||n.getNode().forEachChild($t,(s,o)=>{r.push(tu(s,o))}),n.isFullyInitialized()&&r.push(BN(n.getNode())),XN(t,r,n.getNode(),e)}function XN(t,e,n,r){const i=r?[r]:t.eventRegistrations_;return lW(t.eventGenerator_,e,n,i)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dm;class JN{constructor(){this.views=new Map}}function $W(t){he(!Dm,"__referenceConstructor has already been defined"),Dm=t}function zW(){return he(Dm,"Reference.ts has not been loaded"),Dm}function WW(t){return t.views.size===0}function Nx(t,e,n,r){const i=e.source.queryId;if(i!==null){const s=t.views.get(i);return he(s!=null,"SyncTree gave us an op for an invalid query."),lC(s,e,n,r)}else{let s=[];for(const o of t.views.values())s=s.concat(lC(o,e,n,r));return s}}function ZN(t,e,n,r,i){const s=e._queryIdentifier,o=t.views.get(s);if(!o){let a=Am(n,i?r:null),l=!1;a?l=!0:r instanceof Ne?(a=kx(n,r),l=!1):(a=Ne.EMPTY_NODE,l=!1);const c=Ng(new ta(a,l,!1),new ta(r,i,!1));return new jW(e,c)}return o}function HW(t,e,n,r,i,s){const o=ZN(t,e,r,i,s);return t.views.has(e._queryIdentifier)||t.views.set(e._queryIdentifier,o),UW(o,n),BW(o,n)}function KW(t,e,n,r){const i=e._queryIdentifier,s=[];let o=[];const a=na(t);if(i==="default")for(const[l,c]of t.views.entries())o=o.concat(aC(c,n,r)),oC(c)&&(t.views.delete(l),c.query._queryParams.loadsAllData()||s.push(c.query));else{const l=t.views.get(i);l&&(o=o.concat(aC(l,n,r)),oC(l)&&(t.views.delete(i),l.query._queryParams.loadsAllData()||s.push(l.query)))}return a&&!na(t)&&s.push(new(zW())(e._repo,e._path)),{removed:s,events:o}}function eO(t){const e=[];for(const n of t.views.values())n.query._queryParams.loadsAllData()||e.push(n);return e}function Wo(t,e){let n=null;for(const r of t.views.values())n=n||VW(r,e);return n}function tO(t,e){if(e._queryParams.loadsAllData())return Dg(t);{const r=e._queryIdentifier;return t.views.get(r)}}function nO(t,e){return tO(t,e)!=null}function na(t){return Dg(t)!=null}function Dg(t){for(const e of t.views.values())if(e.query._queryParams.loadsAllData())return e;return null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Mm;function GW(t){he(!Mm,"__referenceConstructor has already been defined"),Mm=t}function qW(){return he(Mm,"Reference.ts has not been loaded"),Mm}let YW=1;class cC{constructor(e){this.listenProvider_=e,this.syncPointTree_=new _t(null),this.pendingWriteTree_=EW(),this.tagToQueryMap=new Map,this.queryToTagMap=new Map}}function rO(t,e,n,r,i){return hW(t.pendingWriteTree_,e,n,r,i),i?_u(t,new gl(Tx(),e,n)):[]}function QW(t,e,n,r){fW(t.pendingWriteTree_,e,n,r);const i=_t.fromObject(n);return _u(t,new nu(Tx(),e,i))}function Ao(t,e,n=!1){const r=pW(t.pendingWriteTree_,e);if(mW(t.pendingWriteTree_,e)){let s=new _t(null);return r.snap!=null?s=s.set(rt(),!0):_n(r.children,o=>{s=s.set(new pt(o),!0)}),_u(t,new km(r.path,s,n))}else return[]}function qh(t,e,n){return _u(t,new gl(Px(),e,n))}function XW(t,e,n){const r=_t.fromObject(n);return _u(t,new nu(Px(),e,r))}function JW(t,e){return _u(t,new ph(Px(),e))}function ZW(t,e,n){const r=Dx(t,n);if(r){const i=Mx(r),s=i.path,o=i.queryId,a=zn(s,e),l=new ph(Ix(o),a);return jx(t,s,l)}else return[]}function jm(t,e,n,r,i=!1){const s=e._path,o=t.syncPointTree_.get(s);let a=[];if(o&&(e._queryIdentifier==="default"||nO(o,e))){const l=KW(o,e,n,r);WW(o)&&(t.syncPointTree_=t.syncPointTree_.remove(s));const c=l.removed;if(a=l.events,!i){const h=c.findIndex(m=>m._queryParams.loadsAllData())!==-1,p=t.syncPointTree_.findOnPath(s,(m,w)=>na(w));if(h&&!p){const m=t.syncPointTree_.subtree(s);if(!m.isEmpty()){const w=n8(m);for(let T=0;T<w.length;++T){const _=w[T],I=_.query,b=aO(t,_);t.listenProvider_.startListening(Rd(I),mh(t,I),b.hashFn,b.onComplete)}}}!p&&c.length>0&&!r&&(h?t.listenProvider_.stopListening(Rd(e),null):c.forEach(m=>{const w=t.queryToTagMap.get(Mg(m));t.listenProvider_.stopListening(Rd(m),w)}))}r8(t,c)}return a}function iO(t,e,n,r){const i=Dx(t,r);if(i!=null){const s=Mx(i),o=s.path,a=s.queryId,l=zn(o,e),c=new gl(Ix(a),l,n);return jx(t,o,c)}else return[]}function e8(t,e,n,r){const i=Dx(t,r);if(i){const s=Mx(i),o=s.path,a=s.queryId,l=zn(o,e),c=_t.fromObject(n),h=new nu(Ix(a),l,c);return jx(t,o,h)}else return[]}function X_(t,e,n,r=!1){const i=e._path;let s=null,o=!1;t.syncPointTree_.foreachOnPath(i,(m,w)=>{const T=zn(m,i);s=s||Wo(w,T),o=o||na(w)});let a=t.syncPointTree_.get(i);a?(o=o||na(a),s=s||Wo(a,rt())):(a=new JN,t.syncPointTree_=t.syncPointTree_.set(i,a));let l;s!=null?l=!0:(l=!1,s=Ne.EMPTY_NODE,t.syncPointTree_.subtree(i).foreachChild((w,T)=>{const _=Wo(T,rt());_&&(s=s.updateImmediateChild(w,_))}));const c=nO(a,e);if(!c&&!e._queryParams.loadsAllData()){const m=Mg(e);he(!t.queryToTagMap.has(m),"View does not exist, but we have a tag");const w=i8();t.queryToTagMap.set(m,w),t.tagToQueryMap.set(w,m)}const h=Og(t.pendingWriteTree_,i);let p=HW(a,e,n,h,s,l);if(!c&&!o&&!r){const m=tO(a,e);p=p.concat(s8(t,e,m))}return p}function Ox(t,e,n){const i=t.pendingWriteTree_,s=t.syncPointTree_.findOnPath(e,(o,a)=>{const l=zn(o,e),c=Wo(a,l);if(c)return c});return KN(i,e,s,n,!0)}function t8(t,e){const n=e._path;let r=null;t.syncPointTree_.foreachOnPath(n,(c,h)=>{const p=zn(c,n);r=r||Wo(h,p)});let i=t.syncPointTree_.get(n);i?r=r||Wo(i,rt()):(i=new JN,t.syncPointTree_=t.syncPointTree_.set(n,i));const s=r!=null,o=s?new ta(r,!0,!1):null,a=Og(t.pendingWriteTree_,e._path),l=ZN(i,e,a,s?o.getNode():Ne.EMPTY_NODE,s);return FW(l)}function _u(t,e){return sO(e,t.syncPointTree_,null,Og(t.pendingWriteTree_,rt()))}function sO(t,e,n,r){if(Ke(t.path))return oO(t,e,n,r);{const i=e.get(rt());n==null&&i!=null&&(n=Wo(i,rt()));let s=[];const o=ze(t.path),a=t.operationForChild(o),l=e.children.get(o);if(l&&a){const c=n?n.getImmediateChild(o):null,h=GN(r,o);s=s.concat(sO(a,l,c,h))}return i&&(s=s.concat(Nx(i,t,r,n))),s}}function oO(t,e,n,r){const i=e.get(rt());n==null&&i!=null&&(n=Wo(i,rt()));let s=[];return e.children.inorderTraversal((o,a)=>{const l=n?n.getImmediateChild(o):null,c=GN(r,o),h=t.operationForChild(o);h&&(s=s.concat(oO(h,a,l,c)))}),i&&(s=s.concat(Nx(i,t,r,n))),s}function aO(t,e){const n=e.query,r=mh(t,n);return{hashFn:()=>(LW(e)||Ne.EMPTY_NODE).hash(),onComplete:i=>{if(i==="ok")return r?ZW(t,n._path,r):JW(t,n._path);{const s=J$(i,n);return jm(t,n,null,s)}}}}function mh(t,e){const n=Mg(e);return t.queryToTagMap.get(n)}function Mg(t){return t._path.toString()+"$"+t._queryIdentifier}function Dx(t,e){return t.tagToQueryMap.get(e)}function Mx(t){const e=t.indexOf("$");return he(e!==-1&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new pt(t.substr(0,e))}}function jx(t,e,n){const r=t.syncPointTree_.get(e);he(r,"Missing sync point for query tag that we're tracking");const i=Og(t.pendingWriteTree_,e);return Nx(r,n,i,null)}function n8(t){return t.fold((e,n,r)=>{if(n&&na(n))return[Dg(n)];{let i=[];return n&&(i=eO(n)),_n(r,(s,o)=>{i=i.concat(o)}),i}})}function Rd(t){return t._queryParams.loadsAllData()&&!t._queryParams.isDefault()?new(qW())(t._repo,t._path):t}function r8(t,e){for(let n=0;n<e.length;++n){const r=e[n];if(!r._queryParams.loadsAllData()){const i=Mg(r),s=t.queryToTagMap.get(i);t.queryToTagMap.delete(i),t.tagToQueryMap.delete(s)}}}function i8(){return YW++}function s8(t,e,n){const r=e._path,i=mh(t,e),s=aO(t,n),o=t.listenProvider_.startListening(Rd(e),i,s.hashFn,s.onComplete),a=t.syncPointTree_.subtree(r);if(i)he(!na(a.value),"If we're adding a query, it shouldn't be shadowed");else{const l=a.fold((c,h,p)=>{if(!Ke(c)&&h&&na(h))return[Dg(h).query];{let m=[];return h&&(m=m.concat(eO(h).map(w=>w.query))),_n(p,(w,T)=>{m=m.concat(T)}),m}});for(let c=0;c<l.length;++c){const h=l[c];t.listenProvider_.stopListening(Rd(h),mh(t,h))}}return o}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lx{constructor(e){this.node_=e}getImmediateChild(e){const n=this.node_.getImmediateChild(e);return new Lx(n)}node(){return this.node_}}class Fx{constructor(e,n){this.syncTree_=e,this.path_=n}getImmediateChild(e){const n=Bt(this.path_,e);return new Fx(this.syncTree_,n)}node(){return Ox(this.syncTree_,this.path_)}}const o8=function(t){return t=t||{},t.timestamp=t.timestamp||new Date().getTime(),t},uC=function(t,e,n){if(!t||typeof t!="object")return t;if(he(".sv"in t,"Unexpected leaf node or priority contents"),typeof t[".sv"]=="string")return a8(t[".sv"],e,n);if(typeof t[".sv"]=="object")return l8(t[".sv"],e);he(!1,"Unexpected server value: "+JSON.stringify(t,null,2))},a8=function(t,e,n){switch(t){case"timestamp":return n.timestamp;default:he(!1,"Unexpected server value: "+t)}},l8=function(t,e,n){t.hasOwnProperty("increment")||he(!1,"Unexpected server value: "+JSON.stringify(t,null,2));const r=t.increment;typeof r!="number"&&he(!1,"Unexpected increment value: "+r);const i=e.node();if(he(i!==null&&typeof i<"u","Expected ChildrenNode.EMPTY_NODE for nulls"),!i.isLeafNode())return r;const o=i.getValue();return typeof o!="number"?r:o+r},lO=function(t,e,n,r){return Vx(e,new Fx(n,t),r)},cO=function(t,e,n){return Vx(t,new Lx(e),n)};function Vx(t,e,n){const r=t.getPriority().val(),i=uC(r,e.getImmediateChild(".priority"),n);let s;if(t.isLeafNode()){const o=t,a=uC(o.getValue(),e,n);return a!==o.getValue()||i!==o.getPriority().val()?new on(a,en(i)):t}else{const o=t;return s=o,i!==o.getPriority().val()&&(s=s.updatePriority(new on(i))),o.forEachChild($t,(a,l)=>{const c=Vx(l,e.getImmediateChild(a),n);c!==l&&(s=s.updateImmediateChild(a,c))}),s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ux{constructor(e="",n=null,r={children:{},childCount:0}){this.name=e,this.parent=n,this.node=r}}function Bx(t,e){let n=e instanceof pt?e:new pt(e),r=t,i=ze(n);for(;i!==null;){const s=Xc(r.node.children,i)||{children:{},childCount:0};r=new Ux(i,r,s),n=wt(n),i=ze(n)}return r}function wu(t){return t.node.value}function uO(t,e){t.node.value=e,J_(t)}function dO(t){return t.node.childCount>0}function c8(t){return wu(t)===void 0&&!dO(t)}function jg(t,e){_n(t.node.children,(n,r)=>{e(new Ux(n,t,r))})}function hO(t,e,n,r){n&&!r&&e(t),jg(t,i=>{hO(i,e,!0,r)}),n&&r&&e(t)}function u8(t,e,n){let r=t.parent;for(;r!==null;){if(e(r))return!0;r=r.parent}return!1}function Yh(t){return new pt(t.parent===null?t.name:Yh(t.parent)+"/"+t.name)}function J_(t){t.parent!==null&&d8(t.parent,t.name,t)}function d8(t,e,n){const r=c8(n),i=ts(t.node.children,e);r&&i?(delete t.node.children[e],t.node.childCount--,J_(t)):!r&&!i&&(t.node.children[e]=n.node,t.node.childCount++,J_(t))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h8=/[\[\].#$\/\u0000-\u001F\u007F]/,f8=/[\[\].#$\u0000-\u001F\u007F]/,sv=10*1024*1024,$x=function(t){return typeof t=="string"&&t.length!==0&&!h8.test(t)},fO=function(t){return typeof t=="string"&&t.length!==0&&!f8.test(t)},p8=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),fO(t)},m8=function(t){return t===null||typeof t=="string"||typeof t=="number"&&!mx(t)||t&&typeof t=="object"&&ts(t,".sv")},pO=function(t,e,n,r){r&&e===void 0||Lg(Cg(t,"value"),e,n)},Lg=function(t,e,n){const r=n instanceof pt?new Nz(n,t):n;if(e===void 0)throw new Error(t+"contains undefined "+Fa(r));if(typeof e=="function")throw new Error(t+"contains a function "+Fa(r)+" with contents = "+e.toString());if(mx(e))throw new Error(t+"contains "+e.toString()+" "+Fa(r));if(typeof e=="string"&&e.length>sv/3&&Tg(e)>sv)throw new Error(t+"contains a string greater than "+sv+" utf8 bytes "+Fa(r)+" ('"+e.substring(0,50)+"...')");if(e&&typeof e=="object"){let i=!1,s=!1;if(_n(e,(o,a)=>{if(o===".value")i=!0;else if(o!==".priority"&&o!==".sv"&&(s=!0,!$x(o)))throw new Error(t+" contains an invalid key ("+o+") "+Fa(r)+`.  Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`);Oz(r,o),Lg(t,a,r),Dz(r)}),i&&s)throw new Error(t+' contains ".value" child '+Fa(r)+" in addition to actual children.")}},g8=function(t,e){let n,r;for(n=0;n<e.length;n++){r=e[n];const s=uh(r);for(let o=0;o<s.length;o++)if(!(s[o]===".priority"&&o===s.length-1)){if(!$x(s[o]))throw new Error(t+"contains an invalid key ("+s[o]+") in path "+r.toString()+`. Keys must be non-empty strings and can't contain ".", "#", "$", "/", "[", or "]"`)}}e.sort(Az);let i=null;for(n=0;n<e.length;n++){if(r=e[n],i!==null&&jr(i,r))throw new Error(t+"contains a path "+i.toString()+" that is ancestor of another path "+r.toString());i=r}},y8=function(t,e,n,r){const i=Cg(t,"values");if(!(e&&typeof e=="object")||Array.isArray(e))throw new Error(i+" must be an object containing the children to replace.");const s=[];_n(e,(o,a)=>{const l=new pt(o);if(Lg(i,a,Bt(n,l)),wx(l)===".priority"&&!m8(a))throw new Error(i+"contains an invalid value for '"+l.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(l)}),g8(i,s)},mO=function(t,e,n,r){if(!fO(n))throw new Error(Cg(t,e)+'was an invalid path = "'+n+`". Paths must be non-empty strings and can't contain ".", "#", "$", "[", or "]"`)},v8=function(t,e,n,r){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),mO(t,e,n)},zx=function(t,e){if(ze(e)===".info")throw new Error(t+" failed = Can't modify data under /.info/")},_8=function(t,e){const n=e.path.toString();if(typeof e.repoInfo.host!="string"||e.repoInfo.host.length===0||!$x(e.repoInfo.namespace)&&e.repoInfo.host.split(":")[0]!=="localhost"||n.length!==0&&!p8(n))throw new Error(Cg(t,"url")+`must be a valid firebase URL and the path can't contain ".", "#", "$", "[", or "]".`)};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w8{constructor(){this.eventLists_=[],this.recursionDepth_=0}}function Fg(t,e){let n=null;for(let r=0;r<e.length;r++){const i=e[r],s=i.getPath();n!==null&&!xx(s,n.path)&&(t.eventLists_.push(n),n=null),n===null&&(n={events:[],path:s}),n.events.push(i)}n&&t.eventLists_.push(n)}function gO(t,e,n){Fg(t,n),yO(t,r=>xx(r,e))}function Br(t,e,n){Fg(t,n),yO(t,r=>jr(r,e)||jr(e,r))}function yO(t,e){t.recursionDepth_++;let n=!0;for(let r=0;r<t.eventLists_.length;r++){const i=t.eventLists_[r];if(i){const s=i.path;e(s)?(x8(t.eventLists_[r]),t.eventLists_[r]=null):n=!1}}n&&(t.eventLists_=[]),t.recursionDepth_--}function x8(t){for(let e=0;e<t.events.length;e++){const n=t.events[e];if(n!==null){t.events[e]=null;const r=n.getEventRunner();Td&&mn("event: "+n.toString()),vu(r)}}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b8="repo_interrupt",S8=25;class E8{constructor(e,n,r,i){this.repoInfo_=e,this.forceRestClient_=n,this.authTokenProvider_=r,this.appCheckProvider_=i,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new w8,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=Im(),this.transactionQueueTree_=new Ux,this.persistentConnection_=null,this.key=this.repoInfo_.toURLString()}toString(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host}}function C8(t,e,n){if(t.stats_=vx(t.repoInfo_),t.forceRestClient_||nz())t.server_=new Pm(t.repoInfo_,(r,i,s,o)=>{dC(t,r,i,s,o)},t.authTokenProvider_,t.appCheckProvider_),setTimeout(()=>hC(t,!0),0);else{if(typeof n<"u"&&n!==null){if(typeof n!="object")throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{tn(n)}catch(r){throw new Error("Invalid authOverride provided: "+r)}}t.persistentConnection_=new Is(t.repoInfo_,e,(r,i,s,o)=>{dC(t,r,i,s,o)},r=>{hC(t,r)},r=>{T8(t,r)},t.authTokenProvider_,t.appCheckProvider_,n),t.server_=t.persistentConnection_}t.authTokenProvider_.addTokenChangeListener(r=>{t.server_.refreshAuthToken(r)}),t.appCheckProvider_.addTokenChangeListener(r=>{t.server_.refreshAppCheckToken(r.token)}),t.statsReporter_=az(t.repoInfo_,()=>new oW(t.stats_,t.server_)),t.infoData_=new tW,t.infoSyncTree_=new cC({startListening:(r,i,s,o)=>{let a=[];const l=t.infoData_.getNode(r._path);return l.isEmpty()||(a=qh(t.infoSyncTree_,r._path,l),setTimeout(()=>{o("ok")},0)),a},stopListening:()=>{}}),Wx(t,"connected",!1),t.serverSyncTree_=new cC({startListening:(r,i,s,o)=>(t.server_.listen(r,s,i,(a,l)=>{const c=o(a,l);Br(t.eventQueue_,r._path,c)}),[]),stopListening:(r,i)=>{t.server_.unlisten(r,i)}})}function vO(t){const n=t.infoData_.getNode(new pt(".info/serverTimeOffset")).val()||0;return new Date().getTime()+n}function Vg(t){return o8({timestamp:vO(t)})}function dC(t,e,n,r,i){t.dataUpdateCount++;const s=new pt(e);n=t.interceptServerDataCallback_?t.interceptServerDataCallback_(e,n):n;let o=[];if(i)if(r){const l=fm(n,c=>en(c));o=e8(t.serverSyncTree_,s,l,i)}else{const l=en(n);o=iO(t.serverSyncTree_,s,l,i)}else if(r){const l=fm(n,c=>en(c));o=XW(t.serverSyncTree_,s,l)}else{const l=en(n);o=qh(t.serverSyncTree_,s,l)}let a=s;o.length>0&&(a=iu(t,s)),Br(t.eventQueue_,a,o)}function hC(t,e){Wx(t,"connected",e),e===!1&&R8(t)}function T8(t,e){_n(e,(n,r)=>{Wx(t,n,r)})}function Wx(t,e,n){const r=new pt("/.info/"+e),i=en(n);t.infoData_.updateSnapshot(r,i);const s=qh(t.infoSyncTree_,r,i);Br(t.eventQueue_,r,s)}function Hx(t){return t.nextWriteId_++}function P8(t,e,n){const r=t8(t.serverSyncTree_,e);return r!=null?Promise.resolve(r):t.server_.get(e).then(i=>{const s=en(i).withIndex(e._queryParams.getIndex());X_(t.serverSyncTree_,e,n,!0);let o;if(e._queryParams.loadsAllData())o=qh(t.serverSyncTree_,e._path,s);else{const a=mh(t.serverSyncTree_,e);o=iO(t.serverSyncTree_,e._path,s,a)}return Br(t.eventQueue_,e._path,o),jm(t.serverSyncTree_,e,n,null,!0),s},i=>(Qh(t,"get for query "+tn(e)+" failed: "+i),Promise.reject(new Error(i))))}function I8(t,e,n,r,i){Qh(t,"set",{path:e.toString(),value:n,priority:r});const s=Vg(t),o=en(n,r),a=Ox(t.serverSyncTree_,e),l=cO(o,a,s),c=Hx(t),h=rO(t.serverSyncTree_,e,l,c,!0);Fg(t.eventQueue_,h),t.server_.put(e.toString(),o.val(!0),(m,w)=>{const T=m==="ok";T||Hn("set at "+e+" failed: "+m);const _=Ao(t.serverSyncTree_,c,!T);Br(t.eventQueue_,e,_),Z_(t,i,m,w)});const p=Gx(t,e);iu(t,p),Br(t.eventQueue_,p,[])}function k8(t,e,n,r){Qh(t,"update",{path:e.toString(),value:n});let i=!0;const s=Vg(t),o={};if(_n(n,(a,l)=>{i=!1,o[a]=lO(Bt(e,a),en(l),t.serverSyncTree_,s)}),i)mn("update() called with empty data.  Don't do anything."),Z_(t,r,"ok",void 0);else{const a=Hx(t),l=QW(t.serverSyncTree_,e,o,a);Fg(t.eventQueue_,l),t.server_.merge(e.toString(),n,(c,h)=>{const p=c==="ok";p||Hn("update at "+e+" failed: "+c);const m=Ao(t.serverSyncTree_,a,!p),w=m.length>0?iu(t,e):e;Br(t.eventQueue_,w,m),Z_(t,r,c,h)}),_n(n,c=>{const h=Gx(t,Bt(e,c));iu(t,h)}),Br(t.eventQueue_,e,[])}}function R8(t){Qh(t,"onDisconnectEvents");const e=Vg(t),n=Im();H_(t.onDisconnect_,rt(),(i,s)=>{const o=lO(i,s,t.serverSyncTree_,e);$N(n,i,o)});let r=[];H_(n,rt(),(i,s)=>{r=r.concat(qh(t.serverSyncTree_,i,s));const o=Gx(t,i);iu(t,o)}),t.onDisconnect_=Im(),Br(t.eventQueue_,rt(),r)}function A8(t,e,n){let r;ze(e._path)===".info"?r=X_(t.infoSyncTree_,e,n):r=X_(t.serverSyncTree_,e,n),gO(t.eventQueue_,e._path,r)}function _O(t,e,n){let r;ze(e._path)===".info"?r=jm(t.infoSyncTree_,e,n):r=jm(t.serverSyncTree_,e,n),gO(t.eventQueue_,e._path,r)}function N8(t){t.persistentConnection_&&t.persistentConnection_.interrupt(b8)}function Qh(t,...e){let n="";t.persistentConnection_&&(n=t.persistentConnection_.id+":"),mn(n,...e)}function Z_(t,e,n,r){e&&vu(()=>{if(n==="ok")e(null);else{const i=(n||"error").toUpperCase();let s=i;r&&(s+=": "+r);const o=new Error(s);o.code=i,e(o)}})}function wO(t,e,n){return Ox(t.serverSyncTree_,e,n)||Ne.EMPTY_NODE}function Kx(t,e=t.transactionQueueTree_){if(e||Ug(t,e),wu(e)){const n=bO(t,e);he(n.length>0,"Sending zero length transaction queue"),n.every(i=>i.status===0)&&O8(t,Yh(e),n)}else dO(e)&&jg(e,n=>{Kx(t,n)})}function O8(t,e,n){const r=n.map(c=>c.currentWriteId),i=wO(t,e,r);let s=i;const o=i.hash();for(let c=0;c<n.length;c++){const h=n[c];he(h.status===0,"tryToSendTransactionQueue_: items in queue should all be run."),h.status=1,h.retryCount++;const p=zn(e,h.path);s=s.updateChild(p,h.currentOutputSnapshotRaw)}const a=s.val(!0),l=e;t.server_.put(l.toString(),a,c=>{Qh(t,"transaction put response",{path:l.toString(),status:c});let h=[];if(c==="ok"){const p=[];for(let m=0;m<n.length;m++)n[m].status=2,h=h.concat(Ao(t.serverSyncTree_,n[m].currentWriteId)),n[m].onComplete&&p.push(()=>n[m].onComplete(null,!0,n[m].currentOutputSnapshotResolved)),n[m].unwatcher();Ug(t,Bx(t.transactionQueueTree_,e)),Kx(t,t.transactionQueueTree_),Br(t.eventQueue_,e,h);for(let m=0;m<p.length;m++)vu(p[m])}else{if(c==="datastale")for(let p=0;p<n.length;p++)n[p].status===3?n[p].status=4:n[p].status=0;else{Hn("transaction at "+l.toString()+" failed: "+c);for(let p=0;p<n.length;p++)n[p].status=4,n[p].abortReason=c}iu(t,e)}},o)}function iu(t,e){const n=xO(t,e),r=Yh(n),i=bO(t,n);return D8(t,i,r),r}function D8(t,e,n){if(e.length===0)return;const r=[];let i=[];const o=e.filter(a=>a.status===0).map(a=>a.currentWriteId);for(let a=0;a<e.length;a++){const l=e[a],c=zn(n,l.path);let h=!1,p;if(he(c!==null,"rerunTransactionsUnderNode_: relativePath should not be null."),l.status===4)h=!0,p=l.abortReason,i=i.concat(Ao(t.serverSyncTree_,l.currentWriteId,!0));else if(l.status===0)if(l.retryCount>=S8)h=!0,p="maxretry",i=i.concat(Ao(t.serverSyncTree_,l.currentWriteId,!0));else{const m=wO(t,l.path,o);l.currentInputSnapshot=m;const w=e[a].update(m.val());if(w!==void 0){Lg("transaction failed: Data returned ",w,l.path);let T=en(w);typeof w=="object"&&w!=null&&ts(w,".priority")||(T=T.updatePriority(m.getPriority()));const I=l.currentWriteId,b=Vg(t),E=cO(T,m,b);l.currentOutputSnapshotRaw=T,l.currentOutputSnapshotResolved=E,l.currentWriteId=Hx(t),o.splice(o.indexOf(I),1),i=i.concat(rO(t.serverSyncTree_,l.path,E,l.currentWriteId,l.applyLocally)),i=i.concat(Ao(t.serverSyncTree_,I,!0))}else h=!0,p="nodata",i=i.concat(Ao(t.serverSyncTree_,l.currentWriteId,!0))}Br(t.eventQueue_,n,i),i=[],h&&(e[a].status=2,function(m){setTimeout(m,Math.floor(0))}(e[a].unwatcher),e[a].onComplete&&(p==="nodata"?r.push(()=>e[a].onComplete(null,!1,e[a].currentInputSnapshot)):r.push(()=>e[a].onComplete(new Error(p),!1,null))))}Ug(t,t.transactionQueueTree_);for(let a=0;a<r.length;a++)vu(r[a]);Kx(t,t.transactionQueueTree_)}function xO(t,e){let n,r=t.transactionQueueTree_;for(n=ze(e);n!==null&&wu(r)===void 0;)r=Bx(r,n),e=wt(e),n=ze(e);return r}function bO(t,e){const n=[];return SO(t,e,n),n.sort((r,i)=>r.order-i.order),n}function SO(t,e,n){const r=wu(e);if(r)for(let i=0;i<r.length;i++)n.push(r[i]);jg(e,i=>{SO(t,i,n)})}function Ug(t,e){const n=wu(e);if(n){let r=0;for(let i=0;i<n.length;i++)n[i].status!==2&&(n[r]=n[i],r++);n.length=r,uO(e,n.length>0?n:void 0)}jg(e,r=>{Ug(t,r)})}function Gx(t,e){const n=Yh(xO(t,e)),r=Bx(t.transactionQueueTree_,e);return u8(r,i=>{ov(t,i)}),ov(t,r),hO(r,i=>{ov(t,i)}),n}function ov(t,e){const n=wu(e);if(n){const r=[];let i=[],s=-1;for(let o=0;o<n.length;o++)n[o].status===3||(n[o].status===1?(he(s===o-1,"All SENT items should be at beginning of queue."),s=o,n[o].status=3,n[o].abortReason="set"):(he(n[o].status===0,"Unexpected transaction status in abort"),n[o].unwatcher(),i=i.concat(Ao(t.serverSyncTree_,n[o].currentWriteId,!0)),n[o].onComplete&&r.push(n[o].onComplete.bind(null,new Error("set"),!1,null))));s===-1?uO(e,void 0):n.length=s+1,Br(t.eventQueue_,Yh(e),i);for(let o=0;o<r.length;o++)vu(r[o])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M8(t){let e="";const n=t.split("/");for(let r=0;r<n.length;r++)if(n[r].length>0){let i=n[r];try{i=decodeURIComponent(i.replace(/\+/g," "))}catch{}e+="/"+i}return e}function j8(t){const e={};t.charAt(0)==="?"&&(t=t.substring(1));for(const n of t.split("&")){if(n.length===0)continue;const r=n.split("=");r.length===2?e[decodeURIComponent(r[0])]=decodeURIComponent(r[1]):Hn(`Invalid query segment '${n}' in query '${t}'`)}return e}const fC=function(t,e){const n=L8(t),r=n.namespace;n.domain==="firebase.com"&&Bs(n.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),(!r||r==="undefined")&&n.domain!=="localhost"&&Bs("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),n.secure||G$();const i=n.scheme==="ws"||n.scheme==="wss";return{repoInfo:new CN(n.host,n.secure,r,i,e,"",r!==n.subdomain),path:new pt(n.pathString)}},L8=function(t){let e="",n="",r="",i="",s="",o=!0,a="https",l=443;if(typeof t=="string"){let c=t.indexOf("//");c>=0&&(a=t.substring(0,c-1),t=t.substring(c+2));let h=t.indexOf("/");h===-1&&(h=t.length);let p=t.indexOf("?");p===-1&&(p=t.length),e=t.substring(0,Math.min(h,p)),h<p&&(i=M8(t.substring(h,p)));const m=j8(t.substring(Math.min(t.length,p)));c=e.indexOf(":"),c>=0?(o=a==="https"||a==="wss",l=parseInt(e.substring(c+1),10)):c=e.length;const w=e.slice(0,c);if(w.toLowerCase()==="localhost")n="localhost";else if(w.split(".").length<=2)n=w;else{const T=e.indexOf(".");r=e.substring(0,T).toLowerCase(),n=e.substring(T+1),s=r}"ns"in m&&(s=m.ns)}return{host:e,port:l,domain:n,subdomain:r,secure:o,scheme:a,pathString:i,namespace:s}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pC="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",F8=function(){let t=0;const e=[];return function(n){const r=n===t;t=n;let i;const s=new Array(8);for(i=7;i>=0;i--)s[i]=pC.charAt(n%64),n=Math.floor(n/64);he(n===0,"Cannot push at time == 0");let o=s.join("");if(r){for(i=11;i>=0&&e[i]===63;i--)e[i]=0;e[i]++}else for(i=0;i<12;i++)e[i]=Math.floor(Math.random()*64);for(i=0;i<12;i++)o+=pC.charAt(e[i]);return he(o.length===20,"nextPushId: Length should be 20."),o}}();/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V8{constructor(e,n,r,i){this.eventType=e,this.eventRegistration=n,this.snapshot=r,this.prevName=i}getPath(){const e=this.snapshot.ref;return this.eventType==="value"?e._path:e.parent._path}getEventType(){return this.eventType}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.getPath().toString()+":"+this.eventType+":"+tn(this.snapshot.exportVal())}}class U8{constructor(e,n,r){this.eventRegistration=e,this.error=n,this.path=r}getPath(){return this.path}getEventType(){return"cancel"}getEventRunner(){return this.eventRegistration.getEventRunner(this)}toString(){return this.path.toString()+":cancel"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qx{constructor(e,n){this.snapshotCallback=e,this.cancelCallback=n}onValue(e,n){this.snapshotCallback.call(null,e,n)}onCancel(e){return he(this.hasCancelCallback,"Raising a cancel event on a listener with no cancel callback"),this.cancelCallback.call(null,e)}get hasCancelCallback(){return!!this.cancelCallback}matches(e){return this.snapshotCallback===e.snapshotCallback||this.snapshotCallback.userCallback!==void 0&&this.snapshotCallback.userCallback===e.snapshotCallback.userCallback&&this.snapshotCallback.context===e.snapshotCallback.context}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yx{constructor(e,n,r,i){this._repo=e,this._path=n,this._queryParams=r,this._orderByCalled=i}get key(){return Ke(this._path)?null:wx(this._path)}get ref(){return new Ws(this._repo,this._path)}get _queryIdentifier(){const e=ZE(this._queryParams),n=gx(e);return n==="{}"?"default":n}get _queryObject(){return ZE(this._queryParams)}isEqual(e){if(e=rr(e),!(e instanceof Yx))return!1;const n=this._repo===e._repo,r=xx(this._path,e._path),i=this._queryIdentifier===e._queryIdentifier;return n&&r&&i}toJSON(){return this.toString()}toString(){return this._repo.toString()+Rz(this._path)}}class Ws extends Yx{constructor(e,n){super(e,n,new Cx,!1)}get parent(){const e=DN(this._path);return e===null?null:new Ws(this._repo,e)}get root(){let e=this;for(;e.parent!==null;)e=e.parent;return e}}class gh{constructor(e,n,r){this._node=e,this.ref=n,this._index=r}get priority(){return this._node.getPriority().val()}get key(){return this.ref.key}get size(){return this._node.numChildren()}child(e){const n=new pt(e),r=yh(this.ref,e);return new gh(this._node.getChild(n),r,$t)}exists(){return!this._node.isEmpty()}exportVal(){return this._node.val(!0)}forEach(e){return this._node.isLeafNode()?!1:!!this._node.forEachChild(this._index,(r,i)=>e(new gh(i,yh(this.ref,r),$t)))}hasChild(e){const n=new pt(e);return!this._node.getChild(n).isEmpty()}hasChildren(){return this._node.isLeafNode()?!1:!this._node.isEmpty()}toJSON(){return this.exportVal()}val(){return this._node.val()}}function Cs(t,e){return t=rr(t),t._checkNotDeleted("ref"),e!==void 0?yh(t._root,e):t._root}function yh(t,e){return t=rr(t),ze(t._path)===null?v8("child","path",e):mO("child","path",e),new Ws(t._repo,Bt(t._path,e))}function B8(t,e){t=rr(t),zx("push",t._path),pO("push",e,t._path,!0);const n=vO(t._repo),r=F8(n),i=yh(t,r),s=yh(t,r);let o;return o=Promise.resolve(s),i.then=o.then.bind(o),i.catch=o.then.bind(o,void 0),i}function $8(t){return zx("remove",t._path),Lm(t,null)}function Lm(t,e){t=rr(t),zx("set",t._path),pO("set",e,t._path,!1);const n=new Lh;return I8(t._repo,t._path,e,null,n.wrapCallback(()=>{})),n.promise}function EO(t,e){y8("update",e,t._path);const n=new Lh;return k8(t._repo,t._path,e,n.wrapCallback(()=>{})),n.promise}function mC(t){t=rr(t);const e=new qx(()=>{}),n=new Xh(e);return P8(t._repo,t,n).then(r=>new gh(r,new Ws(t._repo,t._path),t._queryParams.getIndex()))}class Xh{constructor(e){this.callbackContext=e}respondsTo(e){return e==="value"}createEvent(e,n){const r=n._queryParams.getIndex();return new V8("value",this,new gh(e.snapshotNode,new Ws(n._repo,n._path),r))}getEventRunner(e){return e.getEventType()==="cancel"?()=>this.callbackContext.onCancel(e.error):()=>this.callbackContext.onValue(e.snapshot,null)}createCancelEvent(e,n){return this.callbackContext.hasCancelCallback?new U8(this,e,n):null}matches(e){return e instanceof Xh?!e.callbackContext||!this.callbackContext?!0:e.callbackContext.matches(this.callbackContext):!1}hasAnyCallback(){return this.callbackContext!==null}}function z8(t,e,n,r,i){const s=new qx(n,void 0),o=new Xh(s);return A8(t._repo,t,o),()=>_O(t._repo,t,o)}function CO(t,e,n,r){return z8(t,"value",e)}function TO(t,e,n){let r=null;const i=n?new qx(n):null;r=new Xh(i),_O(t._repo,t,r)}$W(Ws);GW(Ws);/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W8="FIREBASE_DATABASE_EMULATOR_HOST",e0={};let H8=!1;function K8(t,e,n,r){const i=e.lastIndexOf(":"),s=e.substring(0,i),o=ca(s);t.repoInfo_=new CN(e,o,t.repoInfo_.namespace,t.repoInfo_.webSocketOnly,t.repoInfo_.nodeAdmin,t.repoInfo_.persistenceKey,t.repoInfo_.includeNamespaceInQueryParams,!0,n),r&&(t.authTokenProvider_=r)}function G8(t,e,n,r,i){let s=r||t.options.databaseURL;s===void 0&&(t.options.projectId||Bs("Can't determine Firebase Database URL. Be sure to include  a Project ID when calling firebase.initializeApp()."),mn("Using default host for project ",t.options.projectId),s=`${t.options.projectId}-default-rtdb.firebaseio.com`);let o=fC(s,i),a=o.repoInfo,l;typeof process<"u"&&ME&&(l=ME[W8]),l?(s=`http://${l}?ns=${a.namespace}`,o=fC(s,i),a=o.repoInfo):o.repoInfo.secure;const c=new iz(t.name,t.options,e);_8("Invalid Firebase Database URL",o),Ke(o.path)||Bs("Database URL must point to the root of a Firebase Database (not including a child path).");const h=Y8(a,t,c,new rz(t,n));return new Q8(h,t)}function q8(t,e){const n=e0[e];(!n||n[t.key]!==t)&&Bs(`Database ${e}(${t.repoInfo_}) has already been deleted.`),N8(t),delete n[t.key]}function Y8(t,e,n,r){let i=e0[e.name];i||(i={},e0[e.name]=i);let s=i[t.toURLString()];return s&&Bs("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),s=new E8(t,H8,n,r),i[t.toURLString()]=s,s}class Q8{constructor(e,n){this._repoInternal=e,this.app=n,this.type="database",this._instanceStarted=!1}get _repo(){return this._instanceStarted||(C8(this._repoInternal,this.app.options.appId,this.app.options.databaseAuthVariableOverride),this._instanceStarted=!0),this._repoInternal}get _root(){return this._rootInternal||(this._rootInternal=new Ws(this._repo,rt())),this._rootInternal}_delete(){return this._rootInternal!==null&&(q8(this._repo,this.app.name),this._repoInternal=null,this._rootInternal=null),Promise.resolve()}_checkNotDeleted(e){this._rootInternal===null&&Bs("Cannot call "+e+" on a deleted database.")}}function X8(t=Ig(),e){const n=Vh(t,"database").getImmediate({identifier:e});if(!n._instanceStarted){const r=Xw("database");r&&J8(n,...r)}return n}function J8(t,e,n,r={}){t=rr(t),t._checkNotDeleted("useEmulator");const i=`${e}:${n}`,s=t._repoInternal;if(t._instanceStarted){if(i===t._repoInternal.repoInfo_.host&&Xo(r,s.repoInfo_.emulatorOptions))return;Bs("connectDatabaseEmulator() cannot initialize or alter the emulator configuration after the database instance has started.")}let o;if(s.repoInfo_.nodeAdmin)r.mockUserToken&&Bs('mockUserToken is not supported by the Admin SDK. For client access with mock users, please use the "firebase" package instead of "firebase-admin".'),o=new Ep(Ep.OWNER);else if(r.mockUserToken){const a=typeof r.mockUserToken=="string"?r.mockUserToken:Jw(r.mockUserToken,t.app.options.projectId);o=new Ep(a)}ca(e)&&(Sg(e),Eg("Database",!0)),K8(s,i,r,o)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z8(t){B$(ua),Jo(new Ls("database",(e,{instanceIdentifier:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("auth-internal"),s=e.getProvider("app-check-internal");return G8(r,i,s,n)},"PUBLIC").setMultipleInstances(!0)),Fr(jE,LE,t),Fr(jE,LE,"esm2020")}Is.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)};Is.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};Z8();const eH={apiKey:void 0,authDomain:void 0,databaseURL:void 0,projectId:void 0,storageBucket:void 0,messagingSenderId:void 0,appId:void 0},Bg=wA(eH);N9(Bg);a$(Bg);L$(Bg);const Ts=X8(Bg),tH=()=>{const[t,e]=S.useState(!0);return S.useEffect(()=>{const n=Cs(Ts,".info/connected"),r=CO(n,i=>{const s=i.val()===!0;e(s)});return()=>TO(n,"value",r)},[]),t};var PO={exports:{}};(function(t,e){(function(n,r){t.exports=r()})(X1,function(){var n=function(d,f){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(y,x){y.__proto__=x}||function(y,x){for(var P in x)Object.prototype.hasOwnProperty.call(x,P)&&(y[P]=x[P])})(d,f)},r=function(){return(r=Object.assign||function(d){for(var f,y=1,x=arguments.length;y<x;y++)for(var P in f=arguments[y])Object.prototype.hasOwnProperty.call(f,P)&&(d[P]=f[P]);return d}).apply(this,arguments)};function i(d,f,y){for(var x,P=0,A=f.length;P<A;P++)!x&&P in f||((x=x||Array.prototype.slice.call(f,0,P))[P]=f[P]);return d.concat(x||Array.prototype.slice.call(f))}var s=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:X1,o=Object.keys,a=Array.isArray;function l(d,f){return typeof f!="object"||o(f).forEach(function(y){d[y]=f[y]}),d}typeof Promise>"u"||s.Promise||(s.Promise=Promise);var c=Object.getPrototypeOf,h={}.hasOwnProperty;function p(d,f){return h.call(d,f)}function m(d,f){typeof f=="function"&&(f=f(c(d))),(typeof Reflect>"u"?o:Reflect.ownKeys)(f).forEach(function(y){T(d,y,f[y])})}var w=Object.defineProperty;function T(d,f,y,x){w(d,f,l(y&&p(y,"get")&&typeof y.get=="function"?{get:y.get,set:y.set,configurable:!0}:{value:y,configurable:!0,writable:!0},x))}function _(d){return{from:function(f){return d.prototype=Object.create(f.prototype),T(d.prototype,"constructor",d),{extend:m.bind(null,d.prototype)}}}}var I=Object.getOwnPropertyDescriptor,b=[].slice;function E(d,f,y){return b.call(d,f,y)}function k(d,f){return f(d)}function M(d){if(!d)throw new Error("Assertion Failed")}function U(d){s.setImmediate?setImmediate(d):setTimeout(d,0)}function H(d,f){if(typeof f=="string"&&p(d,f))return d[f];if(!f)return d;if(typeof f!="string"){for(var y=[],x=0,P=f.length;x<P;++x){var A=H(d,f[x]);y.push(A)}return y}var V=f.indexOf(".");if(V!==-1){var $=d[f.substr(0,V)];return $==null?void 0:H($,f.substr(V+1))}}function N(d,f,y){if(d&&f!==void 0&&!("isFrozen"in Object&&Object.isFrozen(d)))if(typeof f!="string"&&"length"in f){M(typeof y!="string"&&"length"in y);for(var x=0,P=f.length;x<P;++x)N(d,f[x],y[x])}else{var A,V,$=f.indexOf(".");$!==-1?(A=f.substr(0,$),(V=f.substr($+1))===""?y===void 0?a(d)&&!isNaN(parseInt(A))?d.splice(A,1):delete d[A]:d[A]=y:N($=!($=d[A])||!p(d,A)?d[A]={}:$,V,y)):y===void 0?a(d)&&!isNaN(parseInt(f))?d.splice(f,1):delete d[f]:d[f]=y}}function R(d){var f,y={};for(f in d)p(d,f)&&(y[f]=d[f]);return y}var j=[].concat;function D(d){return j.apply([],d)}var Si="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(D([8,16,32,64].map(function(d){return["Int","Uint","Float"].map(function(f){return f+d+"Array"})}))).filter(function(d){return s[d]}),B=new Set(Si.map(function(d){return s[d]})),L=null;function F(d){return L=new WeakMap,d=function f(y){if(!y||typeof y!="object")return y;var x=L.get(y);if(x)return x;if(a(y)){x=[],L.set(y,x);for(var P=0,A=y.length;P<A;++P)x.push(f(y[P]))}else if(B.has(y.constructor))x=y;else{var V,$=c(y);for(V in x=$===Object.prototype?{}:Object.create($),L.set(y,x),y)p(y,V)&&(x[V]=f(y[V]))}return x}(d),L=null,d}var ae={}.toString;function Ce(d){return ae.call(d).slice(8,-1)}var xe=typeof Symbol<"u"?Symbol.iterator:"@@iterator",Te=typeof xe=="symbol"?function(d){var f;return d!=null&&(f=d[xe])&&f.apply(d)}:function(){return null};function re(d,f){return f=d.indexOf(f),0<=f&&d.splice(f,1),0<=f}var le={};function _e(d){var f,y,x,P;if(arguments.length===1){if(a(d))return d.slice();if(this===le&&typeof d=="string")return[d];if(P=Te(d)){for(y=[];!(x=P.next()).done;)y.push(x.value);return y}if(d==null)return[d];if(typeof(f=d.length)!="number")return[d];for(y=new Array(f);f--;)y[f]=d[f];return y}for(f=arguments.length,y=new Array(f);f--;)y[f]=arguments[f];return y}var Re=typeof Symbol<"u"?function(d){return d[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Wr=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],Pr=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Wr),Ze={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function bt(d,f){this.name=d,this.message=f}function mt(d,f){return d+". Errors: "+Object.keys(f).map(function(y){return f[y].toString()}).filter(function(y,x,P){return P.indexOf(y)===x}).join(`
`)}function Qt(d,f,y,x){this.failures=f,this.failedKeys=x,this.successCount=y,this.message=mt(d,f)}function yt(d,f){this.name="BulkError",this.failures=Object.keys(f).map(function(y){return f[y]}),this.failuresByPos=f,this.message=mt(d,this.failures)}_(bt).from(Error).extend({toString:function(){return this.name+": "+this.message}}),_(Qt).from(bt),_(yt).from(bt);var Ie=Pr.reduce(function(d,f){return d[f]=f+"Error",d},{}),it=bt,we=Pr.reduce(function(d,f){var y=f+"Error";function x(P,A){this.name=y,P?typeof P=="string"?(this.message="".concat(P).concat(A?`
 `+A:""),this.inner=A||null):typeof P=="object"&&(this.message="".concat(P.name," ").concat(P.message),this.inner=P):(this.message=Ze[f]||y,this.inner=null)}return _(x).from(it),d[f]=x,d},{});we.Syntax=SyntaxError,we.Type=TypeError,we.Range=RangeError;var st=Wr.reduce(function(d,f){return d[f+"Error"]=we[f],d},{}),qe=Pr.reduce(function(d,f){return["Syntax","Type","Range"].indexOf(f)===-1&&(d[f+"Error"]=we[f]),d},{});function Pe(){}function It(d){return d}function An(d,f){return d==null||d===It?f:function(y){return f(d(y))}}function Nn(d,f){return function(){d.apply(this,arguments),f.apply(this,arguments)}}function $r(d,f){return d===Pe?f:function(){var y=d.apply(this,arguments);y!==void 0&&(arguments[0]=y);var x=this.onsuccess,P=this.onerror;this.onsuccess=null,this.onerror=null;var A=f.apply(this,arguments);return x&&(this.onsuccess=this.onsuccess?Nn(x,this.onsuccess):x),P&&(this.onerror=this.onerror?Nn(P,this.onerror):P),A!==void 0?A:y}}function zr(d,f){return d===Pe?f:function(){d.apply(this,arguments);var y=this.onsuccess,x=this.onerror;this.onsuccess=this.onerror=null,f.apply(this,arguments),y&&(this.onsuccess=this.onsuccess?Nn(y,this.onsuccess):y),x&&(this.onerror=this.onerror?Nn(x,this.onerror):x)}}function Tl(d,f){return d===Pe?f:function(y){var x=d.apply(this,arguments);l(y,x);var P=this.onsuccess,A=this.onerror;return this.onsuccess=null,this.onerror=null,y=f.apply(this,arguments),P&&(this.onsuccess=this.onsuccess?Nn(P,this.onsuccess):P),A&&(this.onerror=this.onerror?Nn(A,this.onerror):A),x===void 0?y===void 0?void 0:y:l(x,y)}}function kt(d,f){return d===Pe?f:function(){return f.apply(this,arguments)!==!1&&d.apply(this,arguments)}}function Xt(d,f){return d===Pe?f:function(){var y=d.apply(this,arguments);if(y&&typeof y.then=="function"){for(var x=this,P=arguments.length,A=new Array(P);P--;)A[P]=arguments[P];return y.then(function(){return f.apply(x,A)})}return f.apply(this,arguments)}}qe.ModifyError=Qt,qe.DexieError=bt,qe.BulkError=yt;var On=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function rf(d){On=d}var Hs={},sf=100,Si=typeof Promise>"u"?[]:function(){var d=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[d,c(d),d];var f=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[f,c(f),d]}(),Wr=Si[0],Pr=Si[1],Si=Si[2],Pr=Pr&&Pr.then,Ei=Wr&&Wr.constructor,pa=!!Si,ma=function(d,f){Ks.push([d,f]),ga&&(queueMicrotask(ty),ga=!1)},Eu=!0,ga=!0,rs=[],Ci=[],ya=It,br={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Pe,pgp:!1,env:{},finalize:Pe},Ee=br,Ks=[],Hr=0,va=[];function ge(d){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var f=this._PSD=Ee;if(typeof d!="function"){if(d!==Hs)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Il(this,this._value))}this._state=null,this._value=null,++f.ref,function y(x,P){try{P(function(A){if(x._state===null){if(A===x)throw new TypeError("A promise cannot be resolved with itself.");var V=x._lib&&ir();A&&typeof A.then=="function"?y(x,function($,W){A instanceof ge?A._then($,W):A.then($,W)}):(x._state=!0,x._value=A,Gs(x)),V&&qs()}},Il.bind(null,x))}catch(A){Il(x,A)}}(this,d)}var Pl={get:function(){var d=Ee,f=sr;function y(x,P){var A=this,V=!d.global&&(d!==Ee||f!==sr),$=V&&!Sr(),W=new ge(function(K,Q){is(A,new rn(Pu(x,d,V,$),Pu(P,d,V,$),K,Q,d))});return this._consoleTask&&(W._consoleTask=this._consoleTask),W}return y.prototype=Hs,y},set:function(d){T(this,"then",d&&d.prototype===Hs?Pl:{get:function(){return d},set:Pl.set})}};function rn(d,f,y,x,P){this.onFulfilled=typeof d=="function"?d:null,this.onRejected=typeof f=="function"?f:null,this.resolve=y,this.reject=x,this.psd=P}function Il(d,f){var y,x;Ci.push(f),d._state===null&&(y=d._lib&&ir(),f=ya(f),d._state=!1,d._value=f,x=d,rs.some(function(P){return P._value===x._value})||rs.push(x),Gs(d),y&&qs())}function Gs(d){var f=d._listeners;d._listeners=[];for(var y=0,x=f.length;y<x;++y)is(d,f[y]);var P=d._PSD;--P.ref||P.finalize(),Hr===0&&(++Hr,ma(function(){--Hr==0&&Cu()},[]))}function is(d,f){if(d._state!==null){var y=d._state?f.onFulfilled:f.onRejected;if(y===null)return(d._state?f.resolve:f.reject)(d._value);++f.psd.ref,++Hr,ma(ey,[y,d,f])}else d._listeners.push(f)}function ey(d,f,y){try{var x,P=f._value;!f._state&&Ci.length&&(Ci=[]),x=On&&f._consoleTask?f._consoleTask.run(function(){return d(P)}):d(P),f._state||Ci.indexOf(P)!==-1||function(A){for(var V=rs.length;V;)if(rs[--V]._value===A._value)return rs.splice(V,1)}(f),y.resolve(x)}catch(A){y.reject(A)}finally{--Hr==0&&Cu(),--y.psd.ref||y.psd.finalize()}}function ty(){Er(br,function(){ir()&&qs()})}function ir(){var d=Eu;return ga=Eu=!1,d}function qs(){var d,f,y;do for(;0<Ks.length;)for(d=Ks,Ks=[],y=d.length,f=0;f<y;++f){var x=d[f];x[0].apply(null,x[1])}while(0<Ks.length);ga=Eu=!0}function Cu(){var d=rs;rs=[],d.forEach(function(x){x._PSD.onunhandled.call(null,x._value,x)});for(var f=va.slice(0),y=f.length;y;)f[--y]()}function Ys(d){return new ge(Hs,!1,d)}function vt(d,f){var y=Ee;return function(){var x=ir(),P=Ee;try{return Gr(y,!0),d.apply(this,arguments)}catch(A){f&&f(A)}finally{Gr(P,!1),x&&qs()}}}m(ge.prototype,{then:Pl,_then:function(d,f){is(this,new rn(null,null,d,f,Ee))},catch:function(d){if(arguments.length===1)return this.then(null,d);var f=d,y=arguments[1];return typeof f=="function"?this.then(null,function(x){return(x instanceof f?y:Ys)(x)}):this.then(null,function(x){return(x&&x.name===f?y:Ys)(x)})},finally:function(d){return this.then(function(f){return ge.resolve(d()).then(function(){return f})},function(f){return ge.resolve(d()).then(function(){return Ys(f)})})},timeout:function(d,f){var y=this;return d<1/0?new ge(function(x,P){var A=setTimeout(function(){return P(new we.Timeout(f))},d);y.then(x,P).finally(clearTimeout.bind(null,A))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&T(ge.prototype,Symbol.toStringTag,"Dexie.Promise"),br.env=af(),m(ge,{all:function(){var d=_e.apply(null,arguments).map(_a);return new ge(function(f,y){d.length===0&&f([]);var x=d.length;d.forEach(function(P,A){return ge.resolve(P).then(function(V){d[A]=V,--x||f(d)},y)})})},resolve:function(d){return d instanceof ge?d:d&&typeof d.then=="function"?new ge(function(f,y){d.then(f,y)}):new ge(Hs,!0,d)},reject:Ys,race:function(){var d=_e.apply(null,arguments).map(_a);return new ge(function(f,y){d.map(function(x){return ge.resolve(x).then(f,y)})})},PSD:{get:function(){return Ee},set:function(d){return Ee=d}},totalEchoes:{get:function(){return sr}},newPSD:Kr,usePSD:Er,scheduler:{get:function(){return ma},set:function(d){ma=d}},rejectionMapper:{get:function(){return ya},set:function(d){ya=d}},follow:function(d,f){return new ge(function(y,x){return Kr(function(P,A){var V=Ee;V.unhandleds=[],V.onunhandled=A,V.finalize=Nn(function(){var $,W=this;$=function(){W.unhandleds.length===0?P():A(W.unhandleds[0])},va.push(function K(){$(),va.splice(va.indexOf(K),1)}),++Hr,ma(function(){--Hr==0&&Cu()},[])},V.finalize),d()},f,y,x)})}}),Ei&&(Ei.allSettled&&T(ge,"allSettled",function(){var d=_e.apply(null,arguments).map(_a);return new ge(function(f){d.length===0&&f([]);var y=d.length,x=new Array(y);d.forEach(function(P,A){return ge.resolve(P).then(function(V){return x[A]={status:"fulfilled",value:V}},function(V){return x[A]={status:"rejected",reason:V}}).then(function(){return--y||f(x)})})})}),Ei.any&&typeof AggregateError<"u"&&T(ge,"any",function(){var d=_e.apply(null,arguments).map(_a);return new ge(function(f,y){d.length===0&&y(new AggregateError([]));var x=d.length,P=new Array(x);d.forEach(function(A,V){return ge.resolve(A).then(function($){return f($)},function($){P[V]=$,--x||y(new AggregateError(P))})})})}),Ei.withResolvers&&(ge.withResolvers=Ei.withResolvers));var zt={awaits:0,echoes:0,id:0},Tu=0,Ti=[],kl=0,sr=0,of=0;function Kr(d,f,y,x){var P=Ee,A=Object.create(P);return A.parent=P,A.ref=0,A.global=!1,A.id=++of,br.env,A.env=pa?{Promise:ge,PromiseProp:{value:ge,configurable:!0,writable:!0},all:ge.all,race:ge.race,allSettled:ge.allSettled,any:ge.any,resolve:ge.resolve,reject:ge.reject}:{},f&&l(A,f),++P.ref,A.finalize=function(){--this.parent.ref||this.parent.finalize()},x=Er(A,d,y,x),A.ref===0&&A.finalize(),x}function Pi(){return zt.id||(zt.id=++Tu),++zt.awaits,zt.echoes+=sf,zt.id}function Sr(){return!!zt.awaits&&(--zt.awaits==0&&(zt.id=0),zt.echoes=zt.awaits*sf,!0)}function _a(d){return zt.echoes&&d&&d.constructor===Ei?(Pi(),d.then(function(f){return Sr(),f},function(f){return Sr(),gt(f)})):d}function ny(){var d=Ti[Ti.length-1];Ti.pop(),Gr(d,!1)}function Gr(d,f){var y,x=Ee;(f?!zt.echoes||kl++&&d===Ee:!kl||--kl&&d===Ee)||queueMicrotask(f?(function(P){++sr,zt.echoes&&--zt.echoes!=0||(zt.echoes=zt.awaits=zt.id=0),Ti.push(Ee),Gr(P,!0)}).bind(null,d):ny),d!==Ee&&(Ee=d,x===br&&(br.env=af()),pa&&(y=br.env.Promise,f=d.env,(x.global||d.global)&&(Object.defineProperty(s,"Promise",f.PromiseProp),y.all=f.all,y.race=f.race,y.resolve=f.resolve,y.reject=f.reject,f.allSettled&&(y.allSettled=f.allSettled),f.any&&(y.any=f.any))))}function af(){var d=s.Promise;return pa?{Promise:d,PromiseProp:Object.getOwnPropertyDescriptor(s,"Promise"),all:d.all,race:d.race,allSettled:d.allSettled,any:d.any,resolve:d.resolve,reject:d.reject}:{}}function Er(d,f,y,x,P){var A=Ee;try{return Gr(d,!0),f(y,x,P)}finally{Gr(A,!1)}}function Pu(d,f,y,x){return typeof d!="function"?d:function(){var P=Ee;y&&Pi(),Gr(f,!0);try{return d.apply(this,arguments)}finally{Gr(P,!1),x&&queueMicrotask(Sr)}}}function wa(d){Promise===Ei&&zt.echoes===0?kl===0?d():enqueueNativeMicroTask(d):setTimeout(d,0)}(""+Pr).indexOf("[native code]")===-1&&(Pi=Sr=Pe);var gt=ge.reject,Dn="",or="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",lf="String expected.",ss=[],xa="__dbnames",Rl="readonly",ba="readwrite";function qr(d,f){return d?f?function(){return d.apply(this,arguments)&&f.apply(this,arguments)}:d:f}var Iu={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Sa(d){return typeof d!="string"||/\./.test(d)?function(f){return f}:function(f){return f[d]===void 0&&d in f&&delete(f=F(f))[d],f}}function ku(){throw we.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function He(d,f){try{var y=Yr(d),x=Yr(f);if(y!==x)return y==="Array"?1:x==="Array"?-1:y==="binary"?1:x==="binary"?-1:y==="string"?1:x==="string"?-1:y==="Date"?1:x!=="Date"?NaN:-1;switch(y){case"number":case"Date":case"string":return f<d?1:d<f?-1:0;case"binary":return function(P,A){for(var V=P.length,$=A.length,W=V<$?V:$,K=0;K<W;++K)if(P[K]!==A[K])return P[K]<A[K]?-1:1;return V===$?0:V<$?-1:1}(ar(d),ar(f));case"Array":return function(P,A){for(var V=P.length,$=A.length,W=V<$?V:$,K=0;K<W;++K){var Q=He(P[K],A[K]);if(Q!==0)return Q}return V===$?0:V<$?-1:1}(d,f)}}catch{}return NaN}function Yr(d){var f=typeof d;return f!="object"?f:ArrayBuffer.isView(d)?"binary":(d=Ce(d),d==="ArrayBuffer"?"binary":d)}function ar(d){return d instanceof Uint8Array?d:ArrayBuffer.isView(d)?new Uint8Array(d.buffer,d.byteOffset,d.byteLength):new Uint8Array(d)}function Ii(d,f,y){var x=d.schema.yProps;return x?(f&&0<y.numFailures&&(f=f.filter(function(P,A){return!y.failures[A]})),Promise.all(x.map(function(P){return P=P.updatesTable,f?d.db.table(P).where("k").anyOf(f).delete():d.db.table(P).clear()})).then(function(){return y})):y}var Qr=(Al.prototype.execute=function(d){var f=this["@@propmod"];if(f.add!==void 0){var y=f.add;if(a(y))return i(i([],a(d)?d:[],!0),y).sort();if(typeof y=="number")return(Number(d)||0)+y;if(typeof y=="bigint")try{return BigInt(d)+y}catch{return BigInt(0)+y}throw new TypeError("Invalid term ".concat(y))}if(f.remove!==void 0){var x=f.remove;if(a(x))return a(d)?d.filter(function(P){return!x.includes(P)}).sort():[];if(typeof x=="number")return Number(d)-x;if(typeof x=="bigint")try{return BigInt(d)-x}catch{return BigInt(0)-x}throw new TypeError("Invalid subtrahend ".concat(x))}return y=(y=f.replacePrefix)===null||y===void 0?void 0:y[0],y&&typeof d=="string"&&d.startsWith(y)?f.replacePrefix[1]+d.substring(y.length):d},Al);function Al(d){this["@@propmod"]=d}function ft(d,f){for(var y=o(f),x=y.length,P=!1,A=0;A<x;++A){var V=y[A],$=f[V],W=H(d,V);$ instanceof Qr?(N(d,V,$.execute(W)),P=!0):W!==$&&(N(d,V,$),P=!0)}return P}var Ea=(tt.prototype._trans=function(d,f,y){var x=this._tx||Ee.trans,P=this.name,A=On&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(d==="readonly"?"read":"write"," ").concat(this.name));function V(K,Q,z){if(!z.schema[P])throw new we.NotFound("Table "+P+" not part of transaction");return f(z.idbtrans,z)}var $=ir();try{var W=x&&x.db._novip===this.db._novip?x===Ee.trans?x._promise(d,V,y):Kr(function(){return x._promise(d,V,y)},{trans:x,transless:Ee.transless||Ee}):function K(Q,z,J,G){if(Q.idbdb&&(Q._state.openComplete||Ee.letThrough||Q._vip)){var q=Q._createTransaction(z,J,Q._dbSchema);try{q.create(),Q._state.PR1398_maxLoop=3}catch(Y){return Y.name===Ie.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,z,J,G)})):gt(Y)}return q._promise(z,function(Y,X){return Kr(function(){return Ee.trans=q,G(Y,X,q)})}).then(function(Y){if(z==="readwrite")try{q.idbtrans.commit()}catch{}return z==="readonly"?Y:q._completion.then(function(){return Y})})}if(Q._state.openComplete)return gt(new we.DatabaseClosed(Q._state.dbOpenError));if(!Q._state.isBeingOpened){if(!Q._state.autoOpen)return gt(new we.DatabaseClosed);Q.open().catch(Pe)}return Q._state.dbReadyPromise.then(function(){return K(Q,z,J,G)})}(this.db,d,[this.name],V);return A&&(W._consoleTask=A,W=W.catch(function(K){return console.trace(K),gt(K)})),W}finally{$&&qs()}},tt.prototype.get=function(d,f){var y=this;return d&&d.constructor===Object?this.where(d).first(f):d==null?gt(new we.Type("Invalid argument to Table.get()")):this._trans("readonly",function(x){return y.core.get({trans:x,key:d}).then(function(P){return y.hook.reading.fire(P)})}).then(f)},tt.prototype.where=function(d){if(typeof d=="string")return new this.db.WhereClause(this,d);if(a(d))return new this.db.WhereClause(this,"[".concat(d.join("+"),"]"));var f=o(d);if(f.length===1)return this.where(f[0]).equals(d[f[0]]);var y=this.schema.indexes.concat(this.schema.primKey).filter(function($){if($.compound&&f.every(function(K){return 0<=$.keyPath.indexOf(K)})){for(var W=0;W<f.length;++W)if(f.indexOf($.keyPath[W])===-1)return!1;return!0}return!1}).sort(function($,W){return $.keyPath.length-W.keyPath.length})[0];if(y&&this.db._maxKey!==Dn){var A=y.keyPath.slice(0,f.length);return this.where(A).equals(A.map(function(W){return d[W]}))}!y&&On&&console.warn("The query ".concat(JSON.stringify(d)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(f.join("+"),"]"));var x=this.schema.idxByName;function P($,W){return He($,W)===0}var V=f.reduce(function(z,W){var K=z[0],Q=z[1],z=x[W],J=d[W];return[K||z,K||!z?qr(Q,z&&z.multi?function(G){return G=H(G,W),a(G)&&G.some(function(q){return P(J,q)})}:function(G){return P(J,H(G,W))}):Q]},[null,null]),A=V[0],V=V[1];return A?this.where(A.name).equals(d[A.keyPath]).filter(V):y?this.filter(V):this.where(f).equals("")},tt.prototype.filter=function(d){return this.toCollection().and(d)},tt.prototype.count=function(d){return this.toCollection().count(d)},tt.prototype.offset=function(d){return this.toCollection().offset(d)},tt.prototype.limit=function(d){return this.toCollection().limit(d)},tt.prototype.each=function(d){return this.toCollection().each(d)},tt.prototype.toArray=function(d){return this.toCollection().toArray(d)},tt.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},tt.prototype.orderBy=function(d){return new this.db.Collection(new this.db.WhereClause(this,a(d)?"[".concat(d.join("+"),"]"):d))},tt.prototype.reverse=function(){return this.toCollection().reverse()},tt.prototype.mapToClass=function(d){var f,y=this.db,x=this.name;function P(){return f!==null&&f.apply(this,arguments)||this}(this.schema.mappedClass=d).prototype instanceof ku&&(function(W,K){if(typeof K!="function"&&K!==null)throw new TypeError("Class extends value "+String(K)+" is not a constructor or null");function Q(){this.constructor=W}n(W,K),W.prototype=K===null?Object.create(K):(Q.prototype=K.prototype,new Q)}(P,f=d),Object.defineProperty(P.prototype,"db",{get:function(){return y},enumerable:!1,configurable:!0}),P.prototype.table=function(){return x},d=P);for(var A=new Set,V=d.prototype;V;V=c(V))Object.getOwnPropertyNames(V).forEach(function(W){return A.add(W)});function $(W){if(!W)return W;var K,Q=Object.create(d.prototype);for(K in W)if(!A.has(K))try{Q[K]=W[K]}catch{}return Q}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=$,this.hook("reading",$),d},tt.prototype.defineClass=function(){return this.mapToClass(function(d){l(this,d)})},tt.prototype.add=function(d,f){var y=this,x=this.schema.primKey,P=x.auto,A=x.keyPath,V=d;return A&&P&&(V=Sa(A)(d)),this._trans("readwrite",function($){return y.core.mutate({trans:$,type:"add",keys:f!=null?[f]:null,values:[V]})}).then(function($){return $.numFailures?ge.reject($.failures[0]):$.lastResult}).then(function($){if(A)try{N(d,A,$)}catch{}return $})},tt.prototype.upsert=function(d,f){var y=this,x=this.schema.primKey.keyPath;return this._trans("readwrite",function(P){return y.core.get({trans:P,key:d}).then(function(A){var V=A??{};return ft(V,f),x&&N(V,x,d),y.core.mutate({trans:P,type:"put",values:[V],keys:[d],upsert:!0,updates:{keys:[d],changeSpecs:[f]}}).then(function($){return $.numFailures?ge.reject($.failures[0]):!!A})})})},tt.prototype.update=function(d,f){return typeof d!="object"||a(d)?this.where(":id").equals(d).modify(f):(d=H(d,this.schema.primKey.keyPath),d===void 0?gt(new we.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(d).modify(f))},tt.prototype.put=function(d,f){var y=this,x=this.schema.primKey,P=x.auto,A=x.keyPath,V=d;return A&&P&&(V=Sa(A)(d)),this._trans("readwrite",function($){return y.core.mutate({trans:$,type:"put",values:[V],keys:f!=null?[f]:null})}).then(function($){return $.numFailures?ge.reject($.failures[0]):$.lastResult}).then(function($){if(A)try{N(d,A,$)}catch{}return $})},tt.prototype.delete=function(d){var f=this;return this._trans("readwrite",function(y){return f.core.mutate({trans:y,type:"delete",keys:[d]}).then(function(x){return Ii(f,[d],x)}).then(function(x){return x.numFailures?ge.reject(x.failures[0]):void 0})})},tt.prototype.clear=function(){var d=this;return this._trans("readwrite",function(f){return d.core.mutate({trans:f,type:"deleteRange",range:Iu}).then(function(y){return Ii(d,null,y)})}).then(function(f){return f.numFailures?ge.reject(f.failures[0]):void 0})},tt.prototype.bulkGet=function(d){var f=this;return this._trans("readonly",function(y){return f.core.getMany({keys:d,trans:y}).then(function(x){return x.map(function(P){return f.hook.reading.fire(P)})})})},tt.prototype.bulkAdd=function(d,f,y){var x=this,P=Array.isArray(f)?f:void 0,A=(y=y||(P?void 0:f))?y.allKeys:void 0;return this._trans("readwrite",function(V){var K=x.schema.primKey,$=K.auto,K=K.keyPath;if(K&&P)throw new we.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(P&&P.length!==d.length)throw new we.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,K=K&&$?d.map(Sa(K)):d;return x.core.mutate({trans:V,type:"add",keys:P,values:K,wantResults:A}).then(function(q){var z=q.numFailures,J=q.results,G=q.lastResult,q=q.failures;if(z===0)return A?J:G;throw new yt("".concat(x.name,".bulkAdd(): ").concat(z," of ").concat(W," operations failed"),q)})})},tt.prototype.bulkPut=function(d,f,y){var x=this,P=Array.isArray(f)?f:void 0,A=(y=y||(P?void 0:f))?y.allKeys:void 0;return this._trans("readwrite",function(V){var K=x.schema.primKey,$=K.auto,K=K.keyPath;if(K&&P)throw new we.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(P&&P.length!==d.length)throw new we.InvalidArgument("Arguments objects and keys must have the same length");var W=d.length,K=K&&$?d.map(Sa(K)):d;return x.core.mutate({trans:V,type:"put",keys:P,values:K,wantResults:A}).then(function(q){var z=q.numFailures,J=q.results,G=q.lastResult,q=q.failures;if(z===0)return A?J:G;throw new yt("".concat(x.name,".bulkPut(): ").concat(z," of ").concat(W," operations failed"),q)})})},tt.prototype.bulkUpdate=function(d){var f=this,y=this.core,x=d.map(function(V){return V.key}),P=d.map(function(V){return V.changes}),A=[];return this._trans("readwrite",function(V){return y.getMany({trans:V,keys:x,cache:"clone"}).then(function($){var W=[],K=[];d.forEach(function(z,J){var G=z.key,q=z.changes,Y=$[J];if(Y){for(var X=0,ee=Object.keys(q);X<ee.length;X++){var te=ee[X],ie=q[te];if(te===f.schema.primKey.keyPath){if(He(ie,G)!==0)throw new we.Constraint("Cannot update primary key in bulkUpdate()")}else N(Y,te,ie)}A.push(J),W.push(G),K.push(Y)}});var Q=W.length;return y.mutate({trans:V,type:"put",keys:W,values:K,updates:{keys:x,changeSpecs:P}}).then(function(z){var J=z.numFailures,G=z.failures;if(J===0)return Q;for(var q=0,Y=Object.keys(G);q<Y.length;q++){var X,ee=Y[q],te=A[Number(ee)];te!=null&&(X=G[ee],delete G[ee],G[te]=X)}throw new yt("".concat(f.name,".bulkUpdate(): ").concat(J," of ").concat(Q," operations failed"),G)})})})},tt.prototype.bulkDelete=function(d){var f=this,y=d.length;return this._trans("readwrite",function(x){return f.core.mutate({trans:x,type:"delete",keys:d}).then(function(P){return Ii(f,d,P)})}).then(function(V){var P=V.numFailures,A=V.lastResult,V=V.failures;if(P===0)return A;throw new yt("".concat(f.name,".bulkDelete(): ").concat(P," of ").concat(y," operations failed"),V)})},tt);function tt(){}function Xr(d){function f(V,$){if($){for(var W=arguments.length,K=new Array(W-1);--W;)K[W-1]=arguments[W];return y[V].subscribe.apply(null,K),d}if(typeof V=="string")return y[V]}var y={};f.addEventType=A;for(var x=1,P=arguments.length;x<P;++x)A(arguments[x]);return f;function A(V,$,W){if(typeof V!="object"){var K;$=$||kt;var Q={subscribers:[],fire:W=W||Pe,subscribe:function(z){Q.subscribers.indexOf(z)===-1&&(Q.subscribers.push(z),Q.fire=$(Q.fire,z))},unsubscribe:function(z){Q.subscribers=Q.subscribers.filter(function(J){return J!==z}),Q.fire=Q.subscribers.reduce($,W)}};return y[V]=f[V]=Q}o(K=V).forEach(function(z){var J=K[z];if(a(J))A(z,K[z][0],K[z][1]);else{if(J!=="asap")throw new we.InvalidArgument("Invalid event config");var G=A(z,It,function(){for(var q=arguments.length,Y=new Array(q);q--;)Y[q]=arguments[q];G.subscribers.forEach(function(X){U(function(){X.apply(null,Y)})})})}})}}function Ca(d,f){return _(f).from({prototype:d}),f}function os(d,f){return!(d.filter||d.algorithm||d.or)&&(f?d.justLimit:!d.replayFilter)}function Ru(d,f){d.filter=qr(d.filter,f)}function Au(d,f,y){var x=d.replayFilter;d.replayFilter=x?function(){return qr(x(),f())}:f,d.justLimit=y&&!x}function Nl(d,f){if(d.isPrimKey)return f.primaryKey;var y=f.getIndexByKeyPath(d.index);if(!y)throw new we.Schema("KeyPath "+d.index+" on object store "+f.name+" is not indexed");return y}function cf(d,f,y){var x=Nl(d,f.schema);return f.openCursor({trans:y,values:!d.keysOnly,reverse:d.dir==="prev",unique:!!d.unique,query:{index:x,range:d.range}})}function ki(d,f,y,x){var P=d.replayFilter?qr(d.filter,d.replayFilter()):d.filter;if(d.or){var A={},V=function($,W,K){var Q,z;P&&!P(W,K,function(J){return W.stop(J)},function(J){return W.fail(J)})||((z=""+(Q=W.primaryKey))=="[object ArrayBuffer]"&&(z=""+new Uint8Array(Q)),p(A,z)||(A[z]=!0,f($,W,K)))};return Promise.all([d.or._iterate(V,y),Ri(cf(d,x,y),d.algorithm,V,!d.keysOnly&&d.valueMapper)])}return Ri(cf(d,x,y),qr(d.algorithm,P),f,!d.keysOnly&&d.valueMapper)}function Ri(d,f,y,x){var P=vt(x?function(A,V,$){return y(x(A),V,$)}:y);return d.then(function(A){if(A)return A.start(function(){var V=function(){return A.continue()};f&&!f(A,function($){return V=$},function($){A.stop($),V=Pe},function($){A.fail($),V=Pe})||P(A.value,A,function($){return V=$}),V()})})}var uf=(Ye.prototype._read=function(d,f){var y=this._ctx;return y.error?y.table._trans(null,gt.bind(null,y.error)):y.table._trans("readonly",d).then(f)},Ye.prototype._write=function(d){var f=this._ctx;return f.error?f.table._trans(null,gt.bind(null,f.error)):f.table._trans("readwrite",d,"locked")},Ye.prototype._addAlgorithm=function(d){var f=this._ctx;f.algorithm=qr(f.algorithm,d)},Ye.prototype._iterate=function(d,f){return ki(this._ctx,d,f,this._ctx.table.core)},Ye.prototype.clone=function(d){var f=Object.create(this.constructor.prototype),y=Object.create(this._ctx);return d&&l(y,d),f._ctx=y,f},Ye.prototype.raw=function(){return this._ctx.valueMapper=null,this},Ye.prototype.each=function(d){var f=this._ctx;return this._read(function(y){return ki(f,d,y,f.table.core)})},Ye.prototype.count=function(d){var f=this;return this._read(function(y){var x=f._ctx,P=x.table.core;if(os(x,!0))return P.count({trans:y,query:{index:Nl(x,P.schema),range:x.range}}).then(function(V){return Math.min(V,x.limit)});var A=0;return ki(x,function(){return++A,!1},y,P).then(function(){return A})}).then(d)},Ye.prototype.sortBy=function(d,f){var y=d.split(".").reverse(),x=y[0],P=y.length-1;function A(W,K){return K?A(W[y[K]],K-1):W[x]}var V=this._ctx.dir==="next"?1:-1;function $(W,K){return He(A(W,P),A(K,P))*V}return this.toArray(function(W){return W.sort($)}).then(f)},Ye.prototype.toArray=function(d){var f=this;return this._read(function(y){var x=f._ctx;if(x.dir==="next"&&os(x,!0)&&0<x.limit){var P=x.valueMapper,A=Nl(x,x.table.core.schema);return x.table.core.query({trans:y,limit:x.limit,values:!0,query:{index:A,range:x.range}}).then(function($){return $=$.result,P?$.map(P):$})}var V=[];return ki(x,function($){return V.push($)},y,x.table.core).then(function(){return V})},d)},Ye.prototype.offset=function(d){var f=this._ctx;return d<=0||(f.offset+=d,os(f)?Au(f,function(){var y=d;return function(x,P){return y===0||(y===1?--y:P(function(){x.advance(y),y=0}),!1)}}):Au(f,function(){var y=d;return function(){return--y<0}})),this},Ye.prototype.limit=function(d){return this._ctx.limit=Math.min(this._ctx.limit,d),Au(this._ctx,function(){var f=d;return function(y,x,P){return--f<=0&&x(P),0<=f}},!0),this},Ye.prototype.until=function(d,f){return Ru(this._ctx,function(y,x,P){return!d(y.value)||(x(P),f)}),this},Ye.prototype.first=function(d){return this.limit(1).toArray(function(f){return f[0]}).then(d)},Ye.prototype.last=function(d){return this.reverse().first(d)},Ye.prototype.filter=function(d){var f;return Ru(this._ctx,function(y){return d(y.value)}),(f=this._ctx).isMatch=qr(f.isMatch,d),this},Ye.prototype.and=function(d){return this.filter(d)},Ye.prototype.or=function(d){return new this.db.WhereClause(this._ctx.table,d,this)},Ye.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},Ye.prototype.desc=function(){return this.reverse()},Ye.prototype.eachKey=function(d){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(y,x){d(x.key,x)})},Ye.prototype.eachUniqueKey=function(d){return this._ctx.unique="unique",this.eachKey(d)},Ye.prototype.eachPrimaryKey=function(d){var f=this._ctx;return f.keysOnly=!f.isMatch,this.each(function(y,x){d(x.primaryKey,x)})},Ye.prototype.keys=function(d){var f=this._ctx;f.keysOnly=!f.isMatch;var y=[];return this.each(function(x,P){y.push(P.key)}).then(function(){return y}).then(d)},Ye.prototype.primaryKeys=function(d){var f=this._ctx;if(f.dir==="next"&&os(f,!0)&&0<f.limit)return this._read(function(x){var P=Nl(f,f.table.core.schema);return f.table.core.query({trans:x,values:!1,limit:f.limit,query:{index:P,range:f.range}})}).then(function(x){return x.result}).then(d);f.keysOnly=!f.isMatch;var y=[];return this.each(function(x,P){y.push(P.primaryKey)}).then(function(){return y}).then(d)},Ye.prototype.uniqueKeys=function(d){return this._ctx.unique="unique",this.keys(d)},Ye.prototype.firstKey=function(d){return this.limit(1).keys(function(f){return f[0]}).then(d)},Ye.prototype.lastKey=function(d){return this.reverse().firstKey(d)},Ye.prototype.distinct=function(){var d=this._ctx,d=d.index&&d.table.schema.idxByName[d.index];if(!d||!d.multi)return this;var f={};return Ru(this._ctx,function(P){var x=P.primaryKey.toString(),P=p(f,x);return f[x]=!0,!P}),this},Ye.prototype.modify=function(d){var f=this,y=this._ctx;return this._write(function(x){var P=typeof d=="function"?d:function(Y){return ft(Y,d)},A=y.table.core,K=A.schema.primaryKey,V=K.outbound,$=K.extractKey,W=200,K=f.db._options.modifyChunkSize;K&&(W=typeof K=="object"?K[A.name]||K["*"]||200:K);function Q(Y,te){var ee=te.failures,te=te.numFailures;J+=Y-te;for(var ie=0,se=o(ee);ie<se.length;ie++){var de=se[ie];z.push(ee[de])}}var z=[],J=0,G=[],q=d===Nu;return f.clone().primaryKeys().then(function(Y){function X(te){var ie=Math.min(W,Y.length-te),se=Y.slice(te,te+ie);return(q?Promise.resolve([]):A.getMany({trans:x,keys:se,cache:"immutable"})).then(function(de){var ye=[],ue=[],pe=V?[]:null,ve=q?se:[];if(!q)for(var me=0;me<ie;++me){var be=de[me],Le={value:F(be),primKey:Y[te+me]};P.call(Le,Le.value,Le)!==!1&&(Le.value==null?ve.push(Y[te+me]):V||He($(be),$(Le.value))===0?(ue.push(Le.value),V&&pe.push(Y[te+me])):(ve.push(Y[te+me]),ye.push(Le.value)))}return Promise.resolve(0<ye.length&&A.mutate({trans:x,type:"add",values:ye}).then(function(Ue){for(var $e in Ue.failures)ve.splice(parseInt($e),1);Q(ye.length,Ue)})).then(function(){return(0<ue.length||ee&&typeof d=="object")&&A.mutate({trans:x,type:"put",keys:pe,values:ue,criteria:ee,changeSpec:typeof d!="function"&&d,isAdditionalChunk:0<te}).then(function(Ue){return Q(ue.length,Ue)})}).then(function(){return(0<ve.length||ee&&q)&&A.mutate({trans:x,type:"delete",keys:ve,criteria:ee,isAdditionalChunk:0<te}).then(function(Ue){return Ii(y.table,ve,Ue)}).then(function(Ue){return Q(ve.length,Ue)})}).then(function(){return Y.length>te+ie&&X(te+W)})})}var ee=os(y)&&y.limit===1/0&&(typeof d!="function"||q)&&{index:y.index,range:y.range};return X(0).then(function(){if(0<z.length)throw new Qt("Error modifying one or more objects",z,J,G);return Y.length})})})},Ye.prototype.delete=function(){var d=this._ctx,f=d.range;return!os(d)||d.table.schema.yProps||!d.isPrimKey&&f.type!==3?this.modify(Nu):this._write(function(y){var x=d.table.core.schema.primaryKey,P=f;return d.table.core.count({trans:y,query:{index:x,range:P}}).then(function(A){return d.table.core.mutate({trans:y,type:"deleteRange",range:P}).then(function(W){var $=W.failures,W=W.numFailures;if(W)throw new Qt("Could not delete some values",Object.keys($).map(function(K){return $[K]}),A-W);return A-W})})})},Ye);function Ye(){}var Nu=function(d,f){return f.value=null};function df(d,f){return d<f?-1:d===f?0:1}function hf(d,f){return f<d?-1:d===f?0:1}function Gt(d,f,y){return d=d instanceof ff?new d.Collection(d):d,d._ctx.error=new(y||TypeError)(f),d}function Qs(d){return new d.Collection(d,function(){return Jr("")}).limit(0)}function Ol(d,f,y,x){var P,A,V,$,W,K,Q,z=y.length;if(!y.every(function(q){return typeof q=="string"}))return Gt(d,lf);function J(q){P=q==="next"?function(X){return X.toUpperCase()}:function(X){return X.toLowerCase()},A=q==="next"?function(X){return X.toLowerCase()}:function(X){return X.toUpperCase()},V=q==="next"?df:hf;var Y=y.map(function(X){return{lower:A(X),upper:P(X)}}).sort(function(X,ee){return V(X.lower,ee.lower)});$=Y.map(function(X){return X.upper}),W=Y.map(function(X){return X.lower}),Q=(K=q)==="next"?"":x}J("next"),d=new d.Collection(d,function(){return Ai($[0],W[z-1]+x)}),d._ondirectionchange=function(q){J(q)};var G=0;return d._addAlgorithm(function(q,Y,X){var ee=q.key;if(typeof ee!="string")return!1;var te=A(ee);if(f(te,W,G))return!0;for(var ie=null,se=G;se<z;++se){var de=function(ye,ue,pe,ve,me,be){for(var Le=Math.min(ye.length,ve.length),Ue=-1,$e=0;$e<Le;++$e){var lr=ue[$e];if(lr!==ve[$e])return me(ye[$e],pe[$e])<0?ye.substr(0,$e)+pe[$e]+pe.substr($e+1):me(ye[$e],ve[$e])<0?ye.substr(0,$e)+ve[$e]+pe.substr($e+1):0<=Ue?ye.substr(0,Ue)+ue[Ue]+pe.substr(Ue+1):null;me(ye[$e],lr)<0&&(Ue=$e)}return Le<ve.length&&be==="next"?ye+pe.substr(ye.length):Le<ye.length&&be==="prev"?ye.substr(0,pe.length):Ue<0?null:ye.substr(0,Ue)+ve[Ue]+pe.substr(Ue+1)}(ee,te,$[se],W[se],V,K);de===null&&ie===null?G=se+1:(ie===null||0<V(ie,de))&&(ie=de)}return Y(ie!==null?function(){q.continue(ie+Q)}:X),!1}),d}function Ai(d,f,y,x){return{type:2,lower:d,upper:f,lowerOpen:y,upperOpen:x}}function Jr(d){return{type:1,lower:d,upper:d}}var ff=(Object.defineProperty(Mt.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Mt.prototype.between=function(d,f,y,x){y=y!==!1,x=x===!0;try{return 0<this._cmp(d,f)||this._cmp(d,f)===0&&(y||x)&&(!y||!x)?Qs(this):new this.Collection(this,function(){return Ai(d,f,!y,!x)})}catch{return Gt(this,or)}},Mt.prototype.equals=function(d){return d==null?Gt(this,or):new this.Collection(this,function(){return Jr(d)})},Mt.prototype.above=function(d){return d==null?Gt(this,or):new this.Collection(this,function(){return Ai(d,void 0,!0)})},Mt.prototype.aboveOrEqual=function(d){return d==null?Gt(this,or):new this.Collection(this,function(){return Ai(d,void 0,!1)})},Mt.prototype.below=function(d){return d==null?Gt(this,or):new this.Collection(this,function(){return Ai(void 0,d,!1,!0)})},Mt.prototype.belowOrEqual=function(d){return d==null?Gt(this,or):new this.Collection(this,function(){return Ai(void 0,d)})},Mt.prototype.startsWith=function(d){return typeof d!="string"?Gt(this,lf):this.between(d,d+Dn,!0,!0)},Mt.prototype.startsWithIgnoreCase=function(d){return d===""?this.startsWith(d):Ol(this,function(f,y){return f.indexOf(y[0])===0},[d],Dn)},Mt.prototype.equalsIgnoreCase=function(d){return Ol(this,function(f,y){return f===y[0]},[d],"")},Mt.prototype.anyOfIgnoreCase=function(){var d=_e.apply(le,arguments);return d.length===0?Qs(this):Ol(this,function(f,y){return y.indexOf(f)!==-1},d,"")},Mt.prototype.startsWithAnyOfIgnoreCase=function(){var d=_e.apply(le,arguments);return d.length===0?Qs(this):Ol(this,function(f,y){return y.some(function(x){return f.indexOf(x)===0})},d,Dn)},Mt.prototype.anyOf=function(){var d=this,f=_e.apply(le,arguments),y=this._cmp;try{f.sort(y)}catch{return Gt(this,or)}if(f.length===0)return Qs(this);var x=new this.Collection(this,function(){return Ai(f[0],f[f.length-1])});x._ondirectionchange=function(A){y=A==="next"?d._ascending:d._descending,f.sort(y)};var P=0;return x._addAlgorithm(function(A,V,$){for(var W=A.key;0<y(W,f[P]);)if(++P===f.length)return V($),!1;return y(W,f[P])===0||(V(function(){A.continue(f[P])}),!1)}),x},Mt.prototype.notEqual=function(d){return this.inAnyRange([[-1/0,d],[d,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Mt.prototype.noneOf=function(){var d=_e.apply(le,arguments);if(d.length===0)return new this.Collection(this);try{d.sort(this._ascending)}catch{return Gt(this,or)}var f=d.reduce(function(y,x){return y?y.concat([[y[y.length-1][1],x]]):[[-1/0,x]]},null);return f.push([d[d.length-1],this.db._maxKey]),this.inAnyRange(f,{includeLowers:!1,includeUppers:!1})},Mt.prototype.inAnyRange=function(ee,f){var y=this,x=this._cmp,P=this._ascending,A=this._descending,V=this._min,$=this._max;if(ee.length===0)return Qs(this);if(!ee.every(function(te){return te[0]!==void 0&&te[1]!==void 0&&P(te[0],te[1])<=0}))return Gt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",we.InvalidArgument);var W=!f||f.includeLowers!==!1,K=f&&f.includeUppers===!0,Q,z=P;function J(te,ie){return z(te[0],ie[0])}try{(Q=ee.reduce(function(te,ie){for(var se=0,de=te.length;se<de;++se){var ye=te[se];if(x(ie[0],ye[1])<0&&0<x(ie[1],ye[0])){ye[0]=V(ye[0],ie[0]),ye[1]=$(ye[1],ie[1]);break}}return se===de&&te.push(ie),te},[])).sort(J)}catch{return Gt(this,or)}var G=0,q=K?function(te){return 0<P(te,Q[G][1])}:function(te){return 0<=P(te,Q[G][1])},Y=W?function(te){return 0<A(te,Q[G][0])}:function(te){return 0<=A(te,Q[G][0])},X=q,ee=new this.Collection(this,function(){return Ai(Q[0][0],Q[Q.length-1][1],!W,!K)});return ee._ondirectionchange=function(te){z=te==="next"?(X=q,P):(X=Y,A),Q.sort(J)},ee._addAlgorithm(function(te,ie,se){for(var de,ye=te.key;X(ye);)if(++G===Q.length)return ie(se),!1;return!q(de=ye)&&!Y(de)||(y._cmp(ye,Q[G][1])===0||y._cmp(ye,Q[G][0])===0||ie(function(){z===P?te.continue(Q[G][0]):te.continue(Q[G][1])}),!1)}),ee},Mt.prototype.startsWithAnyOf=function(){var d=_e.apply(le,arguments);return d.every(function(f){return typeof f=="string"})?d.length===0?Qs(this):this.inAnyRange(d.map(function(f){return[f,f+Dn]})):Gt(this,"startsWithAnyOf() only works with strings")},Mt);function Mt(){}function Mn(d){return vt(function(f){return Xs(f),d(f.target.error),!1})}function Xs(d){d.stopPropagation&&d.stopPropagation(),d.preventDefault&&d.preventDefault()}var Zr="storagemutated",as="x-storagemutated-1",ei=Xr(null,Zr),Ou=(nt.prototype._lock=function(){return M(!Ee.global),++this._reculock,this._reculock!==1||Ee.global||(Ee.lockOwnerFor=this),this},nt.prototype._unlock=function(){if(M(!Ee.global),--this._reculock==0)for(Ee.global||(Ee.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var d=this._blockedFuncs.shift();try{Er(d[1],d[0])}catch{}}return this},nt.prototype._locked=function(){return this._reculock&&Ee.lockOwnerFor!==this},nt.prototype.create=function(d){var f=this;if(!this.mode)return this;var y=this.db.idbdb,x=this.db._state.dbOpenError;if(M(!this.idbtrans),!d&&!y)switch(x&&x.name){case"DatabaseClosedError":throw new we.DatabaseClosed(x);case"MissingAPIError":throw new we.MissingAPI(x.message,x);default:throw new we.OpenFailed(x)}if(!this.active)throw new we.TransactionInactive;return M(this._completion._state===null),(d=this.idbtrans=d||(this.db.core||y).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=vt(function(P){Xs(P),f._reject(d.error)}),d.onabort=vt(function(P){Xs(P),f.active&&f._reject(new we.Abort(d.error)),f.active=!1,f.on("abort").fire(P)}),d.oncomplete=vt(function(){f.active=!1,f._resolve(),"mutatedParts"in d&&ei.storagemutated.fire(d.mutatedParts)}),this},nt.prototype._promise=function(d,f,y){var x=this;if(d==="readwrite"&&this.mode!=="readwrite")return gt(new we.ReadOnly("Transaction is readonly"));if(!this.active)return gt(new we.TransactionInactive);if(this._locked())return new ge(function(A,V){x._blockedFuncs.push([function(){x._promise(d,f,y).then(A,V)},Ee])});if(y)return Kr(function(){var A=new ge(function(V,$){x._lock();var W=f(V,$,x);W&&W.then&&W.then(V,$)});return A.finally(function(){return x._unlock()}),A._lib=!0,A});var P=new ge(function(A,V){var $=f(A,V,x);$&&$.then&&$.then(A,V)});return P._lib=!0,P},nt.prototype._root=function(){return this.parent?this.parent._root():this},nt.prototype.waitFor=function(d){var f,y=this._root(),x=ge.resolve(d);y._waitingFor?y._waitingFor=y._waitingFor.then(function(){return x}):(y._waitingFor=x,y._waitingQueue=[],f=y.idbtrans.objectStore(y.storeNames[0]),function A(){for(++y._spinCount;y._waitingQueue.length;)y._waitingQueue.shift()();y._waitingFor&&(f.get(-1/0).onsuccess=A)}());var P=y._waitingFor;return new ge(function(A,V){x.then(function($){return y._waitingQueue.push(vt(A.bind(null,$)))},function($){return y._waitingQueue.push(vt(V.bind(null,$)))}).finally(function(){y._waitingFor===P&&(y._waitingFor=null)})})},nt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new we.Abort))},nt.prototype.table=function(d){var f=this._memoizedTables||(this._memoizedTables={});if(p(f,d))return f[d];var y=this.schema[d];if(!y)throw new we.NotFound("Table "+d+" not part of transaction");return y=new this.db.Table(d,y,this),y.core=this.db.core.table(d),f[d]=y},nt);function nt(){}function Du(d,f,y,x,P,A,V,$){return{name:d,keyPath:f,unique:y,multi:x,auto:P,compound:A,src:(y&&!V?"&":"")+(x?"*":"")+(P?"++":"")+pf(f),type:$}}function pf(d){return typeof d=="string"?d:d?"["+[].join.call(d,"+")+"]":""}function Dl(d,f,y){return{name:d,primKey:f,indexes:y,mappedClass:null,idxByName:(x=function(P){return[P.name,P]},y.reduce(function(P,A,V){return V=x(A,V),V&&(P[V[0]]=V[1]),P},{}))};var x}var Js=function(d){try{return d.only([[]]),Js=function(){return[[]]},[[]]}catch{return Js=function(){return Dn},Dn}};function Ml(d){return d==null?function(){}:typeof d=="string"?(f=d).split(".").length===1?function(y){return y[f]}:function(y){return H(y,f)}:function(y){return H(y,d)};var f}function Ta(d){return[].slice.call(d)}var Ni=0;function Zs(d){return d==null?":id":typeof d=="string"?d:"[".concat(d.join("+"),"]")}function ry(d,f,W){function x(X){if(X.type===3)return null;if(X.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var G=X.lower,q=X.upper,Y=X.lowerOpen,X=X.upperOpen;return G===void 0?q===void 0?null:f.upperBound(q,!!X):q===void 0?f.lowerBound(G,!!Y):f.bound(G,q,!!Y,!!X)}function P(J){var G,q=J.name;return{name:q,schema:J,mutate:function(Y){var X=Y.trans,ee=Y.type,te=Y.keys,ie=Y.values,se=Y.range;return new Promise(function(de,ye){de=vt(de);var ue=X.objectStore(q),pe=ue.keyPath==null,ve=ee==="put"||ee==="add";if(!ve&&ee!=="delete"&&ee!=="deleteRange")throw new Error("Invalid operation type: "+ee);var me,be=(te||ie||{length:1}).length;if(te&&ie&&te.length!==ie.length)throw new Error("Given keys array must have same length as given values array.");if(be===0)return de({numFailures:0,failures:{},results:[],lastResult:void 0});function Le(Ln){++lr,Xs(Ln)}var Ue=[],$e=[],lr=0;if(ee==="deleteRange"){if(se.type===4)return de({numFailures:lr,failures:$e,results:[],lastResult:void 0});se.type===3?Ue.push(me=ue.clear()):Ue.push(me=ue.delete(x(se)))}else{var pe=ve?pe?[ie,te]:[ie,null]:[te,null],je=pe[0],wn=pe[1];if(ve)for(var xn=0;xn<be;++xn)Ue.push(me=wn&&wn[xn]!==void 0?ue[ee](je[xn],wn[xn]):ue[ee](je[xn])),me.onerror=Le;else for(xn=0;xn<be;++xn)Ue.push(me=ue[ee](je[xn])),me.onerror=Le}function vf(Ln){Ln=Ln.target.result,Ue.forEach(function(Na,ly){return Na.error!=null&&($e[ly]=Na.error)}),de({numFailures:lr,failures:$e,results:ee==="delete"?te:Ue.map(function(Na){return Na.result}),lastResult:Ln})}me.onerror=function(Ln){Le(Ln),vf(Ln)},me.onsuccess=vf})},getMany:function(Y){var X=Y.trans,ee=Y.keys;return new Promise(function(te,ie){te=vt(te);for(var se,de=X.objectStore(q),ye=ee.length,ue=new Array(ye),pe=0,ve=0,me=function(Ue){Ue=Ue.target,ue[Ue._pos]=Ue.result,++ve===pe&&te(ue)},be=Mn(ie),Le=0;Le<ye;++Le)ee[Le]!=null&&((se=de.get(ee[Le]))._pos=Le,se.onsuccess=me,se.onerror=be,++pe);pe===0&&te(ue)})},get:function(Y){var X=Y.trans,ee=Y.key;return new Promise(function(te,ie){te=vt(te);var se=X.objectStore(q).get(ee);se.onsuccess=function(de){return te(de.target.result)},se.onerror=Mn(ie)})},query:(G=K,function(Y){return new Promise(function(X,ee){X=vt(X);var te,ie,se,pe=Y.trans,de=Y.values,ye=Y.limit,me=Y.query,ue=ye===1/0?void 0:ye,ve=me.index,me=me.range,pe=pe.objectStore(q),ve=ve.isPrimaryKey?pe:pe.index(ve.name),me=x(me);if(ye===0)return X({result:[]});G?((ue=de?ve.getAll(me,ue):ve.getAllKeys(me,ue)).onsuccess=function(be){return X({result:be.target.result})},ue.onerror=Mn(ee)):(te=0,ie=!de&&"openKeyCursor"in ve?ve.openKeyCursor(me):ve.openCursor(me),se=[],ie.onsuccess=function(be){var Le=ie.result;return Le?(se.push(de?Le.value:Le.primaryKey),++te===ye?X({result:se}):void Le.continue()):X({result:se})},ie.onerror=Mn(ee))})}),openCursor:function(Y){var X=Y.trans,ee=Y.values,te=Y.query,ie=Y.reverse,se=Y.unique;return new Promise(function(de,ye){de=vt(de);var ve=te.index,ue=te.range,pe=X.objectStore(q),pe=ve.isPrimaryKey?pe:pe.index(ve.name),ve=ie?se?"prevunique":"prev":se?"nextunique":"next",me=!ee&&"openKeyCursor"in pe?pe.openKeyCursor(x(ue),ve):pe.openCursor(x(ue),ve);me.onerror=Mn(ye),me.onsuccess=vt(function(be){var Le,Ue,$e,lr,je=me.result;je?(je.___id=++Ni,je.done=!1,Le=je.continue.bind(je),Ue=(Ue=je.continuePrimaryKey)&&Ue.bind(je),$e=je.advance.bind(je),lr=function(){throw new Error("Cursor not stopped")},je.trans=X,je.stop=je.continue=je.continuePrimaryKey=je.advance=function(){throw new Error("Cursor not started")},je.fail=vt(ye),je.next=function(){var wn=this,xn=1;return this.start(function(){return xn--?wn.continue():wn.stop()}).then(function(){return wn})},je.start=function(wn){function xn(){if(me.result)try{wn()}catch(Ln){je.fail(Ln)}else je.done=!0,je.start=function(){throw new Error("Cursor behind last entry")},je.stop()}var vf=new Promise(function(Ln,Na){Ln=vt(Ln),me.onerror=Mn(Na),je.fail=Na,je.stop=function(ly){je.stop=je.continue=je.continuePrimaryKey=je.advance=lr,Ln(ly)}});return me.onsuccess=vt(function(Ln){me.onsuccess=xn,xn()}),je.continue=Le,je.continuePrimaryKey=Ue,je.advance=$e,xn(),vf},de(je)):de(null)},ye)})},count:function(Y){var X=Y.query,ee=Y.trans,te=X.index,ie=X.range;return new Promise(function(se,de){var ye=ee.objectStore(q),ue=te.isPrimaryKey?ye:ye.index(te.name),ye=x(ie),ue=ye?ue.count(ye):ue.count();ue.onsuccess=vt(function(pe){return se(pe.target.result)}),ue.onerror=Mn(de)})}}}var A,V,$,Q=(V=W,$=Ta((A=d).objectStoreNames),{schema:{name:A.name,tables:$.map(function(J){return V.objectStore(J)}).map(function(J){var G=J.keyPath,X=J.autoIncrement,q=a(G),Y={},X={name:J.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:G==null,compound:q,keyPath:G,autoIncrement:X,unique:!0,extractKey:Ml(G)},indexes:Ta(J.indexNames).map(function(ee){return J.index(ee)}).map(function(se){var te=se.name,ie=se.unique,de=se.multiEntry,se=se.keyPath,de={name:te,compound:a(se),keyPath:se,unique:ie,multiEntry:de,extractKey:Ml(se)};return Y[Zs(se)]=de}),getIndexByKeyPath:function(ee){return Y[Zs(ee)]}};return Y[":id"]=X.primaryKey,G!=null&&(Y[Zs(G)]=X.primaryKey),X})},hasGetAll:0<$.length&&"getAll"in V.objectStore($[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),W=Q.schema,K=Q.hasGetAll,Q=W.tables.map(P),z={};return Q.forEach(function(J){return z[J.name]=J}),{stack:"dbcore",transaction:d.transaction.bind(d),table:function(J){if(!z[J])throw new Error("Table '".concat(J,"' not found"));return z[J]},MIN_KEY:-1/0,MAX_KEY:Js(f),schema:W}}function Pa(d,f,y,x){var P=y.IDBKeyRange;return y.indexedDB,{dbcore:(x=ry(f,P,x),d.dbcore.reduce(function(A,V){return V=V.create,r(r({},A),V(A))},x))}}function Ia(d,x){var y=x.db,x=Pa(d._middlewares,y,d._deps,x);d.core=x.dbcore,d.tables.forEach(function(P){var A=P.name;d.core.schema.tables.some(function(V){return V.name===A})&&(P.core=d.core.table(A),d[A]instanceof d.Table&&(d[A].core=P.core))})}function eo(d,f,y,x){y.forEach(function(P){var A=x[P];f.forEach(function(V){var $=function W(K,Q){return I(K,Q)||(K=c(K))&&W(K,Q)}(V,P);(!$||"value"in $&&$.value===void 0)&&(V===d.Transaction.prototype||V instanceof d.Transaction?T(V,P,{get:function(){return this.table(P)},set:function(W){w(this,P,{value:W,writable:!0,configurable:!0,enumerable:!0})}}):V[P]=new d.Table(P,A))})})}function to(d,f){f.forEach(function(y){for(var x in y)y[x]instanceof d.Table&&delete y[x]})}function mf(d,f){return d._cfg.version-f._cfg.version}function jl(d,f,y,x){var P=d._dbSchema;y.objectStoreNames.contains("$meta")&&!P.$meta&&(P.$meta=Dl("$meta",ju("")[0],[]),d._storeNames.push("$meta"));var A=d._createTransaction("readwrite",d._storeNames,P);A.create(y),A._completion.catch(x);var V=A._reject.bind(A),$=Ee.transless||Ee;Kr(function(){return Ee.trans=A,Ee.transless=$,f!==0?(Ia(d,y),K=f,((W=A).storeNames.includes("$meta")?W.table("$meta").get("version").then(function(Q){return Q??K}):ge.resolve(K)).then(function(Q){return J=Q,G=A,q=y,Y=[],Q=(z=d)._versions,X=z._dbSchema=no(0,z.idbdb,q),(Q=Q.filter(function(ee){return ee._cfg.version>=J})).length!==0?(Q.forEach(function(ee){Y.push(function(){var te=X,ie=ee._cfg.dbschema;ro(z,te,q),ro(z,ie,q),X=z._dbSchema=ie;var se=Ll(te,ie);se.add.forEach(function(ve){ls(q,ve[0],ve[1].primKey,ve[1].indexes)}),se.change.forEach(function(ve){if(ve.recreate)throw new we.Upgrade("Not yet support for changing primary key");var me=q.objectStore(ve.name);ve.add.forEach(function(be){return ka(me,be)}),ve.change.forEach(function(be){me.deleteIndex(be.name),ka(me,be)}),ve.del.forEach(function(be){return me.deleteIndex(be)})});var de=ee._cfg.contentUpgrade;if(de&&ee._cfg.version>J){Ia(z,q),G._memoizedTables={};var ye=R(ie);se.del.forEach(function(ve){ye[ve]=te[ve]}),to(z,[z.Transaction.prototype]),eo(z,[z.Transaction.prototype],o(ye),ye),G.schema=ye;var ue,pe=Re(de);return pe&&Pi(),se=ge.follow(function(){var ve;(ue=de(G))&&pe&&(ve=Sr.bind(null,null),ue.then(ve,ve))}),ue&&typeof ue.then=="function"?ge.resolve(ue):se.then(function(){return ue})}}),Y.push(function(te){var ie,se,de=ee._cfg.dbschema;ie=de,se=te,[].slice.call(se.db.objectStoreNames).forEach(function(ye){return ie[ye]==null&&se.db.deleteObjectStore(ye)}),to(z,[z.Transaction.prototype]),eo(z,[z.Transaction.prototype],z._storeNames,z._dbSchema),G.schema=z._dbSchema}),Y.push(function(te){z.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(z.idbdb.version/10)===ee._cfg.version?(z.idbdb.deleteObjectStore("$meta"),delete z._dbSchema.$meta,z._storeNames=z._storeNames.filter(function(ie){return ie!=="$meta"})):te.objectStore("$meta").put(ee._cfg.version,"version"))})}),function ee(){return Y.length?ge.resolve(Y.shift()(G.idbtrans)).then(ee):ge.resolve()}().then(function(){Mu(X,q)})):ge.resolve();var z,J,G,q,Y,X}).catch(V)):(o(P).forEach(function(Q){ls(y,Q,P[Q].primKey,P[Q].indexes)}),Ia(d,y),void ge.follow(function(){return d.on.populate.fire(A)}).catch(V));var W,K})}function iy(d,f){Mu(d._dbSchema,f),f.db.version%10!=0||f.objectStoreNames.contains("$meta")||f.db.createObjectStore("$meta").add(Math.ceil(f.db.version/10-1),"version");var y=no(0,d.idbdb,f);ro(d,d._dbSchema,f);for(var x=0,P=Ll(y,d._dbSchema).change;x<P.length;x++){var A=function(V){if(V.change.length||V.recreate)return console.warn("Unable to patch indexes of table ".concat(V.name," because it has changes on the type of index or primary key.")),{value:void 0};var $=f.objectStore(V.name);V.add.forEach(function(W){On&&console.debug("Dexie upgrade patch: Creating missing index ".concat(V.name,".").concat(W.src)),ka($,W)})}(P[x]);if(typeof A=="object")return A.value}}function Ll(d,f){var y,x={del:[],add:[],change:[]};for(y in d)f[y]||x.del.push(y);for(y in f){var P=d[y],A=f[y];if(P){var V={name:y,def:A,recreate:!1,del:[],add:[],change:[]};if(""+(P.primKey.keyPath||"")!=""+(A.primKey.keyPath||"")||P.primKey.auto!==A.primKey.auto)V.recreate=!0,x.change.push(V);else{var $=P.idxByName,W=A.idxByName,K=void 0;for(K in $)W[K]||V.del.push(K);for(K in W){var Q=$[K],z=W[K];Q?Q.src!==z.src&&V.change.push(z):V.add.push(z)}(0<V.del.length||0<V.add.length||0<V.change.length)&&x.change.push(V)}}else x.add.push([y,A])}return x}function ls(d,f,y,x){var P=d.db.createObjectStore(f,y.keyPath?{keyPath:y.keyPath,autoIncrement:y.auto}:{autoIncrement:y.auto});return x.forEach(function(A){return ka(P,A)}),P}function Mu(d,f){o(d).forEach(function(y){f.db.objectStoreNames.contains(y)||(On&&console.debug("Dexie: Creating missing table",y),ls(f,y,d[y].primKey,d[y].indexes))})}function ka(d,f){d.createIndex(f.name,f.keyPath,{unique:f.unique,multiEntry:f.multi})}function no(d,f,y){var x={};return E(f.objectStoreNames,0).forEach(function(P){for(var A=y.objectStore(P),V=Du(pf(K=A.keyPath),K||"",!0,!1,!!A.autoIncrement,K&&typeof K!="string",!0),$=[],W=0;W<A.indexNames.length;++W){var Q=A.index(A.indexNames[W]),K=Q.keyPath,Q=Du(Q.name,K,!!Q.unique,!!Q.multiEntry,!1,K&&typeof K!="string",!1);$.push(Q)}x[P]=Dl(P,V,$)}),x}function ro(d,f,y){for(var x=y.db.objectStoreNames,P=0;P<x.length;++P){var A=x[P],V=y.objectStore(A);d._hasGetAll="getAll"in V;for(var $=0;$<V.indexNames.length;++$){var W=V.indexNames[$],K=V.index(W).keyPath,Q=typeof K=="string"?K:"["+E(K).join("+")+"]";!f[A]||(K=f[A].idxByName[Q])&&(K.name=W,delete f[A].idxByName[Q],f[A].idxByName[W]=K)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&s.WorkerGlobalScope&&s instanceof s.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(d._hasGetAll=!1)}function ju(d){return d.split(",").map(function(f,y){var A=f.split(":"),x=(P=A[1])===null||P===void 0?void 0:P.trim(),P=(f=A[0].trim()).replace(/([&*]|\+\+)/g,""),A=/^\[/.test(P)?P.match(/^\[(.*)\]$/)[1].split("+"):P;return Du(P,A||null,/\&/.test(f),/\*/.test(f),/\+\+/.test(f),a(A),y===0,x)})}var Fl=(cs.prototype._createTableSchema=Dl,cs.prototype._parseIndexSyntax=ju,cs.prototype._parseStoresSpec=function(d,f){var y=this;o(d).forEach(function(x){if(d[x]!==null){var P=y._parseIndexSyntax(d[x]),A=P.shift();if(!A)throw new we.Schema("Invalid schema for table "+x+": "+d[x]);if(A.unique=!0,A.multi)throw new we.Schema("Primary key cannot be multiEntry*");P.forEach(function(V){if(V.auto)throw new we.Schema("Only primary key can be marked as autoIncrement (++)");if(!V.keyPath)throw new we.Schema("Index must have a name and cannot be an empty string")}),P=y._createTableSchema(x,A,P),f[x]=P}})},cs.prototype.stores=function(y){var f=this.db;this._cfg.storesSource=this._cfg.storesSource?l(this._cfg.storesSource,y):y;var y=f._versions,x={},P={};return y.forEach(function(A){l(x,A._cfg.storesSource),P=A._cfg.dbschema={},A._parseStoresSpec(x,P)}),f._dbSchema=P,to(f,[f._allTables,f,f.Transaction.prototype]),eo(f,[f._allTables,f,f.Transaction.prototype,this._cfg.tables],o(P),P),f._storeNames=o(P),this},cs.prototype.upgrade=function(d){return this._cfg.contentUpgrade=Xt(this._cfg.contentUpgrade||Pe,d),this},cs);function cs(){}function Vl(d,f){var y=d._dbNamesDB;return y||(y=d._dbNamesDB=new hs(xa,{addons:[],indexedDB:d,IDBKeyRange:f})).version(1).stores({dbnames:"name"}),y.table("dbnames")}function ti(d){return d&&typeof d.databases=="function"}function Ul(d){return Kr(function(){return Ee.letThrough=!0,d()})}function Bl(d){return!("from"in d)}var Jt=function(d,f){if(!this){var y=new Jt;return d&&"d"in d&&l(y,d),y}l(this,arguments.length?{d:1,from:d,to:1<arguments.length?f:d}:{d:0})};function io(d,f,y){var x=He(f,y);if(!isNaN(x)){if(0<x)throw RangeError();if(Bl(d))return l(d,{from:f,to:y,d:1});var P=d.l,x=d.r;if(He(y,d.from)<0)return P?io(P,f,y):d.l={from:f,to:y,d:1,l:null,r:null},us(d);if(0<He(f,d.to))return x?io(x,f,y):d.r={from:f,to:y,d:1,l:null,r:null},us(d);He(f,d.from)<0&&(d.from=f,d.l=null,d.d=x?x.d+1:1),0<He(y,d.to)&&(d.to=y,d.r=null,d.d=d.l?d.l.d+1:1),y=!d.r,P&&!d.l&&sn(d,P),x&&y&&sn(d,x)}}function sn(d,f){Bl(f)||function y(x,W){var A=W.from,V=W.to,$=W.l,W=W.r;io(x,A,V),$&&y(x,$),W&&y(x,W)}(d,f)}function Lu(d,f){var y=Ra(f),x=y.next();if(x.done)return!1;for(var P=x.value,A=Ra(d),V=A.next(P.from),$=V.value;!x.done&&!V.done;){if(He($.from,P.to)<=0&&0<=He($.to,P.from))return!0;He(P.from,$.from)<0?P=(x=y.next($.from)).value:$=(V=A.next(P.from)).value}return!1}function Ra(d){var f=Bl(d)?null:{s:0,n:d};return{next:function(y){for(var x=0<arguments.length;f;)switch(f.s){case 0:if(f.s=1,x)for(;f.n.l&&He(y,f.n.from)<0;)f={up:f,n:f.n.l,s:1};else for(;f.n.l;)f={up:f,n:f.n.l,s:1};case 1:if(f.s=2,!x||He(y,f.n.to)<=0)return{value:f.n,done:!1};case 2:if(f.n.r){f.s=3,f={up:f,n:f.n.r,s:0};continue}case 3:f=f.up}return{done:!0}}}}function us(d){var f,y,x=(((f=d.r)===null||f===void 0?void 0:f.d)||0)-(((y=d.l)===null||y===void 0?void 0:y.d)||0),P=1<x?"r":x<-1?"l":"";P&&(f=P=="r"?"l":"r",y=r({},d),x=d[P],d.from=x.from,d.to=x.to,d[P]=x[P],y[P]=x[f],(d[f]=y).d=u(y)),d.d=u(d)}function u(y){var f=y.r,y=y.l;return(f?y?Math.max(f.d,y.d):f.d:y?y.d:0)+1}function v(d,f){return o(f).forEach(function(y){d[y]?sn(d[y],f[y]):d[y]=function x(P){var A,V,$={};for(A in P)p(P,A)&&(V=P[A],$[A]=!V||typeof V!="object"||B.has(V.constructor)?V:x(V));return $}(f[y])}),d}function C(d,f){return d.all||f.all||Object.keys(d).some(function(y){return f[y]&&Lu(f[y],d[y])})}m(Jt.prototype,((Pr={add:function(d){return sn(this,d),this},addKey:function(d){return io(this,d,d),this},addKeys:function(d){var f=this;return d.forEach(function(y){return io(f,y,y)}),this},hasKey:function(d){var f=Ra(this).next(d).value;return f&&He(f.from,d)<=0&&0<=He(f.to,d)}})[xe]=function(){return Ra(this)},Pr));var O={},Z={},ne=!1;function fe(d){v(Z,d),ne||(ne=!0,setTimeout(function(){ne=!1,Me(Z,!(Z={}))},0))}function Me(d,f){f===void 0&&(f=!1);var y=new Set;if(d.all)for(var x=0,P=Object.values(O);x<P.length;x++)jt(V=P[x],d,y,f);else for(var A in d){var V,$=/^idb\:\/\/(.*)\/(.*)\//.exec(A);$&&(A=$[1],$=$[2],(V=O["idb://".concat(A,"/").concat($)])&&jt(V,d,y,f))}y.forEach(function(W){return W()})}function jt(d,f,y,x){for(var P=[],A=0,V=Object.entries(d.queries.query);A<V.length;A++){for(var $=V[A],W=$[0],K=[],Q=0,z=$[1];Q<z.length;Q++){var J=z[Q];C(f,J.obsSet)?J.subscribers.forEach(function(X){return y.add(X)}):x&&K.push(J)}x&&P.push([W,K])}if(x)for(var G=0,q=P;G<q.length;G++){var Y=q[G],W=Y[0],K=Y[1];d.queries.query[W]=K}}function ct(d){var f=d._state,y=d._deps.indexedDB;if(f.isBeingOpened||d.idbdb)return f.dbReadyPromise.then(function(){return f.dbOpenError?gt(f.dbOpenError):d});f.isBeingOpened=!0,f.dbOpenError=null,f.openComplete=!1;var x=f.openCanceller,P=Math.round(10*d.verno),A=!1;function V(){if(f.openCanceller!==x)throw new we.DatabaseClosed("db.open() was cancelled")}function $(){return new ge(function(J,G){if(V(),!y)throw new we.MissingAPI;var q=d.name,Y=f.autoSchema||!P?y.open(q):y.open(q,P);if(!Y)throw new we.MissingAPI;Y.onerror=Mn(G),Y.onblocked=vt(d._fireOnBlocked),Y.onupgradeneeded=vt(function(X){var ee;Q=Y.transaction,f.autoSchema&&!d._options.allowEmptyDB?(Y.onerror=Xs,Q.abort(),Y.result.close(),(ee=y.deleteDatabase(q)).onsuccess=ee.onerror=vt(function(){G(new we.NoSuchDatabase("Database ".concat(q," doesnt exist")))})):(Q.onerror=Mn(G),X=X.oldVersion>Math.pow(2,62)?0:X.oldVersion,z=X<1,d.idbdb=Y.result,A&&iy(d,Q),jl(d,X/10,Q,G))},G),Y.onsuccess=vt(function(){Q=null;var X,ee,te,ie,se,de=d.idbdb=Y.result,ye=E(de.objectStoreNames);if(0<ye.length)try{var ue=de.transaction((ie=ye).length===1?ie[0]:ie,"readonly");if(f.autoSchema)ee=de,te=ue,(X=d).verno=ee.version/10,te=X._dbSchema=no(0,ee,te),X._storeNames=E(ee.objectStoreNames,0),eo(X,[X._allTables],o(te),te);else if(ro(d,d._dbSchema,ue),((se=Ll(no(0,(se=d).idbdb,ue),se._dbSchema)).add.length||se.change.some(function(pe){return pe.add.length||pe.change.length}))&&!A)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),de.close(),P=de.version+1,A=!0,J($());Ia(d,ue)}catch{}ss.push(d),de.onversionchange=vt(function(pe){f.vcFired=!0,d.on("versionchange").fire(pe)}),de.onclose=vt(function(){d.close({disableAutoOpen:!1})}),z&&(se=d._deps,ue=q,de=se.indexedDB,se=se.IDBKeyRange,ti(de)||ue===xa||Vl(de,se).put({name:ue}).catch(Pe)),J()},G)}).catch(function(J){switch(J==null?void 0:J.name){case"UnknownError":if(0<f.PR1398_maxLoop)return f.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),$();break;case"VersionError":if(0<P)return P=0,$()}return ge.reject(J)})}var W,K=f.dbReadyResolve,Q=null,z=!1;return ge.race([x,(typeof navigator>"u"?ge.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(J){function G(){return indexedDB.databases().finally(J)}W=setInterval(G,100),G()}).finally(function(){return clearInterval(W)}):Promise.resolve()).then($)]).then(function(){return V(),f.onReadyBeingFired=[],ge.resolve(Ul(function(){return d.on.ready.fire(d.vip)})).then(function J(){if(0<f.onReadyBeingFired.length){var G=f.onReadyBeingFired.reduce(Xt,Pe);return f.onReadyBeingFired=[],ge.resolve(Ul(function(){return G(d.vip)})).then(J)}})}).finally(function(){f.openCanceller===x&&(f.onReadyBeingFired=null,f.isBeingOpened=!1)}).catch(function(J){f.dbOpenError=J;try{Q&&Q.abort()}catch{}return x===f.openCanceller&&d._close(),gt(J)}).finally(function(){f.openComplete=!0,K()}).then(function(){var J;return z&&(J={},d.tables.forEach(function(G){G.schema.indexes.forEach(function(q){q.name&&(J["idb://".concat(d.name,"/").concat(G.name,"/").concat(q.name)]=new Jt(-1/0,[[[]]]))}),J["idb://".concat(d.name,"/").concat(G.name,"/")]=J["idb://".concat(d.name,"/").concat(G.name,"/:dels")]=new Jt(-1/0,[[[]]])}),ei(Zr).fire(J),Me(J,!0)),d})}function Lt(d){function f(A){return d.next(A)}var y=P(f),x=P(function(A){return d.throw(A)});function P(A){return function(W){var $=A(W),W=$.value;return $.done?W:W&&typeof W.then=="function"?W.then(y,x):a(W)?Promise.all(W).then(y,x):y(W)}}return P(f)()}function jn(d,f,y){for(var x=a(d)?d.slice():[d],P=0;P<y;++P)x.push(f);return x}var ds={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(d){return r(r({},d),{table:function(f){var y=d.table(f),x=y.schema,P={},A=[];function V(z,J,G){var q=Zs(z),Y=P[q]=P[q]||[],X=z==null?0:typeof z=="string"?1:z.length,ee=0<J,ee=r(r({},G),{name:ee?"".concat(q,"(virtual-from:").concat(G.name,")"):G.name,lowLevelIndex:G,isVirtual:ee,keyTail:J,keyLength:X,extractKey:Ml(z),unique:!ee&&G.unique});return Y.push(ee),ee.isPrimaryKey||A.push(ee),1<X&&V(X===2?z[0]:z.slice(0,X-1),J+1,G),Y.sort(function(te,ie){return te.keyTail-ie.keyTail}),ee}f=V(x.primaryKey.keyPath,0,x.primaryKey),P[":id"]=[f];for(var $=0,W=x.indexes;$<W.length;$++){var K=W[$];V(K.keyPath,0,K)}function Q(z){var J,G=z.query.index;return G.isVirtual?r(r({},z),{query:{index:G.lowLevelIndex,range:(J=z.query.range,G=G.keyTail,{type:J.type===1?2:J.type,lower:jn(J.lower,J.lowerOpen?d.MAX_KEY:d.MIN_KEY,G),lowerOpen:!0,upper:jn(J.upper,J.upperOpen?d.MIN_KEY:d.MAX_KEY,G),upperOpen:!0})}}):z}return r(r({},y),{schema:r(r({},x),{primaryKey:f,indexes:A,getIndexByKeyPath:function(z){return(z=P[Zs(z)])&&z[0]}}),count:function(z){return y.count(Q(z))},query:function(z){return y.query(Q(z))},openCursor:function(z){var J=z.query.index,G=J.keyTail,q=J.isVirtual,Y=J.keyLength;return q?y.openCursor(Q(z)).then(function(ee){return ee&&X(ee)}):y.openCursor(z);function X(ee){return Object.create(ee,{continue:{value:function(te){te!=null?ee.continue(jn(te,z.reverse?d.MAX_KEY:d.MIN_KEY,G)):z.unique?ee.continue(ee.key.slice(0,Y).concat(z.reverse?d.MIN_KEY:d.MAX_KEY,G)):ee.continue()}},continuePrimaryKey:{value:function(te,ie){ee.continuePrimaryKey(jn(te,d.MAX_KEY,G),ie)}},primaryKey:{get:function(){return ee.primaryKey}},key:{get:function(){var te=ee.key;return Y===1?te[0]:te.slice(0,Y)}},value:{get:function(){return ee.value}}})}}})}})}};function Cr(d,f,y,x){return y=y||{},x=x||"",o(d).forEach(function(P){var A,V,$;p(f,P)?(A=d[P],V=f[P],typeof A=="object"&&typeof V=="object"&&A&&V?($=Ce(A))!==Ce(V)?y[x+P]=f[P]:$==="Object"?Cr(A,V,y,x+P+"."):A!==V&&(y[x+P]=f[P]):A!==V&&(y[x+P]=f[P])):y[x+P]=void 0}),o(f).forEach(function(P){p(d,P)||(y[x+P]=f[P])}),y}function Tr(d,f){return f.type==="delete"?f.keys:f.keys||f.values.map(d.extractKey)}var $l={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(d){return r(r({},d),{table:function(f){var y=d.table(f),x=y.schema.primaryKey;return r(r({},y),{mutate:function(P){var A=Ee.trans,V=A.table(f).hook,$=V.deleting,W=V.creating,K=V.updating;switch(P.type){case"add":if(W.fire===Pe)break;return A._promise("readwrite",function(){return Q(P)},!0);case"put":if(W.fire===Pe&&K.fire===Pe)break;return A._promise("readwrite",function(){return Q(P)},!0);case"delete":if($.fire===Pe)break;return A._promise("readwrite",function(){return Q(P)},!0);case"deleteRange":if($.fire===Pe)break;return A._promise("readwrite",function(){return function z(J,G,q){return y.query({trans:J,values:!1,query:{index:x,range:G},limit:q}).then(function(Y){var X=Y.result;return Q({type:"delete",keys:X,trans:J}).then(function(ee){return 0<ee.numFailures?Promise.reject(ee.failures[0]):X.length<q?{failures:[],numFailures:0,lastResult:void 0}:z(J,r(r({},G),{lower:X[X.length-1],lowerOpen:!0}),q)})})}(P.trans,P.range,1e4)},!0)}return y.mutate(P);function Q(z){var J,G,q,Y=Ee.trans,X=z.keys||Tr(x,z);if(!X)throw new Error("Keys missing");return(z=z.type==="add"||z.type==="put"?r(r({},z),{keys:X}):r({},z)).type!=="delete"&&(z.values=i([],z.values)),z.keys&&(z.keys=i([],z.keys)),J=y,q=X,((G=z).type==="add"?Promise.resolve([]):J.getMany({trans:G.trans,keys:q,cache:"immutable"})).then(function(ee){var te=X.map(function(ie,se){var de,ye,ue,pe=ee[se],ve={onerror:null,onsuccess:null};return z.type==="delete"?$.fire.call(ve,ie,pe,Y):z.type==="add"||pe===void 0?(de=W.fire.call(ve,ie,z.values[se],Y),ie==null&&de!=null&&(z.keys[se]=ie=de,x.outbound||N(z.values[se],x.keyPath,ie))):(de=Cr(pe,z.values[se]),(ye=K.fire.call(ve,de,ie,pe,Y))&&(ue=z.values[se],Object.keys(ye).forEach(function(me){p(ue,me)?ue[me]=ye[me]:N(ue,me,ye[me])}))),ve});return y.mutate(z).then(function(ie){for(var se=ie.failures,de=ie.results,ye=ie.numFailures,ie=ie.lastResult,ue=0;ue<X.length;++ue){var pe=(de||X)[ue],ve=te[ue];pe==null?ve.onerror&&ve.onerror(se[ue]):ve.onsuccess&&ve.onsuccess(z.type==="put"&&ee[ue]?z.values[ue]:pe)}return{failures:se,results:de,numFailures:ye,lastResult:ie}}).catch(function(ie){return te.forEach(function(se){return se.onerror&&se.onerror(ie)}),Promise.reject(ie)})})}}})}})}};function zl(d,f,y){try{if(!f||f.keys.length<d.length)return null;for(var x=[],P=0,A=0;P<f.keys.length&&A<d.length;++P)He(f.keys[P],d[A])===0&&(x.push(y?F(f.values[P]):f.values[P]),++A);return x.length===d.length?x:null}catch{return null}}var GM={stack:"dbcore",level:-1,create:function(d){return{table:function(f){var y=d.table(f);return r(r({},y),{getMany:function(x){if(!x.cache)return y.getMany(x);var P=zl(x.keys,x.trans._cache,x.cache==="clone");return P?ge.resolve(P):y.getMany(x).then(function(A){return x.trans._cache={keys:x.keys,values:x.cache==="clone"?F(A):A},A})},mutate:function(x){return x.type!=="add"&&(x.trans._cache=null),y.mutate(x)}})}}}};function z1(d,f){return d.trans.mode==="readonly"&&!!d.subscr&&!d.trans.explicit&&d.trans.db._options.cache!=="disabled"&&!f.schema.primaryKey.outbound}function W1(d,f){switch(d){case"query":return f.values&&!f.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var qM={stack:"dbcore",level:0,name:"Observability",create:function(d){var f=d.schema.name,y=new Jt(d.MIN_KEY,d.MAX_KEY);return r(r({},d),{transaction:function(x,P,A){if(Ee.subscr&&P!=="readonly")throw new we.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(Ee.querier));return d.transaction(x,P,A)},table:function(x){var P=d.table(x),A=P.schema,V=A.primaryKey,z=A.indexes,$=V.extractKey,W=V.outbound,K=V.autoIncrement&&z.filter(function(G){return G.compound&&G.keyPath.includes(V.keyPath)}),Q=r(r({},P),{mutate:function(G){function q(me){return me="idb://".concat(f,"/").concat(x,"/").concat(me),ie[me]||(ie[me]=new Jt)}var Y,X,ee,te=G.trans,ie=G.mutatedParts||(G.mutatedParts={}),se=q(""),de=q(":dels"),ye=G.type,ve=G.type==="deleteRange"?[G.range]:G.type==="delete"?[G.keys]:G.values.length<50?[Tr(V,G).filter(function(me){return me}),G.values]:[],ue=ve[0],pe=ve[1],ve=G.trans._cache;return a(ue)?(se.addKeys(ue),(ve=ye==="delete"||ue.length===pe.length?zl(ue,ve):null)||de.addKeys(ue),(ve||pe)&&(Y=q,X=ve,ee=pe,A.indexes.forEach(function(me){var be=Y(me.name||"");function Le($e){return $e!=null?me.extractKey($e):null}function Ue($e){return me.multiEntry&&a($e)?$e.forEach(function(lr){return be.addKey(lr)}):be.addKey($e)}(X||ee).forEach(function($e,wn){var je=X&&Le(X[wn]),wn=ee&&Le(ee[wn]);He(je,wn)!==0&&(je!=null&&Ue(je),wn!=null&&Ue(wn))})}))):ue?(pe={from:(pe=ue.lower)!==null&&pe!==void 0?pe:d.MIN_KEY,to:(pe=ue.upper)!==null&&pe!==void 0?pe:d.MAX_KEY},de.add(pe),se.add(pe)):(se.add(y),de.add(y),A.indexes.forEach(function(me){return q(me.name).add(y)})),P.mutate(G).then(function(me){return!ue||G.type!=="add"&&G.type!=="put"||(se.addKeys(me.results),K&&K.forEach(function(be){for(var Le=G.values.map(function(je){return be.extractKey(je)}),Ue=be.keyPath.findIndex(function(je){return je===V.keyPath}),$e=0,lr=me.results.length;$e<lr;++$e)Le[$e][Ue]=me.results[$e];q(be.name).addKeys(Le)})),te.mutatedParts=v(te.mutatedParts||{},ie),me})}}),z=function(q){var Y=q.query,q=Y.index,Y=Y.range;return[q,new Jt((q=Y.lower)!==null&&q!==void 0?q:d.MIN_KEY,(Y=Y.upper)!==null&&Y!==void 0?Y:d.MAX_KEY)]},J={get:function(G){return[V,new Jt(G.key)]},getMany:function(G){return[V,new Jt().addKeys(G.keys)]},count:z,query:z,openCursor:z};return o(J).forEach(function(G){Q[G]=function(q){var Y=Ee.subscr,X=!!Y,ee=z1(Ee,P)&&W1(G,q)?q.obsSet={}:Y;if(X){var te=function(pe){return pe="idb://".concat(f,"/").concat(x,"/").concat(pe),ee[pe]||(ee[pe]=new Jt)},ie=te(""),se=te(":dels"),Y=J[G](q),X=Y[0],Y=Y[1];if((G==="query"&&X.isPrimaryKey&&!q.values?se:te(X.name||"")).add(Y),!X.isPrimaryKey){if(G!=="count"){var de=G==="query"&&W&&q.values&&P.query(r(r({},q),{values:!1}));return P[G].apply(this,arguments).then(function(pe){if(G==="query"){if(W&&q.values)return de.then(function(Le){return Le=Le.result,ie.addKeys(Le),pe});var ve=q.values?pe.result.map($):pe.result;(q.values?ie:se).addKeys(ve)}else if(G==="openCursor"){var me=pe,be=q.values;return me&&Object.create(me,{key:{get:function(){return se.addKey(me.primaryKey),me.key}},primaryKey:{get:function(){var Le=me.primaryKey;return se.addKey(Le),Le}},value:{get:function(){return be&&ie.addKey(me.primaryKey),me.value}}})}return pe})}se.add(y)}}return P[G].apply(this,arguments)}}),Q}})}};function H1(d,f,y){if(y.numFailures===0)return f;if(f.type==="deleteRange")return null;var x=f.keys?f.keys.length:"values"in f&&f.values?f.values.length:1;return y.numFailures===x?null:(f=r({},f),a(f.keys)&&(f.keys=f.keys.filter(function(P,A){return!(A in y.failures)})),"values"in f&&a(f.values)&&(f.values=f.values.filter(function(P,A){return!(A in y.failures)})),f)}function sy(d,f){return y=d,((x=f).lower===void 0||(x.lowerOpen?0<He(y,x.lower):0<=He(y,x.lower)))&&(d=d,(f=f).upper===void 0||(f.upperOpen?He(d,f.upper)<0:He(d,f.upper)<=0));var y,x}function K1(d,f,J,x,P,A){if(!J||J.length===0)return d;var V=f.query.index,$=V.multiEntry,W=f.query.range,K=x.schema.primaryKey.extractKey,Q=V.extractKey,z=(V.lowLevelIndex||V).extractKey,J=J.reduce(function(G,q){var Y=G,X=[];if(q.type==="add"||q.type==="put")for(var ee=new Jt,te=q.values.length-1;0<=te;--te){var ie,se=q.values[te],de=K(se);ee.hasKey(de)||(ie=Q(se),($&&a(ie)?ie.some(function(me){return sy(me,W)}):sy(ie,W))&&(ee.addKey(de),X.push(se)))}switch(q.type){case"add":var ye=new Jt().addKeys(f.values?G.map(function(be){return K(be)}):G),Y=G.concat(f.values?X.filter(function(be){return be=K(be),!ye.hasKey(be)&&(ye.addKey(be),!0)}):X.map(function(be){return K(be)}).filter(function(be){return!ye.hasKey(be)&&(ye.addKey(be),!0)}));break;case"put":var ue=new Jt().addKeys(q.values.map(function(be){return K(be)}));Y=G.filter(function(be){return!ue.hasKey(f.values?K(be):be)}).concat(f.values?X:X.map(function(be){return K(be)}));break;case"delete":var pe=new Jt().addKeys(q.keys);Y=G.filter(function(be){return!pe.hasKey(f.values?K(be):be)});break;case"deleteRange":var ve=q.range;Y=G.filter(function(be){return!sy(K(be),ve)})}return Y},d);return J===d?d:(J.sort(function(G,q){return He(z(G),z(q))||He(K(G),K(q))}),f.limit&&f.limit<1/0&&(J.length>f.limit?J.length=f.limit:d.length===f.limit&&J.length<f.limit&&(P.dirty=!0)),A?Object.freeze(J):J)}function G1(d,f){return He(d.lower,f.lower)===0&&He(d.upper,f.upper)===0&&!!d.lowerOpen==!!f.lowerOpen&&!!d.upperOpen==!!f.upperOpen}function YM(d,f){return function(y,x,P,A){if(y===void 0)return x!==void 0?-1:0;if(x===void 0)return 1;if((x=He(y,x))===0){if(P&&A)return 0;if(P)return 1;if(A)return-1}return x}(d.lower,f.lower,d.lowerOpen,f.lowerOpen)<=0&&0<=function(y,x,P,A){if(y===void 0)return x!==void 0?1:0;if(x===void 0)return-1;if((x=He(y,x))===0){if(P&&A)return 0;if(P)return-1;if(A)return 1}return x}(d.upper,f.upper,d.upperOpen,f.upperOpen)}function QM(d,f,y,x){d.subscribers.add(y),x.addEventListener("abort",function(){var P,A;d.subscribers.delete(y),d.subscribers.size===0&&(P=d,A=f,setTimeout(function(){P.subscribers.size===0&&re(A,P)},3e3))})}var XM={stack:"dbcore",level:0,name:"Cache",create:function(d){var f=d.schema.name;return r(r({},d),{transaction:function(y,x,P){var A,V,$=d.transaction(y,x,P);return x==="readwrite"&&(V=(A=new AbortController).signal,P=function(W){return function(){if(A.abort(),x==="readwrite"){for(var K=new Set,Q=0,z=y;Q<z.length;Q++){var J=z[Q],G=O["idb://".concat(f,"/").concat(J)];if(G){var q=d.table(J),Y=G.optimisticOps.filter(function(be){return be.trans===$});if($._explicit&&W&&$.mutatedParts)for(var X=0,ee=Object.values(G.queries.query);X<ee.length;X++)for(var te=0,ie=(ye=ee[X]).slice();te<ie.length;te++)C((ue=ie[te]).obsSet,$.mutatedParts)&&(re(ye,ue),ue.subscribers.forEach(function(be){return K.add(be)}));else if(0<Y.length){G.optimisticOps=G.optimisticOps.filter(function(be){return be.trans!==$});for(var se=0,de=Object.values(G.queries.query);se<de.length;se++)for(var ye,ue,pe,ve=0,me=(ye=de[se]).slice();ve<me.length;ve++)(ue=me[ve]).res!=null&&$.mutatedParts&&(W&&!ue.dirty?(pe=Object.isFrozen(ue.res),pe=K1(ue.res,ue.req,Y,q,ue,pe),ue.dirty?(re(ye,ue),ue.subscribers.forEach(function(be){return K.add(be)})):pe!==ue.res&&(ue.res=pe,ue.promise=ge.resolve({result:pe}))):(ue.dirty&&re(ye,ue),ue.subscribers.forEach(function(be){return K.add(be)})))}}}K.forEach(function(be){return be()})}}},$.addEventListener("abort",P(!1),{signal:V}),$.addEventListener("error",P(!1),{signal:V}),$.addEventListener("complete",P(!0),{signal:V})),$},table:function(y){var x=d.table(y),P=x.schema.primaryKey;return r(r({},x),{mutate:function(A){var V=Ee.trans;if(P.outbound||V.db._options.cache==="disabled"||V.explicit||V.idbtrans.mode!=="readwrite")return x.mutate(A);var $=O["idb://".concat(f,"/").concat(y)];return $?(V=x.mutate(A),A.type!=="add"&&A.type!=="put"||!(50<=A.values.length||Tr(P,A).some(function(W){return W==null}))?($.optimisticOps.push(A),A.mutatedParts&&fe(A.mutatedParts),V.then(function(W){0<W.numFailures&&(re($.optimisticOps,A),(W=H1(0,A,W))&&$.optimisticOps.push(W),A.mutatedParts&&fe(A.mutatedParts))}),V.catch(function(){re($.optimisticOps,A),A.mutatedParts&&fe(A.mutatedParts)})):V.then(function(W){var K=H1(0,r(r({},A),{values:A.values.map(function(Q,z){var J;return W.failures[z]?Q:(Q=(J=P.keyPath)!==null&&J!==void 0&&J.includes(".")?F(Q):r({},Q),N(Q,P.keyPath,W.results[z]),Q)})}),W);$.optimisticOps.push(K),queueMicrotask(function(){return A.mutatedParts&&fe(A.mutatedParts)})}),V):x.mutate(A)},query:function(A){if(!z1(Ee,x)||!W1("query",A))return x.query(A);var V=((K=Ee.trans)===null||K===void 0?void 0:K.db._options.cache)==="immutable",z=Ee,$=z.requery,W=z.signal,K=function(q,Y,X,ee){var te=O["idb://".concat(q,"/").concat(Y)];if(!te)return[];if(!(Y=te.queries[X]))return[null,!1,te,null];var ie=Y[(ee.query?ee.query.index.name:null)||""];if(!ie)return[null,!1,te,null];switch(X){case"query":var se=ie.find(function(de){return de.req.limit===ee.limit&&de.req.values===ee.values&&G1(de.req.query.range,ee.query.range)});return se?[se,!0,te,ie]:[ie.find(function(de){return("limit"in de.req?de.req.limit:1/0)>=ee.limit&&(!ee.values||de.req.values)&&YM(de.req.query.range,ee.query.range)}),!1,te,ie];case"count":return se=ie.find(function(de){return G1(de.req.query.range,ee.query.range)}),[se,!!se,te,ie]}}(f,y,"query",A),Q=K[0],z=K[1],J=K[2],G=K[3];return Q&&z?Q.obsSet=A.obsSet:(z=x.query(A).then(function(q){var Y=q.result;if(Q&&(Q.res=Y),V){for(var X=0,ee=Y.length;X<ee;++X)Object.freeze(Y[X]);Object.freeze(Y)}else q.result=F(Y);return q}).catch(function(q){return G&&Q&&re(G,Q),Promise.reject(q)}),Q={obsSet:A.obsSet,promise:z,subscribers:new Set,type:"query",req:A,dirty:!1},G?G.push(Q):(G=[Q],(J=J||(O["idb://".concat(f,"/").concat(y)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[A.query.index.name||""]=G)),QM(Q,G,$,W),Q.promise.then(function(q){return{result:K1(q.result,A,J==null?void 0:J.optimisticOps,x,Q,V)}})}})}})}};function gf(d,f){return new Proxy(d,{get:function(y,x,P){return x==="db"?f:Reflect.get(y,x,P)}})}var hs=(Wt.prototype.version=function(d){if(isNaN(d)||d<.1)throw new we.Type("Given version is not a positive number");if(d=Math.round(10*d)/10,this.idbdb||this._state.isBeingOpened)throw new we.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,d);var f=this._versions,y=f.filter(function(x){return x._cfg.version===d})[0];return y||(y=new this.Version(d),f.push(y),f.sort(mf),y.stores({}),this._state.autoSchema=!1,y)},Wt.prototype._whenReady=function(d){var f=this;return this.idbdb&&(this._state.openComplete||Ee.letThrough||this._vip)?d():new ge(function(y,x){if(f._state.openComplete)return x(new we.DatabaseClosed(f._state.dbOpenError));if(!f._state.isBeingOpened){if(!f._state.autoOpen)return void x(new we.DatabaseClosed);f.open().catch(Pe)}f._state.dbReadyPromise.then(y,x)}).then(d)},Wt.prototype.use=function(d){var f=d.stack,y=d.create,x=d.level,P=d.name;return P&&this.unuse({stack:f,name:P}),d=this._middlewares[f]||(this._middlewares[f]=[]),d.push({stack:f,create:y,level:x??10,name:P}),d.sort(function(A,V){return A.level-V.level}),this},Wt.prototype.unuse=function(d){var f=d.stack,y=d.name,x=d.create;return f&&this._middlewares[f]&&(this._middlewares[f]=this._middlewares[f].filter(function(P){return x?P.create!==x:!!y&&P.name!==y})),this},Wt.prototype.open=function(){var d=this;return Er(br,function(){return ct(d)})},Wt.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var d=this._state,f=ss.indexOf(this);if(0<=f&&ss.splice(f,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}d.isBeingOpened||(d.dbReadyPromise=new ge(function(y){d.dbReadyResolve=y}),d.openCanceller=new ge(function(y,x){d.cancelOpen=x}))},Wt.prototype.close=function(y){var f=(y===void 0?{disableAutoOpen:!0}:y).disableAutoOpen,y=this._state;f?(y.isBeingOpened&&y.cancelOpen(new we.DatabaseClosed),this._close(),y.autoOpen=!1,y.dbOpenError=new we.DatabaseClosed):(this._close(),y.autoOpen=this._options.autoOpen||y.isBeingOpened,y.openComplete=!1,y.dbOpenError=null)},Wt.prototype.delete=function(d){var f=this;d===void 0&&(d={disableAutoOpen:!0});var y=0<arguments.length&&typeof arguments[0]!="object",x=this._state;return new ge(function(P,A){function V(){f.close(d);var $=f._deps.indexedDB.deleteDatabase(f.name);$.onsuccess=vt(function(){var W,K,Q;W=f._deps,K=f.name,Q=W.indexedDB,W=W.IDBKeyRange,ti(Q)||K===xa||Vl(Q,W).delete(K).catch(Pe),P()}),$.onerror=Mn(A),$.onblocked=f._fireOnBlocked}if(y)throw new we.InvalidArgument("Invalid closeOptions argument to db.delete()");x.isBeingOpened?x.dbReadyPromise.then(V):V()})},Wt.prototype.backendDB=function(){return this.idbdb},Wt.prototype.isOpen=function(){return this.idbdb!==null},Wt.prototype.hasBeenClosed=function(){var d=this._state.dbOpenError;return d&&d.name==="DatabaseClosed"},Wt.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Wt.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Wt.prototype,"tables",{get:function(){var d=this;return o(this._allTables).map(function(f){return d._allTables[f]})},enumerable:!1,configurable:!0}),Wt.prototype.transaction=function(){var d=(function(f,y,x){var P=arguments.length;if(P<2)throw new we.InvalidArgument("Too few arguments");for(var A=new Array(P-1);--P;)A[P-1]=arguments[P];return x=A.pop(),[f,D(A),x]}).apply(this,arguments);return this._transaction.apply(this,d)},Wt.prototype._transaction=function(d,f,y){var x=this,P=Ee.trans;P&&P.db===this&&d.indexOf("!")===-1||(P=null);var A,V,$=d.indexOf("?")!==-1;d=d.replace("!","").replace("?","");try{if(V=f.map(function(K){if(K=K instanceof x.Table?K.name:K,typeof K!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return K}),d=="r"||d===Rl)A=Rl;else{if(d!="rw"&&d!=ba)throw new we.InvalidArgument("Invalid transaction mode: "+d);A=ba}if(P){if(P.mode===Rl&&A===ba){if(!$)throw new we.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");P=null}P&&V.forEach(function(K){if(P&&P.storeNames.indexOf(K)===-1){if(!$)throw new we.SubTransaction("Table "+K+" not included in parent transaction.");P=null}}),$&&P&&!P.active&&(P=null)}}catch(K){return P?P._promise(null,function(Q,z){z(K)}):gt(K)}var W=(function K(Q,z,J,G,q){return ge.resolve().then(function(){var Y=Ee.transless||Ee,X=Q._createTransaction(z,J,Q._dbSchema,G);if(X.explicit=!0,Y={trans:X,transless:Y},G)X.idbtrans=G.idbtrans;else try{X.create(),X.idbtrans._explicit=!0,Q._state.PR1398_maxLoop=3}catch(ie){return ie.name===Ie.InvalidState&&Q.isOpen()&&0<--Q._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),Q.close({disableAutoOpen:!1}),Q.open().then(function(){return K(Q,z,J,null,q)})):gt(ie)}var ee,te=Re(q);return te&&Pi(),Y=ge.follow(function(){var ie;(ee=q.call(X,X))&&(te?(ie=Sr.bind(null,null),ee.then(ie,ie)):typeof ee.next=="function"&&typeof ee.throw=="function"&&(ee=Lt(ee)))},Y),(ee&&typeof ee.then=="function"?ge.resolve(ee).then(function(ie){return X.active?ie:gt(new we.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):Y.then(function(){return ee})).then(function(ie){return G&&X._resolve(),X._completion.then(function(){return ie})}).catch(function(ie){return X._reject(ie),gt(ie)})})}).bind(null,this,A,V,P,y);return P?P._promise(A,W,"lock"):Ee.trans?Er(Ee.transless,function(){return x._whenReady(W)}):this._whenReady(W)},Wt.prototype.table=function(d){if(!p(this._allTables,d))throw new we.InvalidTable("Table ".concat(d," does not exist"));return this._allTables[d]},Wt);function Wt(d,f){var y=this;this._middlewares={},this.verno=0;var x=Wt.dependencies;this._options=f=r({addons:Wt.addons,autoOpen:!0,indexedDB:x.indexedDB,IDBKeyRange:x.IDBKeyRange,cache:"cloned"},f),this._deps={indexedDB:f.indexedDB,IDBKeyRange:f.IDBKeyRange},x=f.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var P,A,V,$,W,K={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Pe,dbReadyPromise:null,cancelOpen:Pe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:f.autoOpen};K.dbReadyPromise=new ge(function(z){K.dbReadyResolve=z}),K.openCanceller=new ge(function(z,J){K.cancelOpen=J}),this._state=K,this.name=d,this.on=Xr(this,"populate","blocked","versionchange","close",{ready:[Xt,Pe]}),this.once=function(z,J){var G=function(){for(var q=[],Y=0;Y<arguments.length;Y++)q[Y]=arguments[Y];y.on(z).unsubscribe(G),J.apply(y,q)};return y.on(z,G)},this.on.ready.subscribe=k(this.on.ready.subscribe,function(z){return function(J,G){Wt.vip(function(){var q,Y=y._state;Y.openComplete?(Y.dbOpenError||ge.resolve().then(J),G&&z(J)):Y.onReadyBeingFired?(Y.onReadyBeingFired.push(J),G&&z(J)):(z(J),q=y,G||z(function X(){q.on.ready.unsubscribe(J),q.on.ready.unsubscribe(X)}))})}}),this.Collection=(P=this,Ca(uf.prototype,function(ee,X){this.db=P;var G=Iu,q=null;if(X)try{G=X()}catch(te){q=te}var Y=ee._ctx,X=Y.table,ee=X.hook.reading.fire;this._ctx={table:X,index:Y.index,isPrimKey:!Y.index||X.schema.primKey.keyPath&&Y.index===X.schema.primKey.name,range:G,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:q,or:Y.or,valueMapper:ee!==It?ee:null}})),this.Table=(A=this,Ca(Ea.prototype,function(z,J,G){this.db=A,this._tx=G,this.name=z,this.schema=J,this.hook=A._allTables[z]?A._allTables[z].hook:Xr(null,{creating:[$r,Pe],reading:[An,It],updating:[Tl,Pe],deleting:[zr,Pe]})})),this.Transaction=(V=this,Ca(Ou.prototype,function(z,J,G,q,Y){var X=this;z!=="readonly"&&J.forEach(function(ee){ee=(ee=G[ee])===null||ee===void 0?void 0:ee.yProps,ee&&(J=J.concat(ee.map(function(te){return te.updatesTable})))}),this.db=V,this.mode=z,this.storeNames=J,this.schema=G,this.chromeTransactionDurability=q,this.idbtrans=null,this.on=Xr(this,"complete","error","abort"),this.parent=Y||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new ge(function(ee,te){X._resolve=ee,X._reject=te}),this._completion.then(function(){X.active=!1,X.on.complete.fire()},function(ee){var te=X.active;return X.active=!1,X.on.error.fire(ee),X.parent?X.parent._reject(ee):te&&X.idbtrans&&X.idbtrans.abort(),gt(ee)})})),this.Version=($=this,Ca(Fl.prototype,function(z){this.db=$,this._cfg={version:z,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(W=this,Ca(ff.prototype,function(z,J,G){if(this.db=W,this._ctx={table:z,index:J===":id"?null:J,or:G},this._cmp=this._ascending=He,this._descending=function(q,Y){return He(Y,q)},this._max=function(q,Y){return 0<He(q,Y)?q:Y},this._min=function(q,Y){return He(q,Y)<0?q:Y},this._IDBKeyRange=W._deps.IDBKeyRange,!this._IDBKeyRange)throw new we.MissingAPI})),this.on("versionchange",function(z){0<z.newVersion?console.warn("Another connection wants to upgrade database '".concat(y.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(y.name,"'. Closing db now to resume the delete request.")),y.close({disableAutoOpen:!1})}),this.on("blocked",function(z){!z.newVersion||z.newVersion<z.oldVersion?console.warn("Dexie.delete('".concat(y.name,"') was blocked")):console.warn("Upgrade '".concat(y.name,"' blocked by other connection holding version ").concat(z.oldVersion/10))}),this._maxKey=Js(f.IDBKeyRange),this._createTransaction=function(z,J,G,q){return new y.Transaction(z,J,G,y._options.chromeTransactionDurability,q)},this._fireOnBlocked=function(z){y.on("blocked").fire(z),ss.filter(function(J){return J.name===y.name&&J!==y&&!J._state.vcFired}).map(function(J){return J.on("versionchange").fire(z)})},this.use(GM),this.use(XM),this.use(qM),this.use(ds),this.use($l);var Q=new Proxy(this,{get:function(z,J,G){if(J==="_vip")return!0;if(J==="table")return function(Y){return gf(y.table(Y),Q)};var q=Reflect.get(z,J,G);return q instanceof Ea?gf(q,Q):J==="tables"?q.map(function(Y){return gf(Y,Q)}):J==="_createTransaction"?function(){return gf(q.apply(this,arguments),Q)}:q}});this.vip=Q,x.forEach(function(z){return z(y)})}var yf,Pr=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",JM=(oy.prototype.subscribe=function(d,f,y){return this._subscribe(d&&typeof d!="function"?d:{next:d,error:f,complete:y})},oy.prototype[Pr]=function(){return this},oy);function oy(d){this._subscribe=d}try{yf={indexedDB:s.indexedDB||s.mozIndexedDB||s.webkitIndexedDB||s.msIndexedDB,IDBKeyRange:s.IDBKeyRange||s.webkitIDBKeyRange}}catch{yf={indexedDB:null,IDBKeyRange:null}}function q1(d){var f,y=!1,x=new JM(function(P){var A=Re(d),V,$=!1,W={},K={},Q={get closed(){return $},unsubscribe:function(){$||($=!0,V&&V.abort(),z&&ei.storagemutated.unsubscribe(G))}};P.start&&P.start(Q);var z=!1,J=function(){return wa(q)},G=function(Y){v(W,Y),C(K,W)&&J()},q=function(){var Y,X,ee;!$&&yf.indexedDB&&(W={},Y={},V&&V.abort(),V=new AbortController,ee=function(te){var ie=ir();try{A&&Pi();var se=Kr(d,te);return se=A?se.finally(Sr):se}finally{ie&&qs()}}(X={subscr:Y,signal:V.signal,requery:J,querier:d,trans:null}),Promise.resolve(ee).then(function(te){y=!0,f=te,$||X.signal.aborted||(W={},function(ie){for(var se in ie)if(p(ie,se))return;return 1}(K=Y)||z||(ei(Zr,G),z=!0),wa(function(){return!$&&P.next&&P.next(te)}))},function(te){y=!1,["DatabaseClosedError","AbortError"].includes(te==null?void 0:te.name)||$||wa(function(){$||P.error&&P.error(te)})}))};return setTimeout(J,0),Q});return x.hasValue=function(){return y},x.getValue=function(){return f},x}var Aa=hs;function ay(d){var f=so;try{so=!0,ei.storagemutated.fire(d),Me(d,!0)}finally{so=f}}m(Aa,r(r({},qe),{delete:function(d){return new Aa(d,{addons:[]}).delete()},exists:function(d){return new Aa(d,{addons:[]}).open().then(function(f){return f.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(d){try{return f=Aa.dependencies,y=f.indexedDB,f=f.IDBKeyRange,(ti(y)?Promise.resolve(y.databases()).then(function(x){return x.map(function(P){return P.name}).filter(function(P){return P!==xa})}):Vl(y,f).toCollection().primaryKeys()).then(d)}catch{return gt(new we.MissingAPI)}var f,y},defineClass:function(){return function(d){l(this,d)}},ignoreTransaction:function(d){return Ee.trans?Er(Ee.transless,d):d()},vip:Ul,async:function(d){return function(){try{var f=Lt(d.apply(this,arguments));return f&&typeof f.then=="function"?f:ge.resolve(f)}catch(y){return gt(y)}}},spawn:function(d,f,y){try{var x=Lt(d.apply(y,f||[]));return x&&typeof x.then=="function"?x:ge.resolve(x)}catch(P){return gt(P)}},currentTransaction:{get:function(){return Ee.trans||null}},waitFor:function(d,f){return f=ge.resolve(typeof d=="function"?Aa.ignoreTransaction(d):d).timeout(f||6e4),Ee.trans?Ee.trans.waitFor(f):f},Promise:ge,debug:{get:function(){return On},set:function(d){rf(d)}},derive:_,extend:l,props:m,override:k,Events:Xr,on:ei,liveQuery:q1,extendObservabilitySet:v,getByKeyPath:H,setByKeyPath:N,delByKeyPath:function(d,f){typeof f=="string"?N(d,f,void 0):"length"in f&&[].map.call(f,function(y){N(d,y,void 0)})},shallowClone:R,deepClone:F,getObjectDiff:Cr,cmp:He,asap:U,minKey:-1/0,addons:[],connections:ss,errnames:Ie,dependencies:yf,cache:O,semVer:"4.2.1",version:"4.2.1".split(".").map(function(d){return parseInt(d)}).reduce(function(d,f,y){return d+f/Math.pow(10,2*y)})})),Aa.maxKey=Js(Aa.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(ei(Zr,function(d){so||(d=new CustomEvent(as,{detail:d}),so=!0,dispatchEvent(d),so=!1)}),addEventListener(as,function(d){d=d.detail,so||ay(d)}));var Wl,so=!1,Y1=function(){};return typeof BroadcastChannel<"u"&&((Y1=function(){(Wl=new BroadcastChannel(as)).onmessage=function(d){return d.data&&ay(d.data)}})(),typeof Wl.unref=="function"&&Wl.unref(),ei(Zr,function(d){so||Wl.postMessage(d)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(d){if(!hs.disableBfCache&&d.persisted){On&&console.debug("Dexie: handling persisted pagehide"),Wl!=null&&Wl.close();for(var f=0,y=ss;f<y.length;f++)y[f].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(d){!hs.disableBfCache&&d.persisted&&(On&&console.debug("Dexie: handling persisted pageshow"),Y1(),ay({all:new Jt(-1/0,[[]])}))})),ge.rejectionMapper=function(d,f){return!d||d instanceof bt||d instanceof TypeError||d instanceof SyntaxError||!d.name||!st[d.name]?d:(f=new st[d.name](f||d.message,d),"stack"in d&&T(f,"stack",{get:function(){return this.inner.stack}}),f)},rf(On),r(hs,Object.freeze({__proto__:null,Dexie:hs,liveQuery:q1,Entity:ku,cmp:He,PropModification:Qr,replacePrefix:function(d,f){return new Qr({replacePrefix:[d,f]})},add:function(d){return new Qr({add:d})},remove:function(d){return new Qr({remove:d})},default:hs,RangeSet:Jt,mergeRanges:sn,rangesOverlap:Lu}),{default:hs}),hs})})(PO);var nH=PO.exports;const t0=N0(nH),gC=Symbol.for("Dexie"),vh=globalThis[gC]||(globalThis[gC]=t0);if(t0.semVer!==vh.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${t0.semVer} and ${vh.semVer}`);class rH extends vh{constructor(){super("OrderDatabase"),this.version(1).stores({orders:"id, orderNumber, status, timestamp",syncQueue:"++id, operation, timestamp, retryCount"})}}const Yn=new rH,Gf="orders",sd={createOrder:async t=>{const e=Cs(Ts,Gf),n=B8(e),r=n.key,i={...t,id:r,updatedAt:new Date().toISOString()};return await Lm(n,i),r},updateOrderStatus:async(t,e)=>{const n=Cs(Ts,`${Gf}/${t}`);await EO(n,{status:e,updatedAt:new Date().toISOString()})},subscribeToOrders:t=>{const e=Cs(Ts,Gf),n=CO(e,r=>{const i=r.val();if(i){const s=Object.values(i);s.sort((o,a)=>new Date(a.timestamp).getTime()-new Date(o.timestamp).getTime()),t(s)}else t([])});return()=>TO(e,"value",n)},deleteOrder:async t=>{const e=Cs(Ts,`${Gf}/${t}`);await Lm(e,null)}};class iH{constructor(){this.isOnline=navigator.onLine,this.isSyncing=!1,this.syncListeners=new Set,this.connectionListeners=new Set,this.handleOnline=()=>{console.log(" Connection restored"),this.isOnline=!0,this.notifyConnectionListeners(!0),this.syncWithFirebase()},this.handleOffline=()=>{console.log(" Connection lost - working offline"),this.isOnline=!1,this.notifyConnectionListeners(!1)},window.addEventListener("online",this.handleOnline),window.addEventListener("offline",this.handleOffline),setInterval(()=>{this.isOnline&&!this.isSyncing&&this.syncWithFirebase()},5e3),this.isOnline&&this.syncWithFirebase()}onSyncStatusChange(e){return this.syncListeners.add(e),this.getPendingCount().then(e),()=>this.syncListeners.delete(e)}onConnectionChange(e){return this.connectionListeners.add(e),e(this.isOnline),()=>this.connectionListeners.delete(e)}notifySyncListeners(e){this.syncListeners.forEach(n=>n(e))}notifyConnectionListeners(e){this.connectionListeners.forEach(n=>n(e))}async getPendingCount(){return await Yn.syncQueue.count()}async saveOrderLocally(e){const n=`local-${Date.now()}-${Math.random().toString(36).substr(2,9)}`,r={...e,id:n};return await Yn.orders.put(r),await this.queueOperation("create","orders",r),console.log(` Order #${e.orderNumber} saved locally (${n})`),this.isOnline&&this.syncWithFirebase(),n}async updateOrderStatusLocally(e,n){const r=await Yn.orders.get(e);if(!r)throw new Error(`Order ${e} not found`);const i={...r,status:n};await Yn.orders.put(i),await this.queueOperation("update","orders",{id:e,status:n}),console.log(` Order #${r.orderNumber} status updated to ${n}`),this.isOnline&&this.syncWithFirebase()}async queueOperation(e,n,r){await Yn.syncQueue.add({operation:e,table:n,payload:r,timestamp:Date.now(),retryCount:0});const i=await this.getPendingCount();this.notifySyncListeners(i)}async syncWithFirebase(){if(!(this.isSyncing||!this.isOnline)){this.isSyncing=!0,console.log(" Starting sync with Firebase...");try{const e=await Yn.syncQueue.orderBy("timestamp").toArray();if(e.length===0){console.log(" No pending operations to sync"),this.isSyncing=!1;return}console.log(` Syncing ${e.length} pending operations...`);for(const n of e)try{await this.syncOperation(n),await Yn.syncQueue.delete(n.id);const r=await this.getPendingCount();this.notifySyncListeners(r)}catch(r){console.error(` Failed to sync operation ${n.id}:`,r);const i=(n.retryCount||0)+1;await Yn.syncQueue.update(n.id,{retryCount:i,lastError:r instanceof Error?r.message:"Unknown error"}),i>=5&&(console.error(` Max retries reached for operation ${n.id}, skipping`),await Yn.syncQueue.delete(n.id));break}console.log(" Sync completed")}catch(e){console.error(" Sync error:",e)}finally{this.isSyncing=!1}}}async syncOperation(e){const{operation:n,payload:r}=e;switch(n){case"create":if(r.id.startsWith("local-")){const{id:i,...s}=r,o=await sd.createOrder(s);await Yn.orders.delete(i),await Yn.orders.put({...r,id:o}),console.log(` Order synced to Firebase (${i}  ${o})`)}else await sd.createOrder(r);break;case"update":await sd.updateOrderStatus(r.id,r.status),console.log(` Order status updated in Firebase (${r.id})`);break;case"delete":await sd.deleteOrder(r.id),console.log(` Order deleted from Firebase (${r.id})`);break}}async getAllOrdersFromLocal(){return await Yn.orders.orderBy("timestamp").reverse().toArray()}async syncFromFirebase(e){for(const n of e)n.id.startsWith("local-")||await Yn.orders.put(n)}getOnlineStatus(){return this.isOnline}async forceSyncNow(){if(!this.isOnline)throw new Error("Cannot sync while offline");await this.syncWithFirebase()}}const No=new iH;function sH(){const[t,e]=S.useState(0),[n,r]=S.useState(navigator.onLine);return S.useEffect(()=>{const i=No.onSyncStatusChange(o=>{e(o)}),s=No.onConnectionChange(o=>{r(o)});return()=>{i(),s()}},[]),{pendingCount:t,isOnline:n}}const yC=t=>{let e;const n=new Set,r=(c,h)=>{const p=typeof c=="function"?c(e):c;if(!Object.is(p,e)){const m=e;e=h??(typeof p!="object"||p===null)?p:Object.assign({},e,p),n.forEach(w=>w(e,m))}},i=()=>e,a={setState:r,getState:i,getInitialState:()=>l,subscribe:c=>(n.add(c),()=>n.delete(c))},l=e=t(r,i,a);return a},oH=t=>t?yC(t):yC,aH=t=>t;function lH(t,e=aH){const n=pn.useSyncExternalStore(t.subscribe,pn.useCallback(()=>e(t.getState()),[t,e]),pn.useCallback(()=>e(t.getInitialState()),[t,e]));return pn.useDebugValue(n),n}const vC=t=>{const e=oH(t),n=r=>lH(e,r);return Object.assign(n,e),n},Qx=t=>t?vC(t):vC;function cH(t,e){let n;try{n=t()}catch{return}return{getItem:i=>{var s;const o=l=>l===null?null:JSON.parse(l,void 0),a=(s=n.getItem(i))!=null?s:null;return a instanceof Promise?a.then(o):o(a)},setItem:(i,s)=>n.setItem(i,JSON.stringify(s,void 0)),removeItem:i=>n.removeItem(i)}}const n0=t=>e=>{try{const n=t(e);return n instanceof Promise?n:{then(r){return n0(r)(n)},catch(r){return this}}}catch(n){return{then(r){return this},catch(r){return n0(r)(n)}}}},uH=(t,e)=>(n,r,i)=>{let s={storage:cH(()=>localStorage),partialize:_=>_,version:0,merge:(_,I)=>({...I,..._}),...e},o=!1;const a=new Set,l=new Set;let c=s.storage;if(!c)return t((..._)=>{console.warn(`[zustand persist middleware] Unable to update item '${s.name}', the given storage is currently unavailable.`),n(..._)},r,i);const h=()=>{const _=s.partialize({...r()});return c.setItem(s.name,{state:_,version:s.version})},p=i.setState;i.setState=(_,I)=>(p(_,I),h());const m=t((..._)=>(n(..._),h()),r,i);i.getInitialState=()=>m;let w;const T=()=>{var _,I;if(!c)return;o=!1,a.forEach(E=>{var k;return E((k=r())!=null?k:m)});const b=((I=s.onRehydrateStorage)==null?void 0:I.call(s,(_=r())!=null?_:m))||void 0;return n0(c.getItem.bind(c))(s.name).then(E=>{if(E)if(typeof E.version=="number"&&E.version!==s.version){if(s.migrate){const k=s.migrate(E.state,E.version);return k instanceof Promise?k.then(M=>[!0,M]):[!0,k]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,E.state];return[!1,void 0]}).then(E=>{var k;const[M,U]=E;if(w=s.merge(U,(k=r())!=null?k:m),n(w,!0),M)return h()}).then(()=>{b==null||b(w,void 0),w=r(),o=!0,l.forEach(E=>E(w))}).catch(E=>{b==null||b(void 0,E)})};return i.persist={setOptions:_=>{s={...s,..._},_.storage&&(c=_.storage)},clearStorage:()=>{c==null||c.removeItem(s.name)},getOptions:()=>s,rehydrate:()=>T(),hasHydrated:()=>o,onHydrate:_=>(a.add(_),()=>{a.delete(_)}),onFinishHydration:_=>(l.add(_),()=>{l.delete(_)})},s.skipHydration||T(),w||m},dH=uH,Fm=Qx()(dH(t=>({isAuthenticated:!1,login:e=>e==="1234"?(t({isAuthenticated:!0}),!0):!1,logout:()=>{t({isAuthenticated:!1})}}),{name:"auth-storage"}));function hH(){const[t]=Oh(),e=tH(),{pendingCount:n,isOnline:r}=sH(),i=Fm(o=>o.isAuthenticated),s=o=>t===o;return g.jsx("nav",{className:"sticky top-0 z-50 w-full border-b bg-background/95 backdrop-blur supports-[backdrop-filter]:bg-background/60",children:g.jsx("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs("div",{className:"flex h-16 items-center justify-between gap-4",children:[g.jsxs(_o,{to:"/",className:"flex items-center gap-2 hover-elevate rounded-md px-3 py-2 transition-all","data-testid":"link-home-logo",children:[g.jsx(mR,{className:"h-6 w-6 text-primary"}),g.jsx("span",{className:"text-lg font-semibold",children:"Kitchen & Billing"})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(at,{variant:s("/")?"default":"ghost",size:"sm",asChild:!0,"data-testid":"button-nav-home",children:g.jsxs(_o,{to:"/",className:"gap-2",children:[g.jsx(R3,{className:"h-4 w-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Home"})]})}),g.jsx(at,{variant:s("/billing")?"default":"ghost",size:"sm",asChild:!0,"data-testid":"button-nav-billing",children:g.jsxs(_o,{to:"/billing",className:"gap-2",children:[g.jsx(vR,{className:"h-4 w-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Billing"})]})}),g.jsx(at,{variant:s("/kitchen")?"default":"ghost",size:"sm",asChild:!0,"data-testid":"button-nav-kitchen",children:g.jsxs(_o,{to:"/kitchen",className:"gap-2",children:[g.jsx(om,{className:"h-4 w-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Kitchen"})]})}),i&&g.jsx(at,{variant:s("/admin")?"default":"ghost",size:"sm",asChild:!0,"data-testid":"button-nav-admin",children:g.jsxs(_o,{to:"/admin",className:"gap-2",children:[g.jsx(j3,{className:"h-4 w-4"}),g.jsx("span",{className:"hidden sm:inline",children:"Admin"})]})}),n>0&&g.jsxs(hr,{variant:"outline",className:"gap-1","data-testid":"badge-sync-pending",children:[g.jsx(I3,{className:"h-3 w-3"}),g.jsxs("span",{className:"hidden sm:inline",children:[n," pending"]}),g.jsx("span",{className:"sm:hidden",children:n})]}),g.jsx(hr,{variant:e?"default":"destructive",className:"gap-1","data-testid":"badge-connection-status",children:e?g.jsxs(g.Fragment,{children:[g.jsx($3,{className:"h-3 w-3"}),g.jsx("span",{className:"hidden sm:inline",children:"Online"})]}):g.jsxs(g.Fragment,{children:[g.jsx(B3,{className:"h-3 w-3"}),g.jsx("span",{className:"hidden sm:inline",children:"Offline"})]})})]})]})})})}const fn=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:De("shadcn-card rounded-xl border bg-card border-card-border text-card-foreground shadow-sm",t),...e}));fn.displayName="Card";const su=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:De("flex flex-col space-y-1.5 p-6",t),...e}));su.displayName="CardHeader";const _h=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:De("text-2xl font-semibold leading-none tracking-tight",t),...e}));_h.displayName="CardTitle";const $g=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:De("text-sm text-muted-foreground",t),...e}));$g.displayName="CardDescription";const Bn=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:De("p-6 pt-0",t),...e}));Bn.displayName="CardContent";const fH=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{ref:n,className:De("flex items-center p-6 pt-0",t),...e}));fH.displayName="CardFooter";const Xx=S.createContext({});function Jx(t){const e=S.useRef(null);return e.current===null&&(e.current=t()),e.current}const zg=S.createContext(null),Zx=S.createContext({transformPagePoint:t=>t,isStatic:!1,reducedMotion:"never"});class pH extends S.Component{getSnapshotBeforeUpdate(e){const n=this.props.childRef.current;if(n&&e.isPresent&&!this.props.isPresent){const r=this.props.sizeRef.current;r.height=n.offsetHeight||0,r.width=n.offsetWidth||0,r.top=n.offsetTop,r.left=n.offsetLeft}return null}componentDidUpdate(){}render(){return this.props.children}}function mH({children:t,isPresent:e}){const n=S.useId(),r=S.useRef(null),i=S.useRef({width:0,height:0,top:0,left:0}),{nonce:s}=S.useContext(Zx);return S.useInsertionEffect(()=>{const{width:o,height:a,top:l,left:c}=i.current;if(e||!r.current||!o||!a)return;r.current.dataset.motionPopId=n;const h=document.createElement("style");return s&&(h.nonce=s),document.head.appendChild(h),h.sheet&&h.sheet.insertRule(`
          [data-motion-pop-id="${n}"] {
            position: absolute !important;
            width: ${o}px !important;
            height: ${a}px !important;
            top: ${l}px !important;
            left: ${c}px !important;
          }
        `),()=>{document.head.removeChild(h)}},[e]),g.jsx(pH,{isPresent:e,childRef:r,sizeRef:i,children:S.cloneElement(t,{ref:r})})}const gH=({children:t,initial:e,isPresent:n,onExitComplete:r,custom:i,presenceAffectsLayout:s,mode:o})=>{const a=Jx(yH),l=S.useId(),c=S.useCallback(p=>{a.set(p,!0);for(const m of a.values())if(!m)return;r&&r()},[a,r]),h=S.useMemo(()=>({id:l,initial:e,isPresent:n,custom:i,onExitComplete:c,register:p=>(a.set(p,!1),()=>a.delete(p))}),s?[Math.random(),c]:[n,c]);return S.useMemo(()=>{a.forEach((p,m)=>a.set(m,!1))},[n]),S.useEffect(()=>{!n&&!a.size&&r&&r()},[n]),o==="popLayout"&&(t=g.jsx(mH,{isPresent:n,children:t})),g.jsx(zg.Provider,{value:h,children:t})};function yH(){return new Map}function IO(t=!0){const e=S.useContext(zg);if(e===null)return[!0,null];const{isPresent:n,onExitComplete:r,register:i}=e,s=S.useId();S.useEffect(()=>{t&&i(s)},[t]);const o=S.useCallback(()=>t&&r&&r(s),[s,r,t]);return!n&&r?[!1,o]:[!0]}const qf=t=>t.key||"";function _C(t){const e=[];return S.Children.forEach(t,n=>{S.isValidElement(n)&&e.push(n)}),e}const e1=typeof window<"u",kO=e1?S.useLayoutEffect:S.useEffect,vH=({children:t,custom:e,initial:n=!0,onExitComplete:r,presenceAffectsLayout:i=!0,mode:s="sync",propagate:o=!1})=>{const[a,l]=IO(o),c=S.useMemo(()=>_C(t),[t]),h=o&&!a?[]:c.map(qf),p=S.useRef(!0),m=S.useRef(c),w=Jx(()=>new Map),[T,_]=S.useState(c),[I,b]=S.useState(c);kO(()=>{p.current=!1,m.current=c;for(let M=0;M<I.length;M++){const U=qf(I[M]);h.includes(U)?w.delete(U):w.get(U)!==!0&&w.set(U,!1)}},[I,h.length,h.join("-")]);const E=[];if(c!==T){let M=[...c];for(let U=0;U<I.length;U++){const H=I[U],N=qf(H);h.includes(N)||(M.splice(U,0,H),E.push(H))}s==="wait"&&E.length&&(M=E),b(_C(M)),_(c);return}const{forceRender:k}=S.useContext(Xx);return g.jsx(g.Fragment,{children:I.map(M=>{const U=qf(M),H=o&&!a?!1:c===I||h.includes(U),N=()=>{if(w.has(U))w.set(U,!0);else return;let R=!0;w.forEach(j=>{j||(R=!1)}),R&&(k==null||k(),b(m.current),o&&(l==null||l()),r&&r())};return g.jsx(gH,{isPresent:H,initial:!p.current||n?void 0:!1,custom:H?void 0:e,presenceAffectsLayout:i,mode:s,onExitComplete:H?void 0:N,children:M},U)})})},yr=t=>t;let r0=yr;function t1(t){let e;return()=>(e===void 0&&(e=t()),e)}const ou=(t,e,n)=>{const r=e-t;return r===0?1:(n-t)/r},ks=t=>t*1e3,Rs=t=>t/1e3,_H={skipAnimations:!1,useManualTiming:!1};function wH(t){let e=new Set,n=new Set,r=!1,i=!1;const s=new WeakSet;let o={delta:0,timestamp:0,isProcessing:!1};function a(c){s.has(c)&&(l.schedule(c),t()),c(o)}const l={schedule:(c,h=!1,p=!1)=>{const w=p&&r?e:n;return h&&s.add(c),w.has(c)||w.add(c),c},cancel:c=>{n.delete(c),s.delete(c)},process:c=>{if(o=c,r){i=!0;return}r=!0,[e,n]=[n,e],e.forEach(a),e.clear(),r=!1,i&&(i=!1,l.process(c))}};return l}const Yf=["read","resolveKeyframes","update","preRender","render","postRender"],xH=40;function RO(t,e){let n=!1,r=!0;const i={delta:0,timestamp:0,isProcessing:!1},s=()=>n=!0,o=Yf.reduce((b,E)=>(b[E]=wH(s),b),{}),{read:a,resolveKeyframes:l,update:c,preRender:h,render:p,postRender:m}=o,w=()=>{const b=performance.now();n=!1,i.delta=r?1e3/60:Math.max(Math.min(b-i.timestamp,xH),1),i.timestamp=b,i.isProcessing=!0,a.process(i),l.process(i),c.process(i),h.process(i),p.process(i),m.process(i),i.isProcessing=!1,n&&e&&(r=!1,t(w))},T=()=>{n=!0,r=!0,i.isProcessing||t(w)};return{schedule:Yf.reduce((b,E)=>{const k=o[E];return b[E]=(M,U=!1,H=!1)=>(n||T(),k.schedule(M,U,H)),b},{}),cancel:b=>{for(let E=0;E<Yf.length;E++)o[Yf[E]].cancel(b)},state:i,steps:o}}const{schedule:Tt,cancel:ra,state:dn,steps:av}=RO(typeof requestAnimationFrame<"u"?requestAnimationFrame:yr,!0),AO=S.createContext({strict:!1}),wC={animation:["animate","variants","whileHover","whileTap","exit","whileInView","whileFocus","whileDrag"],exit:["exit"],drag:["drag","dragControls"],focus:["whileFocus"],hover:["whileHover","onHoverStart","onHoverEnd"],tap:["whileTap","onTap","onTapStart","onTapCancel"],pan:["onPan","onPanStart","onPanSessionStart","onPanEnd"],inView:["whileInView","onViewportEnter","onViewportLeave"],layout:["layout","layoutId"]},au={};for(const t in wC)au[t]={isEnabled:e=>wC[t].some(n=>!!e[n])};function bH(t){for(const e in t)au[e]={...au[e],...t[e]}}const SH=new Set(["animate","exit","variants","initial","style","values","variants","transition","transformTemplate","custom","inherit","onBeforeLayoutMeasure","onAnimationStart","onAnimationComplete","onUpdate","onDragStart","onDrag","onDragEnd","onMeasureDragConstraints","onDirectionLock","onDragTransitionEnd","_dragX","_dragY","onHoverStart","onHoverEnd","onViewportEnter","onViewportLeave","globalTapTarget","ignoreStrict","viewport"]);function Vm(t){return t.startsWith("while")||t.startsWith("drag")&&t!=="draggable"||t.startsWith("layout")||t.startsWith("onTap")||t.startsWith("onPan")||t.startsWith("onLayout")||SH.has(t)}let NO=t=>!Vm(t);function EH(t){t&&(NO=e=>e.startsWith("on")?!Vm(e):t(e))}try{EH(require("@emotion/is-prop-valid").default)}catch{}function CH(t,e,n){const r={};for(const i in t)i==="values"&&typeof t.values=="object"||(NO(i)||n===!0&&Vm(i)||!e&&!Vm(i)||t.draggable&&i.startsWith("onDrag"))&&(r[i]=t[i]);return r}function TH(t){if(typeof Proxy>"u")return t;const e=new Map,n=(...r)=>t(...r);return new Proxy(n,{get:(r,i)=>i==="create"?t:(e.has(i)||e.set(i,t(i)),e.get(i))})}const Wg=S.createContext({});function wh(t){return typeof t=="string"||Array.isArray(t)}function Hg(t){return t!==null&&typeof t=="object"&&typeof t.start=="function"}const n1=["animate","whileInView","whileFocus","whileHover","whileTap","whileDrag","exit"],r1=["initial",...n1];function Kg(t){return Hg(t.animate)||r1.some(e=>wh(t[e]))}function OO(t){return!!(Kg(t)||t.variants)}function PH(t,e){if(Kg(t)){const{initial:n,animate:r}=t;return{initial:n===!1||wh(n)?n:void 0,animate:wh(r)?r:void 0}}return t.inherit!==!1?e:{}}function IH(t){const{initial:e,animate:n}=PH(t,S.useContext(Wg));return S.useMemo(()=>({initial:e,animate:n}),[xC(e),xC(n)])}function xC(t){return Array.isArray(t)?t.join(" "):t}const kH=Symbol.for("motionComponentSymbol");function dc(t){return t&&typeof t=="object"&&Object.prototype.hasOwnProperty.call(t,"current")}function RH(t,e,n){return S.useCallback(r=>{r&&t.onMount&&t.onMount(r),e&&(r?e.mount(r):e.unmount()),n&&(typeof n=="function"?n(r):dc(n)&&(n.current=r))},[e])}const i1=t=>t.replace(/([a-z])([A-Z])/gu,"$1-$2").toLowerCase(),AH="framerAppearId",DO="data-"+i1(AH),{schedule:s1,cancel:wJ}=RO(queueMicrotask,!1),MO=S.createContext({});function NH(t,e,n,r,i){var s,o;const{visualElement:a}=S.useContext(Wg),l=S.useContext(AO),c=S.useContext(zg),h=S.useContext(Zx).reducedMotion,p=S.useRef(null);r=r||l.renderer,!p.current&&r&&(p.current=r(t,{visualState:e,parent:a,props:n,presenceContext:c,blockInitialAnimation:c?c.initial===!1:!1,reducedMotionConfig:h}));const m=p.current,w=S.useContext(MO);m&&!m.projection&&i&&(m.type==="html"||m.type==="svg")&&OH(p.current,n,i,w);const T=S.useRef(!1);S.useInsertionEffect(()=>{m&&T.current&&m.update(n,c)});const _=n[DO],I=S.useRef(!!_&&!(!((s=window.MotionHandoffIsComplete)===null||s===void 0)&&s.call(window,_))&&((o=window.MotionHasOptimisedAnimation)===null||o===void 0?void 0:o.call(window,_)));return kO(()=>{m&&(T.current=!0,window.MotionIsMounted=!0,m.updateFeatures(),s1.render(m.render),I.current&&m.animationState&&m.animationState.animateChanges())}),S.useEffect(()=>{m&&(!I.current&&m.animationState&&m.animationState.animateChanges(),I.current&&(queueMicrotask(()=>{var b;(b=window.MotionHandoffMarkAsComplete)===null||b===void 0||b.call(window,_)}),I.current=!1))}),m}function OH(t,e,n,r){const{layoutId:i,layout:s,drag:o,dragConstraints:a,layoutScroll:l,layoutRoot:c}=e;t.projection=new n(t.latestValues,e["data-framer-portal-id"]?void 0:jO(t.parent)),t.projection.setOptions({layoutId:i,layout:s,alwaysMeasureLayout:!!o||a&&dc(a),visualElement:t,animationType:typeof s=="string"?s:"both",initialPromotionConfig:r,layoutScroll:l,layoutRoot:c})}function jO(t){if(t)return t.options.allowProjection!==!1?t.projection:jO(t.parent)}function DH({preloadedFeatures:t,createVisualElement:e,useRender:n,useVisualState:r,Component:i}){var s,o;t&&bH(t);function a(c,h){let p;const m={...S.useContext(Zx),...c,layoutId:MH(c)},{isStatic:w}=m,T=IH(c),_=r(c,w);if(!w&&e1){jH();const I=LH(m);p=I.MeasureLayout,T.visualElement=NH(i,_,m,e,I.ProjectionNode)}return g.jsxs(Wg.Provider,{value:T,children:[p&&T.visualElement?g.jsx(p,{visualElement:T.visualElement,...m}):null,n(i,c,RH(_,T.visualElement,h),_,w,T.visualElement)]})}a.displayName=`motion.${typeof i=="string"?i:`create(${(o=(s=i.displayName)!==null&&s!==void 0?s:i.name)!==null&&o!==void 0?o:""})`}`;const l=S.forwardRef(a);return l[kH]=i,l}function MH({layoutId:t}){const e=S.useContext(Xx).id;return e&&t!==void 0?e+"-"+t:t}function jH(t,e){S.useContext(AO).strict}function LH(t){const{drag:e,layout:n}=au;if(!e&&!n)return{};const r={...e,...n};return{MeasureLayout:e!=null&&e.isEnabled(t)||n!=null&&n.isEnabled(t)?r.MeasureLayout:void 0,ProjectionNode:r.ProjectionNode}}const FH=["animate","circle","defs","desc","ellipse","g","image","line","filter","marker","mask","metadata","path","pattern","polygon","polyline","rect","stop","switch","symbol","svg","text","tspan","use","view"];function o1(t){return typeof t!="string"||t.includes("-")?!1:!!(FH.indexOf(t)>-1||/[A-Z]/u.test(t))}function bC(t){const e=[{},{}];return t==null||t.values.forEach((n,r)=>{e[0][r]=n.get(),e[1][r]=n.getVelocity()}),e}function a1(t,e,n,r){if(typeof e=="function"){const[i,s]=bC(r);e=e(n!==void 0?n:t.custom,i,s)}if(typeof e=="string"&&(e=t.variants&&t.variants[e]),typeof e=="function"){const[i,s]=bC(r);e=e(n!==void 0?n:t.custom,i,s)}return e}const i0=t=>Array.isArray(t),VH=t=>!!(t&&typeof t=="object"&&t.mix&&t.toValue),UH=t=>i0(t)?t[t.length-1]||0:t,In=t=>!!(t&&t.getVelocity);function Cp(t){const e=In(t)?t.get():t;return VH(e)?e.toValue():e}function BH({scrapeMotionValuesFromProps:t,createRenderState:e,onUpdate:n},r,i,s){const o={latestValues:$H(r,i,s,t),renderState:e()};return n&&(o.onMount=a=>n({props:r,current:a,...o}),o.onUpdate=a=>n(a)),o}const LO=t=>(e,n)=>{const r=S.useContext(Wg),i=S.useContext(zg),s=()=>BH(t,e,r,i);return n?s():Jx(s)};function $H(t,e,n,r){const i={},s=r(t,{});for(const m in s)i[m]=Cp(s[m]);let{initial:o,animate:a}=t;const l=Kg(t),c=OO(t);e&&c&&!l&&t.inherit!==!1&&(o===void 0&&(o=e.initial),a===void 0&&(a=e.animate));let h=n?n.initial===!1:!1;h=h||o===!1;const p=h?a:o;if(p&&typeof p!="boolean"&&!Hg(p)){const m=Array.isArray(p)?p:[p];for(let w=0;w<m.length;w++){const T=a1(t,m[w]);if(T){const{transitionEnd:_,transition:I,...b}=T;for(const E in b){let k=b[E];if(Array.isArray(k)){const M=h?k.length-1:0;k=k[M]}k!==null&&(i[E]=k)}for(const E in _)i[E]=_[E]}}}return i}const xu=["transformPerspective","x","y","z","translateX","translateY","translateZ","scale","scaleX","scaleY","rotate","rotateX","rotateY","rotateZ","skew","skewX","skewY"],Cl=new Set(xu),FO=t=>e=>typeof e=="string"&&e.startsWith(t),VO=FO("--"),zH=FO("var(--"),l1=t=>zH(t)?WH.test(t.split("/*")[0].trim()):!1,WH=/var\(--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)$/iu,UO=(t,e)=>e&&typeof t=="number"?e.transform(t):t,$s=(t,e,n)=>n>e?e:n<t?t:n,bu={test:t=>typeof t=="number",parse:parseFloat,transform:t=>t},xh={...bu,transform:t=>$s(0,1,t)},Qf={...bu,default:1},Jh=t=>({test:e=>typeof e=="string"&&e.endsWith(t)&&e.split(" ").length===1,parse:parseFloat,transform:e=>`${e}${t}`}),ho=Jh("deg"),qi=Jh("%"),Ae=Jh("px"),HH=Jh("vh"),KH=Jh("vw"),SC={...qi,parse:t=>qi.parse(t)/100,transform:t=>qi.transform(t*100)},GH={borderWidth:Ae,borderTopWidth:Ae,borderRightWidth:Ae,borderBottomWidth:Ae,borderLeftWidth:Ae,borderRadius:Ae,radius:Ae,borderTopLeftRadius:Ae,borderTopRightRadius:Ae,borderBottomRightRadius:Ae,borderBottomLeftRadius:Ae,width:Ae,maxWidth:Ae,height:Ae,maxHeight:Ae,top:Ae,right:Ae,bottom:Ae,left:Ae,padding:Ae,paddingTop:Ae,paddingRight:Ae,paddingBottom:Ae,paddingLeft:Ae,margin:Ae,marginTop:Ae,marginRight:Ae,marginBottom:Ae,marginLeft:Ae,backgroundPositionX:Ae,backgroundPositionY:Ae},qH={rotate:ho,rotateX:ho,rotateY:ho,rotateZ:ho,scale:Qf,scaleX:Qf,scaleY:Qf,scaleZ:Qf,skew:ho,skewX:ho,skewY:ho,distance:Ae,translateX:Ae,translateY:Ae,translateZ:Ae,x:Ae,y:Ae,z:Ae,perspective:Ae,transformPerspective:Ae,opacity:xh,originX:SC,originY:SC,originZ:Ae},EC={...bu,transform:Math.round},c1={...GH,...qH,zIndex:EC,size:Ae,fillOpacity:xh,strokeOpacity:xh,numOctaves:EC},YH={x:"translateX",y:"translateY",z:"translateZ",transformPerspective:"perspective"},QH=xu.length;function XH(t,e,n){let r="",i=!0;for(let s=0;s<QH;s++){const o=xu[s],a=t[o];if(a===void 0)continue;let l=!0;if(typeof a=="number"?l=a===(o.startsWith("scale")?1:0):l=parseFloat(a)===0,!l||n){const c=UO(a,c1[o]);if(!l){i=!1;const h=YH[o]||o;r+=`${h}(${c}) `}n&&(e[o]=c)}}return r=r.trim(),n?r=n(e,i?"":r):i&&(r="none"),r}function u1(t,e,n){const{style:r,vars:i,transformOrigin:s}=t;let o=!1,a=!1;for(const l in e){const c=e[l];if(Cl.has(l)){o=!0;continue}else if(VO(l)){i[l]=c;continue}else{const h=UO(c,c1[l]);l.startsWith("origin")?(a=!0,s[l]=h):r[l]=h}}if(e.transform||(o||n?r.transform=XH(e,t.transform,n):r.transform&&(r.transform="none")),a){const{originX:l="50%",originY:c="50%",originZ:h=0}=s;r.transformOrigin=`${l} ${c} ${h}`}}const JH={offset:"stroke-dashoffset",array:"stroke-dasharray"},ZH={offset:"strokeDashoffset",array:"strokeDasharray"};function e7(t,e,n=1,r=0,i=!0){t.pathLength=1;const s=i?JH:ZH;t[s.offset]=Ae.transform(-r);const o=Ae.transform(e),a=Ae.transform(n);t[s.array]=`${o} ${a}`}function CC(t,e,n){return typeof t=="string"?t:Ae.transform(e+n*t)}function t7(t,e,n){const r=CC(e,t.x,t.width),i=CC(n,t.y,t.height);return`${r} ${i}`}function d1(t,{attrX:e,attrY:n,attrScale:r,originX:i,originY:s,pathLength:o,pathSpacing:a=1,pathOffset:l=0,...c},h,p){if(u1(t,c,p),h){t.style.viewBox&&(t.attrs.viewBox=t.style.viewBox);return}t.attrs=t.style,t.style={};const{attrs:m,style:w,dimensions:T}=t;m.transform&&(T&&(w.transform=m.transform),delete m.transform),T&&(i!==void 0||s!==void 0||w.transform)&&(w.transformOrigin=t7(T,i!==void 0?i:.5,s!==void 0?s:.5)),e!==void 0&&(m.x=e),n!==void 0&&(m.y=n),r!==void 0&&(m.scale=r),o!==void 0&&e7(m,o,a,l,!1)}const h1=()=>({style:{},transform:{},transformOrigin:{},vars:{}}),BO=()=>({...h1(),attrs:{}}),f1=t=>typeof t=="string"&&t.toLowerCase()==="svg";function $O(t,{style:e,vars:n},r,i){Object.assign(t.style,e,i&&i.getProjectionStyles(r));for(const s in n)t.style.setProperty(s,n[s])}const zO=new Set(["baseFrequency","diffuseConstant","kernelMatrix","kernelUnitLength","keySplines","keyTimes","limitingConeAngle","markerHeight","markerWidth","numOctaves","targetX","targetY","surfaceScale","specularConstant","specularExponent","stdDeviation","tableValues","viewBox","gradientTransform","pathLength","startOffset","textLength","lengthAdjust"]);function WO(t,e,n,r){$O(t,e,void 0,r);for(const i in e.attrs)t.setAttribute(zO.has(i)?i:i1(i),e.attrs[i])}const Um={};function n7(t){Object.assign(Um,t)}function HO(t,{layout:e,layoutId:n}){return Cl.has(t)||t.startsWith("origin")||(e||n!==void 0)&&(!!Um[t]||t==="opacity")}function p1(t,e,n){var r;const{style:i}=t,s={};for(const o in i)(In(i[o])||e.style&&In(e.style[o])||HO(o,t)||((r=n==null?void 0:n.getValue(o))===null||r===void 0?void 0:r.liveStyle)!==void 0)&&(s[o]=i[o]);return s}function KO(t,e,n){const r=p1(t,e,n);for(const i in t)if(In(t[i])||In(e[i])){const s=xu.indexOf(i)!==-1?"attr"+i.charAt(0).toUpperCase()+i.substring(1):i;r[s]=t[i]}return r}function r7(t,e){try{e.dimensions=typeof t.getBBox=="function"?t.getBBox():t.getBoundingClientRect()}catch{e.dimensions={x:0,y:0,width:0,height:0}}}const TC=["x","y","width","height","cx","cy","r"],i7={useVisualState:LO({scrapeMotionValuesFromProps:KO,createRenderState:BO,onUpdate:({props:t,prevProps:e,current:n,renderState:r,latestValues:i})=>{if(!n)return;let s=!!t.drag;if(!s){for(const a in i)if(Cl.has(a)){s=!0;break}}if(!s)return;let o=!e;if(e)for(let a=0;a<TC.length;a++){const l=TC[a];t[l]!==e[l]&&(o=!0)}o&&Tt.read(()=>{r7(n,r),Tt.render(()=>{d1(r,i,f1(n.tagName),t.transformTemplate),WO(n,r)})})}})},s7={useVisualState:LO({scrapeMotionValuesFromProps:p1,createRenderState:h1})};function GO(t,e,n){for(const r in e)!In(e[r])&&!HO(r,n)&&(t[r]=e[r])}function o7({transformTemplate:t},e){return S.useMemo(()=>{const n=h1();return u1(n,e,t),Object.assign({},n.vars,n.style)},[e])}function a7(t,e){const n=t.style||{},r={};return GO(r,n,t),Object.assign(r,o7(t,e)),r}function l7(t,e){const n={},r=a7(t,e);return t.drag&&t.dragListener!==!1&&(n.draggable=!1,r.userSelect=r.WebkitUserSelect=r.WebkitTouchCallout="none",r.touchAction=t.drag===!0?"none":`pan-${t.drag==="x"?"y":"x"}`),t.tabIndex===void 0&&(t.onTap||t.onTapStart||t.whileTap)&&(n.tabIndex=0),n.style=r,n}function c7(t,e,n,r){const i=S.useMemo(()=>{const s=BO();return d1(s,e,f1(r),t.transformTemplate),{...s.attrs,style:{...s.style}}},[e]);if(t.style){const s={};GO(s,t.style,t),i.style={...s,...i.style}}return i}function u7(t=!1){return(n,r,i,{latestValues:s},o)=>{const l=(o1(n)?c7:l7)(r,s,o,n),c=CH(r,typeof n=="string",t),h=n!==S.Fragment?{...c,...l,ref:i}:{},{children:p}=r,m=S.useMemo(()=>In(p)?p.get():p,[p]);return S.createElement(n,{...h,children:m})}}function d7(t,e){return function(r,{forwardMotionProps:i}={forwardMotionProps:!1}){const o={...o1(r)?i7:s7,preloadedFeatures:t,useRender:u7(i),createVisualElement:e,Component:r};return DH(o)}}function qO(t,e){if(!Array.isArray(e))return!1;const n=e.length;if(n!==t.length)return!1;for(let r=0;r<n;r++)if(e[r]!==t[r])return!1;return!0}function Gg(t,e,n){const r=t.getProps();return a1(r,e,n!==void 0?n:r.custom,t)}const h7=t1(()=>window.ScrollTimeline!==void 0);class f7{constructor(e){this.stop=()=>this.runAll("stop"),this.animations=e.filter(Boolean)}get finished(){return Promise.all(this.animations.map(e=>"finished"in e?e.finished:e))}getAll(e){return this.animations[0][e]}setAll(e,n){for(let r=0;r<this.animations.length;r++)this.animations[r][e]=n}attachTimeline(e,n){const r=this.animations.map(i=>{if(h7()&&i.attachTimeline)return i.attachTimeline(e);if(typeof n=="function")return n(i)});return()=>{r.forEach((i,s)=>{i&&i(),this.animations[s].stop()})}}get time(){return this.getAll("time")}set time(e){this.setAll("time",e)}get speed(){return this.getAll("speed")}set speed(e){this.setAll("speed",e)}get startTime(){return this.getAll("startTime")}get duration(){let e=0;for(let n=0;n<this.animations.length;n++)e=Math.max(e,this.animations[n].duration);return e}runAll(e){this.animations.forEach(n=>n[e]())}flatten(){this.runAll("flatten")}play(){this.runAll("play")}pause(){this.runAll("pause")}cancel(){this.runAll("cancel")}complete(){this.runAll("complete")}}class p7 extends f7{then(e,n){return Promise.all(this.animations).then(e).catch(n)}}function m1(t,e){return t?t[e]||t.default||t:void 0}const s0=2e4;function YO(t){let e=0;const n=50;let r=t.next(e);for(;!r.done&&e<s0;)e+=n,r=t.next(e);return e>=s0?1/0:e}function g1(t){return typeof t=="function"}function PC(t,e){t.timeline=e,t.onfinish=null}const y1=t=>Array.isArray(t)&&typeof t[0]=="number",m7={linearEasing:void 0};function g7(t,e){const n=t1(t);return()=>{var r;return(r=m7[e])!==null&&r!==void 0?r:n()}}const Bm=g7(()=>{try{document.createElement("div").animate({opacity:0},{easing:"linear(0, 1)"})}catch{return!1}return!0},"linearEasing"),QO=(t,e,n=10)=>{let r="";const i=Math.max(Math.round(e/n),2);for(let s=0;s<i;s++)r+=t(ou(0,i-1,s))+", ";return`linear(${r.substring(0,r.length-2)})`};function XO(t){return!!(typeof t=="function"&&Bm()||!t||typeof t=="string"&&(t in o0||Bm())||y1(t)||Array.isArray(t)&&t.every(XO))}const od=([t,e,n,r])=>`cubic-bezier(${t}, ${e}, ${n}, ${r})`,o0={linear:"linear",ease:"ease",easeIn:"ease-in",easeOut:"ease-out",easeInOut:"ease-in-out",circIn:od([0,.65,.55,1]),circOut:od([.55,0,1,.45]),backIn:od([.31,.01,.66,-.59]),backOut:od([.33,1.53,.69,.99])};function JO(t,e){if(t)return typeof t=="function"&&Bm()?QO(t,e):y1(t)?od(t):Array.isArray(t)?t.map(n=>JO(n,e)||o0.easeOut):o0[t]}const ri={x:!1,y:!1};function ZO(){return ri.x||ri.y}function y7(t,e,n){var r;if(t instanceof Element)return[t];if(typeof t=="string"){let i=document;const s=(r=void 0)!==null&&r!==void 0?r:i.querySelectorAll(t);return s?Array.from(s):[]}return Array.from(t)}function eD(t,e){const n=y7(t),r=new AbortController,i={passive:!0,...e,signal:r.signal};return[n,i,()=>r.abort()]}function IC(t){return e=>{e.pointerType==="touch"||ZO()||t(e)}}function v7(t,e,n={}){const[r,i,s]=eD(t,n),o=IC(a=>{const{target:l}=a,c=e(a);if(typeof c!="function"||!l)return;const h=IC(p=>{c(p),l.removeEventListener("pointerleave",h)});l.addEventListener("pointerleave",h,i)});return r.forEach(a=>{a.addEventListener("pointerenter",o,i)}),s}const tD=(t,e)=>e?t===e?!0:tD(t,e.parentElement):!1,v1=t=>t.pointerType==="mouse"?typeof t.button!="number"||t.button<=0:t.isPrimary!==!1,_7=new Set(["BUTTON","INPUT","SELECT","TEXTAREA","A"]);function w7(t){return _7.has(t.tagName)||t.tabIndex!==-1}const ad=new WeakSet;function kC(t){return e=>{e.key==="Enter"&&t(e)}}function lv(t,e){t.dispatchEvent(new PointerEvent("pointer"+e,{isPrimary:!0,bubbles:!0}))}const x7=(t,e)=>{const n=t.currentTarget;if(!n)return;const r=kC(()=>{if(ad.has(n))return;lv(n,"down");const i=kC(()=>{lv(n,"up")}),s=()=>lv(n,"cancel");n.addEventListener("keyup",i,e),n.addEventListener("blur",s,e)});n.addEventListener("keydown",r,e),n.addEventListener("blur",()=>n.removeEventListener("keydown",r),e)};function RC(t){return v1(t)&&!ZO()}function b7(t,e,n={}){const[r,i,s]=eD(t,n),o=a=>{const l=a.currentTarget;if(!RC(a)||ad.has(l))return;ad.add(l);const c=e(a),h=(w,T)=>{window.removeEventListener("pointerup",p),window.removeEventListener("pointercancel",m),!(!RC(w)||!ad.has(l))&&(ad.delete(l),typeof c=="function"&&c(w,{success:T}))},p=w=>{h(w,n.useGlobalTarget||tD(l,w.target))},m=w=>{h(w,!1)};window.addEventListener("pointerup",p,i),window.addEventListener("pointercancel",m,i)};return r.forEach(a=>{!w7(a)&&a.getAttribute("tabindex")===null&&(a.tabIndex=0),(n.useGlobalTarget?window:a).addEventListener("pointerdown",o,i),a.addEventListener("focus",c=>x7(c,i),i)}),s}function S7(t){return t==="x"||t==="y"?ri[t]?null:(ri[t]=!0,()=>{ri[t]=!1}):ri.x||ri.y?null:(ri.x=ri.y=!0,()=>{ri.x=ri.y=!1})}const nD=new Set(["width","height","top","left","right","bottom",...xu]);let Tp;function E7(){Tp=void 0}const Yi={now:()=>(Tp===void 0&&Yi.set(dn.isProcessing||_H.useManualTiming?dn.timestamp:performance.now()),Tp),set:t=>{Tp=t,queueMicrotask(E7)}};function _1(t,e){t.indexOf(e)===-1&&t.push(e)}function w1(t,e){const n=t.indexOf(e);n>-1&&t.splice(n,1)}class x1{constructor(){this.subscriptions=[]}add(e){return _1(this.subscriptions,e),()=>w1(this.subscriptions,e)}notify(e,n,r){const i=this.subscriptions.length;if(i)if(i===1)this.subscriptions[0](e,n,r);else for(let s=0;s<i;s++){const o=this.subscriptions[s];o&&o(e,n,r)}}getSize(){return this.subscriptions.length}clear(){this.subscriptions.length=0}}function rD(t,e){return e?t*(1e3/e):0}const AC=30,C7=t=>!isNaN(parseFloat(t));class T7{constructor(e,n={}){this.version="11.18.2",this.canTrackVelocity=null,this.events={},this.updateAndNotify=(r,i=!0)=>{const s=Yi.now();this.updatedAt!==s&&this.setPrevFrameValue(),this.prev=this.current,this.setCurrent(r),this.current!==this.prev&&this.events.change&&this.events.change.notify(this.current),i&&this.events.renderRequest&&this.events.renderRequest.notify(this.current)},this.hasAnimated=!1,this.setCurrent(e),this.owner=n.owner}setCurrent(e){this.current=e,this.updatedAt=Yi.now(),this.canTrackVelocity===null&&e!==void 0&&(this.canTrackVelocity=C7(this.current))}setPrevFrameValue(e=this.current){this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt}onChange(e){return this.on("change",e)}on(e,n){this.events[e]||(this.events[e]=new x1);const r=this.events[e].add(n);return e==="change"?()=>{r(),Tt.read(()=>{this.events.change.getSize()||this.stop()})}:r}clearListeners(){for(const e in this.events)this.events[e].clear()}attach(e,n){this.passiveEffect=e,this.stopPassiveEffect=n}set(e,n=!0){!n||!this.passiveEffect?this.updateAndNotify(e,n):this.passiveEffect(e,this.updateAndNotify)}setWithVelocity(e,n,r){this.set(n),this.prev=void 0,this.prevFrameValue=e,this.prevUpdatedAt=this.updatedAt-r}jump(e,n=!0){this.updateAndNotify(e),this.prev=e,this.prevUpdatedAt=this.prevFrameValue=void 0,n&&this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}get(){return this.current}getPrevious(){return this.prev}getVelocity(){const e=Yi.now();if(!this.canTrackVelocity||this.prevFrameValue===void 0||e-this.updatedAt>AC)return 0;const n=Math.min(this.updatedAt-this.prevUpdatedAt,AC);return rD(parseFloat(this.current)-parseFloat(this.prevFrameValue),n)}start(e){return this.stop(),new Promise(n=>{this.hasAnimated=!0,this.animation=e(n),this.events.animationStart&&this.events.animationStart.notify()}).then(()=>{this.events.animationComplete&&this.events.animationComplete.notify(),this.clearAnimation()})}stop(){this.animation&&(this.animation.stop(),this.events.animationCancel&&this.events.animationCancel.notify()),this.clearAnimation()}isAnimating(){return!!this.animation}clearAnimation(){delete this.animation}destroy(){this.clearListeners(),this.stop(),this.stopPassiveEffect&&this.stopPassiveEffect()}}function bh(t,e){return new T7(t,e)}function P7(t,e,n){t.hasValue(e)?t.getValue(e).set(n):t.addValue(e,bh(n))}function I7(t,e){const n=Gg(t,e);let{transitionEnd:r={},transition:i={},...s}=n||{};s={...s,...r};for(const o in s){const a=UH(s[o]);P7(t,o,a)}}function k7(t){return!!(In(t)&&t.add)}function a0(t,e){const n=t.getValue("willChange");if(k7(n))return n.add(e)}function iD(t){return t.props[DO]}const sD=(t,e,n)=>(((1-3*n+3*e)*t+(3*n-6*e))*t+3*e)*t,R7=1e-7,A7=12;function N7(t,e,n,r,i){let s,o,a=0;do o=e+(n-e)/2,s=sD(o,r,i)-t,s>0?n=o:e=o;while(Math.abs(s)>R7&&++a<A7);return o}function Zh(t,e,n,r){if(t===e&&n===r)return yr;const i=s=>N7(s,0,1,t,n);return s=>s===0||s===1?s:sD(i(s),e,r)}const oD=t=>e=>e<=.5?t(2*e)/2:(2-t(2*(1-e)))/2,aD=t=>e=>1-t(1-e),lD=Zh(.33,1.53,.69,.99),b1=aD(lD),cD=oD(b1),uD=t=>(t*=2)<1?.5*b1(t):.5*(2-Math.pow(2,-10*(t-1))),S1=t=>1-Math.sin(Math.acos(t)),dD=aD(S1),hD=oD(S1),fD=t=>/^0[^.\s]+$/u.test(t);function O7(t){return typeof t=="number"?t===0:t!==null?t==="none"||t==="0"||fD(t):!0}const Ad=t=>Math.round(t*1e5)/1e5,E1=/-?(?:\d+(?:\.\d+)?|\.\d+)/gu;function D7(t){return t==null}const M7=/^(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))$/iu,C1=(t,e)=>n=>!!(typeof n=="string"&&M7.test(n)&&n.startsWith(t)||e&&!D7(n)&&Object.prototype.hasOwnProperty.call(n,e)),pD=(t,e,n)=>r=>{if(typeof r!="string")return r;const[i,s,o,a]=r.match(E1);return{[t]:parseFloat(i),[e]:parseFloat(s),[n]:parseFloat(o),alpha:a!==void 0?parseFloat(a):1}},j7=t=>$s(0,255,t),cv={...bu,transform:t=>Math.round(j7(t))},qa={test:C1("rgb","red"),parse:pD("red","green","blue"),transform:({red:t,green:e,blue:n,alpha:r=1})=>"rgba("+cv.transform(t)+", "+cv.transform(e)+", "+cv.transform(n)+", "+Ad(xh.transform(r))+")"};function L7(t){let e="",n="",r="",i="";return t.length>5?(e=t.substring(1,3),n=t.substring(3,5),r=t.substring(5,7),i=t.substring(7,9)):(e=t.substring(1,2),n=t.substring(2,3),r=t.substring(3,4),i=t.substring(4,5),e+=e,n+=n,r+=r,i+=i),{red:parseInt(e,16),green:parseInt(n,16),blue:parseInt(r,16),alpha:i?parseInt(i,16)/255:1}}const l0={test:C1("#"),parse:L7,transform:qa.transform},hc={test:C1("hsl","hue"),parse:pD("hue","saturation","lightness"),transform:({hue:t,saturation:e,lightness:n,alpha:r=1})=>"hsla("+Math.round(t)+", "+qi.transform(Ad(e))+", "+qi.transform(Ad(n))+", "+Ad(xh.transform(r))+")"},Tn={test:t=>qa.test(t)||l0.test(t)||hc.test(t),parse:t=>qa.test(t)?qa.parse(t):hc.test(t)?hc.parse(t):l0.parse(t),transform:t=>typeof t=="string"?t:t.hasOwnProperty("red")?qa.transform(t):hc.transform(t)},F7=/(?:#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\))/giu;function V7(t){var e,n;return isNaN(t)&&typeof t=="string"&&(((e=t.match(E1))===null||e===void 0?void 0:e.length)||0)+(((n=t.match(F7))===null||n===void 0?void 0:n.length)||0)>0}const mD="number",gD="color",U7="var",B7="var(",NC="${}",$7=/var\s*\(\s*--(?:[\w-]+\s*|[\w-]+\s*,(?:\s*[^)(\s]|\s*\((?:[^)(]|\([^)(]*\))*\))+\s*)\)|#[\da-f]{3,8}|(?:rgb|hsl)a?\((?:-?[\d.]+%?[,\s]+){2}-?[\d.]+%?\s*(?:[,/]\s*)?(?:\b\d+(?:\.\d+)?|\.\d+)?%?\)|-?(?:\d+(?:\.\d+)?|\.\d+)/giu;function Sh(t){const e=t.toString(),n=[],r={color:[],number:[],var:[]},i=[];let s=0;const a=e.replace($7,l=>(Tn.test(l)?(r.color.push(s),i.push(gD),n.push(Tn.parse(l))):l.startsWith(B7)?(r.var.push(s),i.push(U7),n.push(l)):(r.number.push(s),i.push(mD),n.push(parseFloat(l))),++s,NC)).split(NC);return{values:n,split:a,indexes:r,types:i}}function yD(t){return Sh(t).values}function vD(t){const{split:e,types:n}=Sh(t),r=e.length;return i=>{let s="";for(let o=0;o<r;o++)if(s+=e[o],i[o]!==void 0){const a=n[o];a===mD?s+=Ad(i[o]):a===gD?s+=Tn.transform(i[o]):s+=i[o]}return s}}const z7=t=>typeof t=="number"?0:t;function W7(t){const e=yD(t);return vD(t)(e.map(z7))}const ia={test:V7,parse:yD,createTransformer:vD,getAnimatableNone:W7},H7=new Set(["brightness","contrast","saturate","opacity"]);function K7(t){const[e,n]=t.slice(0,-1).split("(");if(e==="drop-shadow")return t;const[r]=n.match(E1)||[];if(!r)return t;const i=n.replace(r,"");let s=H7.has(e)?1:0;return r!==n&&(s*=100),e+"("+s+i+")"}const G7=/\b([a-z-]*)\(.*?\)/gu,c0={...ia,getAnimatableNone:t=>{const e=t.match(G7);return e?e.map(K7).join(" "):t}},q7={...c1,color:Tn,backgroundColor:Tn,outlineColor:Tn,fill:Tn,stroke:Tn,borderColor:Tn,borderTopColor:Tn,borderRightColor:Tn,borderBottomColor:Tn,borderLeftColor:Tn,filter:c0,WebkitFilter:c0},T1=t=>q7[t];function _D(t,e){let n=T1(t);return n!==c0&&(n=ia),n.getAnimatableNone?n.getAnimatableNone(e):void 0}const Y7=new Set(["auto","none","0"]);function Q7(t,e,n){let r=0,i;for(;r<t.length&&!i;){const s=t[r];typeof s=="string"&&!Y7.has(s)&&Sh(s).values.length&&(i=t[r]),r++}if(i&&n)for(const s of e)t[s]=_D(n,i)}const OC=t=>t===bu||t===Ae,DC=(t,e)=>parseFloat(t.split(", ")[e]),MC=(t,e)=>(n,{transform:r})=>{if(r==="none"||!r)return 0;const i=r.match(/^matrix3d\((.+)\)$/u);if(i)return DC(i[1],e);{const s=r.match(/^matrix\((.+)\)$/u);return s?DC(s[1],t):0}},X7=new Set(["x","y","z"]),J7=xu.filter(t=>!X7.has(t));function Z7(t){const e=[];return J7.forEach(n=>{const r=t.getValue(n);r!==void 0&&(e.push([n,r.get()]),r.set(n.startsWith("scale")?1:0))}),e}const lu={width:({x:t},{paddingLeft:e="0",paddingRight:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),height:({y:t},{paddingTop:e="0",paddingBottom:n="0"})=>t.max-t.min-parseFloat(e)-parseFloat(n),top:(t,{top:e})=>parseFloat(e),left:(t,{left:e})=>parseFloat(e),bottom:({y:t},{top:e})=>parseFloat(e)+(t.max-t.min),right:({x:t},{left:e})=>parseFloat(e)+(t.max-t.min),x:MC(4,13),y:MC(5,14)};lu.translateX=lu.x;lu.translateY=lu.y;const sl=new Set;let u0=!1,d0=!1;function wD(){if(d0){const t=Array.from(sl).filter(r=>r.needsMeasurement),e=new Set(t.map(r=>r.element)),n=new Map;e.forEach(r=>{const i=Z7(r);i.length&&(n.set(r,i),r.render())}),t.forEach(r=>r.measureInitialState()),e.forEach(r=>{r.render();const i=n.get(r);i&&i.forEach(([s,o])=>{var a;(a=r.getValue(s))===null||a===void 0||a.set(o)})}),t.forEach(r=>r.measureEndState()),t.forEach(r=>{r.suspendedScrollY!==void 0&&window.scrollTo(0,r.suspendedScrollY)})}d0=!1,u0=!1,sl.forEach(t=>t.complete()),sl.clear()}function xD(){sl.forEach(t=>{t.readKeyframes(),t.needsMeasurement&&(d0=!0)})}function eK(){xD(),wD()}class P1{constructor(e,n,r,i,s,o=!1){this.isComplete=!1,this.isAsync=!1,this.needsMeasurement=!1,this.isScheduled=!1,this.unresolvedKeyframes=[...e],this.onComplete=n,this.name=r,this.motionValue=i,this.element=s,this.isAsync=o}scheduleResolve(){this.isScheduled=!0,this.isAsync?(sl.add(this),u0||(u0=!0,Tt.read(xD),Tt.resolveKeyframes(wD))):(this.readKeyframes(),this.complete())}readKeyframes(){const{unresolvedKeyframes:e,name:n,element:r,motionValue:i}=this;for(let s=0;s<e.length;s++)if(e[s]===null)if(s===0){const o=i==null?void 0:i.get(),a=e[e.length-1];if(o!==void 0)e[0]=o;else if(r&&n){const l=r.readValue(n,a);l!=null&&(e[0]=l)}e[0]===void 0&&(e[0]=a),i&&o===void 0&&i.set(e[0])}else e[s]=e[s-1]}setFinalKeyframe(){}measureInitialState(){}renderEndStyles(){}measureEndState(){}complete(){this.isComplete=!0,this.onComplete(this.unresolvedKeyframes,this.finalKeyframe),sl.delete(this)}cancel(){this.isComplete||(this.isScheduled=!1,sl.delete(this))}resume(){this.isComplete||this.scheduleResolve()}}const bD=t=>/^-?(?:\d+(?:\.\d+)?|\.\d+)$/u.test(t),tK=/^var\(--(?:([\w-]+)|([\w-]+), ?([a-zA-Z\d ()%#.,-]+))\)/u;function nK(t){const e=tK.exec(t);if(!e)return[,];const[,n,r,i]=e;return[`--${n??r}`,i]}function SD(t,e,n=1){const[r,i]=nK(t);if(!r)return;const s=window.getComputedStyle(e).getPropertyValue(r);if(s){const o=s.trim();return bD(o)?parseFloat(o):o}return l1(i)?SD(i,e,n+1):i}const ED=t=>e=>e.test(t),rK={test:t=>t==="auto",parse:t=>t},CD=[bu,Ae,qi,ho,KH,HH,rK],jC=t=>CD.find(ED(t));class TD extends P1{constructor(e,n,r,i,s){super(e,n,r,i,s,!0)}readKeyframes(){const{unresolvedKeyframes:e,element:n,name:r}=this;if(!n||!n.current)return;super.readKeyframes();for(let l=0;l<e.length;l++){let c=e[l];if(typeof c=="string"&&(c=c.trim(),l1(c))){const h=SD(c,n.current);h!==void 0&&(e[l]=h),l===e.length-1&&(this.finalKeyframe=c)}}if(this.resolveNoneKeyframes(),!nD.has(r)||e.length!==2)return;const[i,s]=e,o=jC(i),a=jC(s);if(o!==a)if(OC(o)&&OC(a))for(let l=0;l<e.length;l++){const c=e[l];typeof c=="string"&&(e[l]=parseFloat(c))}else this.needsMeasurement=!0}resolveNoneKeyframes(){const{unresolvedKeyframes:e,name:n}=this,r=[];for(let i=0;i<e.length;i++)O7(e[i])&&r.push(i);r.length&&Q7(e,r,n)}measureInitialState(){const{element:e,unresolvedKeyframes:n,name:r}=this;if(!e||!e.current)return;r==="height"&&(this.suspendedScrollY=window.pageYOffset),this.measuredOrigin=lu[r](e.measureViewportBox(),window.getComputedStyle(e.current)),n[0]=this.measuredOrigin;const i=n[n.length-1];i!==void 0&&e.getValue(r,i).jump(i,!1)}measureEndState(){var e;const{element:n,name:r,unresolvedKeyframes:i}=this;if(!n||!n.current)return;const s=n.getValue(r);s&&s.jump(this.measuredOrigin,!1);const o=i.length-1,a=i[o];i[o]=lu[r](n.measureViewportBox(),window.getComputedStyle(n.current)),a!==null&&this.finalKeyframe===void 0&&(this.finalKeyframe=a),!((e=this.removedTransforms)===null||e===void 0)&&e.length&&this.removedTransforms.forEach(([l,c])=>{n.getValue(l).set(c)}),this.resolveNoneKeyframes()}}const LC=(t,e)=>e==="zIndex"?!1:!!(typeof t=="number"||Array.isArray(t)||typeof t=="string"&&(ia.test(t)||t==="0")&&!t.startsWith("url("));function iK(t){const e=t[0];if(t.length===1)return!0;for(let n=0;n<t.length;n++)if(t[n]!==e)return!0}function sK(t,e,n,r){const i=t[0];if(i===null)return!1;if(e==="display"||e==="visibility")return!0;const s=t[t.length-1],o=LC(i,e),a=LC(s,e);return!o||!a?!1:iK(t)||(n==="spring"||g1(n))&&r}const oK=t=>t!==null;function qg(t,{repeat:e,repeatType:n="loop"},r){const i=t.filter(oK),s=e&&n!=="loop"&&e%2===1?0:i.length-1;return!s||r===void 0?i[s]:r}const aK=40;class PD{constructor({autoplay:e=!0,delay:n=0,type:r="keyframes",repeat:i=0,repeatDelay:s=0,repeatType:o="loop",...a}){this.isStopped=!1,this.hasAttemptedResolve=!1,this.createdAt=Yi.now(),this.options={autoplay:e,delay:n,type:r,repeat:i,repeatDelay:s,repeatType:o,...a},this.updateFinishedPromise()}calcStartTime(){return this.resolvedAt?this.resolvedAt-this.createdAt>aK?this.resolvedAt:this.createdAt:this.createdAt}get resolved(){return!this._resolved&&!this.hasAttemptedResolve&&eK(),this._resolved}onKeyframesResolved(e,n){this.resolvedAt=Yi.now(),this.hasAttemptedResolve=!0;const{name:r,type:i,velocity:s,delay:o,onComplete:a,onUpdate:l,isGenerator:c}=this.options;if(!c&&!sK(e,r,i,s))if(o)this.options.duration=0;else{l&&l(qg(e,this.options,n)),a&&a(),this.resolveFinishedPromise();return}const h=this.initPlayback(e,n);h!==!1&&(this._resolved={keyframes:e,finalKeyframe:n,...h},this.onPostResolved())}onPostResolved(){}then(e,n){return this.currentFinishedPromise.then(e,n)}flatten(){this.options.type="keyframes",this.options.ease="linear"}updateFinishedPromise(){this.currentFinishedPromise=new Promise(e=>{this.resolveFinishedPromise=e})}}const Nt=(t,e,n)=>t+(e-t)*n;function uv(t,e,n){return n<0&&(n+=1),n>1&&(n-=1),n<1/6?t+(e-t)*6*n:n<1/2?e:n<2/3?t+(e-t)*(2/3-n)*6:t}function lK({hue:t,saturation:e,lightness:n,alpha:r}){t/=360,e/=100,n/=100;let i=0,s=0,o=0;if(!e)i=s=o=n;else{const a=n<.5?n*(1+e):n+e-n*e,l=2*n-a;i=uv(l,a,t+1/3),s=uv(l,a,t),o=uv(l,a,t-1/3)}return{red:Math.round(i*255),green:Math.round(s*255),blue:Math.round(o*255),alpha:r}}function $m(t,e){return n=>n>0?e:t}const dv=(t,e,n)=>{const r=t*t,i=n*(e*e-r)+r;return i<0?0:Math.sqrt(i)},cK=[l0,qa,hc],uK=t=>cK.find(e=>e.test(t));function FC(t){const e=uK(t);if(!e)return!1;let n=e.parse(t);return e===hc&&(n=lK(n)),n}const VC=(t,e)=>{const n=FC(t),r=FC(e);if(!n||!r)return $m(t,e);const i={...n};return s=>(i.red=dv(n.red,r.red,s),i.green=dv(n.green,r.green,s),i.blue=dv(n.blue,r.blue,s),i.alpha=Nt(n.alpha,r.alpha,s),qa.transform(i))},dK=(t,e)=>n=>e(t(n)),ef=(...t)=>t.reduce(dK),h0=new Set(["none","hidden"]);function hK(t,e){return h0.has(t)?n=>n<=0?t:e:n=>n>=1?e:t}function fK(t,e){return n=>Nt(t,e,n)}function I1(t){return typeof t=="number"?fK:typeof t=="string"?l1(t)?$m:Tn.test(t)?VC:gK:Array.isArray(t)?ID:typeof t=="object"?Tn.test(t)?VC:pK:$m}function ID(t,e){const n=[...t],r=n.length,i=t.map((s,o)=>I1(s)(s,e[o]));return s=>{for(let o=0;o<r;o++)n[o]=i[o](s);return n}}function pK(t,e){const n={...t,...e},r={};for(const i in n)t[i]!==void 0&&e[i]!==void 0&&(r[i]=I1(t[i])(t[i],e[i]));return i=>{for(const s in r)n[s]=r[s](i);return n}}function mK(t,e){var n;const r=[],i={color:0,var:0,number:0};for(let s=0;s<e.values.length;s++){const o=e.types[s],a=t.indexes[o][i[o]],l=(n=t.values[a])!==null&&n!==void 0?n:0;r[s]=l,i[o]++}return r}const gK=(t,e)=>{const n=ia.createTransformer(e),r=Sh(t),i=Sh(e);return r.indexes.var.length===i.indexes.var.length&&r.indexes.color.length===i.indexes.color.length&&r.indexes.number.length>=i.indexes.number.length?h0.has(t)&&!i.values.length||h0.has(e)&&!r.values.length?hK(t,e):ef(ID(mK(r,i),i.values),n):$m(t,e)};function kD(t,e,n){return typeof t=="number"&&typeof e=="number"&&typeof n=="number"?Nt(t,e,n):I1(t)(t,e)}const yK=5;function RD(t,e,n){const r=Math.max(e-yK,0);return rD(n-t(r),e-r)}const Vt={stiffness:100,damping:10,mass:1,velocity:0,duration:800,bounce:.3,visualDuration:.3,restSpeed:{granular:.01,default:2},restDelta:{granular:.005,default:.5},minDuration:.01,maxDuration:10,minDamping:.05,maxDamping:1},hv=.001;function vK({duration:t=Vt.duration,bounce:e=Vt.bounce,velocity:n=Vt.velocity,mass:r=Vt.mass}){let i,s,o=1-e;o=$s(Vt.minDamping,Vt.maxDamping,o),t=$s(Vt.minDuration,Vt.maxDuration,Rs(t)),o<1?(i=c=>{const h=c*o,p=h*t,m=h-n,w=f0(c,o),T=Math.exp(-p);return hv-m/w*T},s=c=>{const p=c*o*t,m=p*n+n,w=Math.pow(o,2)*Math.pow(c,2)*t,T=Math.exp(-p),_=f0(Math.pow(c,2),o);return(-i(c)+hv>0?-1:1)*((m-w)*T)/_}):(i=c=>{const h=Math.exp(-c*t),p=(c-n)*t+1;return-hv+h*p},s=c=>{const h=Math.exp(-c*t),p=(n-c)*(t*t);return h*p});const a=5/t,l=wK(i,s,a);if(t=ks(t),isNaN(l))return{stiffness:Vt.stiffness,damping:Vt.damping,duration:t};{const c=Math.pow(l,2)*r;return{stiffness:c,damping:o*2*Math.sqrt(r*c),duration:t}}}const _K=12;function wK(t,e,n){let r=n;for(let i=1;i<_K;i++)r=r-t(r)/e(r);return r}function f0(t,e){return t*Math.sqrt(1-e*e)}const xK=["duration","bounce"],bK=["stiffness","damping","mass"];function UC(t,e){return e.some(n=>t[n]!==void 0)}function SK(t){let e={velocity:Vt.velocity,stiffness:Vt.stiffness,damping:Vt.damping,mass:Vt.mass,isResolvedFromDuration:!1,...t};if(!UC(t,bK)&&UC(t,xK))if(t.visualDuration){const n=t.visualDuration,r=2*Math.PI/(n*1.2),i=r*r,s=2*$s(.05,1,1-(t.bounce||0))*Math.sqrt(i);e={...e,mass:Vt.mass,stiffness:i,damping:s}}else{const n=vK(t);e={...e,...n,mass:Vt.mass},e.isResolvedFromDuration=!0}return e}function AD(t=Vt.visualDuration,e=Vt.bounce){const n=typeof t!="object"?{visualDuration:t,keyframes:[0,1],bounce:e}:t;let{restSpeed:r,restDelta:i}=n;const s=n.keyframes[0],o=n.keyframes[n.keyframes.length-1],a={done:!1,value:s},{stiffness:l,damping:c,mass:h,duration:p,velocity:m,isResolvedFromDuration:w}=SK({...n,velocity:-Rs(n.velocity||0)}),T=m||0,_=c/(2*Math.sqrt(l*h)),I=o-s,b=Rs(Math.sqrt(l/h)),E=Math.abs(I)<5;r||(r=E?Vt.restSpeed.granular:Vt.restSpeed.default),i||(i=E?Vt.restDelta.granular:Vt.restDelta.default);let k;if(_<1){const U=f0(b,_);k=H=>{const N=Math.exp(-_*b*H);return o-N*((T+_*b*I)/U*Math.sin(U*H)+I*Math.cos(U*H))}}else if(_===1)k=U=>o-Math.exp(-b*U)*(I+(T+b*I)*U);else{const U=b*Math.sqrt(_*_-1);k=H=>{const N=Math.exp(-_*b*H),R=Math.min(U*H,300);return o-N*((T+_*b*I)*Math.sinh(R)+U*I*Math.cosh(R))/U}}const M={calculatedDuration:w&&p||null,next:U=>{const H=k(U);if(w)a.done=U>=p;else{let N=0;_<1&&(N=U===0?ks(T):RD(k,U,H));const R=Math.abs(N)<=r,j=Math.abs(o-H)<=i;a.done=R&&j}return a.value=a.done?o:H,a},toString:()=>{const U=Math.min(YO(M),s0),H=QO(N=>M.next(U*N).value,U,30);return U+"ms "+H}};return M}function BC({keyframes:t,velocity:e=0,power:n=.8,timeConstant:r=325,bounceDamping:i=10,bounceStiffness:s=500,modifyTarget:o,min:a,max:l,restDelta:c=.5,restSpeed:h}){const p=t[0],m={done:!1,value:p},w=R=>a!==void 0&&R<a||l!==void 0&&R>l,T=R=>a===void 0?l:l===void 0||Math.abs(a-R)<Math.abs(l-R)?a:l;let _=n*e;const I=p+_,b=o===void 0?I:o(I);b!==I&&(_=b-p);const E=R=>-_*Math.exp(-R/r),k=R=>b+E(R),M=R=>{const j=E(R),D=k(R);m.done=Math.abs(j)<=c,m.value=m.done?b:D};let U,H;const N=R=>{w(m.value)&&(U=R,H=AD({keyframes:[m.value,T(m.value)],velocity:RD(k,R,m.value),damping:i,stiffness:s,restDelta:c,restSpeed:h}))};return N(0),{calculatedDuration:null,next:R=>{let j=!1;return!H&&U===void 0&&(j=!0,M(R),N(R)),U!==void 0&&R>=U?H.next(R-U):(!j&&M(R),m)}}}const EK=Zh(.42,0,1,1),CK=Zh(0,0,.58,1),ND=Zh(.42,0,.58,1),TK=t=>Array.isArray(t)&&typeof t[0]!="number",$C={linear:yr,easeIn:EK,easeInOut:ND,easeOut:CK,circIn:S1,circInOut:hD,circOut:dD,backIn:b1,backInOut:cD,backOut:lD,anticipate:uD},zC=t=>{if(y1(t)){r0(t.length===4);const[e,n,r,i]=t;return Zh(e,n,r,i)}else if(typeof t=="string")return r0($C[t]!==void 0),$C[t];return t};function PK(t,e,n){const r=[],i=n||kD,s=t.length-1;for(let o=0;o<s;o++){let a=i(t[o],t[o+1]);if(e){const l=Array.isArray(e)?e[o]||yr:e;a=ef(l,a)}r.push(a)}return r}function IK(t,e,{clamp:n=!0,ease:r,mixer:i}={}){const s=t.length;if(r0(s===e.length),s===1)return()=>e[0];if(s===2&&e[0]===e[1])return()=>e[1];const o=t[0]===t[1];t[0]>t[s-1]&&(t=[...t].reverse(),e=[...e].reverse());const a=PK(e,r,i),l=a.length,c=h=>{if(o&&h<t[0])return e[0];let p=0;if(l>1)for(;p<t.length-2&&!(h<t[p+1]);p++);const m=ou(t[p],t[p+1],h);return a[p](m)};return n?h=>c($s(t[0],t[s-1],h)):c}function kK(t,e){const n=t[t.length-1];for(let r=1;r<=e;r++){const i=ou(0,e,r);t.push(Nt(n,1,i))}}function RK(t){const e=[0];return kK(e,t.length-1),e}function AK(t,e){return t.map(n=>n*e)}function NK(t,e){return t.map(()=>e||ND).splice(0,t.length-1)}function zm({duration:t=300,keyframes:e,times:n,ease:r="easeInOut"}){const i=TK(r)?r.map(zC):zC(r),s={done:!1,value:e[0]},o=AK(n&&n.length===e.length?n:RK(e),t),a=IK(o,e,{ease:Array.isArray(i)?i:NK(e,i)});return{calculatedDuration:t,next:l=>(s.value=a(l),s.done=l>=t,s)}}const OK=t=>{const e=({timestamp:n})=>t(n);return{start:()=>Tt.update(e,!0),stop:()=>ra(e),now:()=>dn.isProcessing?dn.timestamp:Yi.now()}},DK={decay:BC,inertia:BC,tween:zm,keyframes:zm,spring:AD},MK=t=>t/100;class k1 extends PD{constructor(e){super(e),this.holdTime=null,this.cancelTime=null,this.currentTime=0,this.playbackSpeed=1,this.pendingPlayState="running",this.startTime=null,this.state="idle",this.stop=()=>{if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.teardown();const{onStop:l}=this.options;l&&l()};const{name:n,motionValue:r,element:i,keyframes:s}=this.options,o=(i==null?void 0:i.KeyframeResolver)||P1,a=(l,c)=>this.onKeyframesResolved(l,c);this.resolver=new o(s,a,n,r,i),this.resolver.scheduleResolve()}flatten(){super.flatten(),this._resolved&&Object.assign(this._resolved,this.initPlayback(this._resolved.keyframes))}initPlayback(e){const{type:n="keyframes",repeat:r=0,repeatDelay:i=0,repeatType:s,velocity:o=0}=this.options,a=g1(n)?n:DK[n]||zm;let l,c;a!==zm&&typeof e[0]!="number"&&(l=ef(MK,kD(e[0],e[1])),e=[0,100]);const h=a({...this.options,keyframes:e});s==="mirror"&&(c=a({...this.options,keyframes:[...e].reverse(),velocity:-o})),h.calculatedDuration===null&&(h.calculatedDuration=YO(h));const{calculatedDuration:p}=h,m=p+i,w=m*(r+1)-i;return{generator:h,mirroredGenerator:c,mapPercentToKeyframes:l,calculatedDuration:p,resolvedDuration:m,totalDuration:w}}onPostResolved(){const{autoplay:e=!0}=this.options;this.play(),this.pendingPlayState==="paused"||!e?this.pause():this.state=this.pendingPlayState}tick(e,n=!1){const{resolved:r}=this;if(!r){const{keyframes:R}=this.options;return{done:!0,value:R[R.length-1]}}const{finalKeyframe:i,generator:s,mirroredGenerator:o,mapPercentToKeyframes:a,keyframes:l,calculatedDuration:c,totalDuration:h,resolvedDuration:p}=r;if(this.startTime===null)return s.next(0);const{delay:m,repeat:w,repeatType:T,repeatDelay:_,onUpdate:I}=this.options;this.speed>0?this.startTime=Math.min(this.startTime,e):this.speed<0&&(this.startTime=Math.min(e-h/this.speed,this.startTime)),n?this.currentTime=e:this.holdTime!==null?this.currentTime=this.holdTime:this.currentTime=Math.round(e-this.startTime)*this.speed;const b=this.currentTime-m*(this.speed>=0?1:-1),E=this.speed>=0?b<0:b>h;this.currentTime=Math.max(b,0),this.state==="finished"&&this.holdTime===null&&(this.currentTime=h);let k=this.currentTime,M=s;if(w){const R=Math.min(this.currentTime,h)/p;let j=Math.floor(R),D=R%1;!D&&R>=1&&(D=1),D===1&&j--,j=Math.min(j,w+1),!!(j%2)&&(T==="reverse"?(D=1-D,_&&(D-=_/p)):T==="mirror"&&(M=o)),k=$s(0,1,D)*p}const U=E?{done:!1,value:l[0]}:M.next(k);a&&(U.value=a(U.value));let{done:H}=U;!E&&c!==null&&(H=this.speed>=0?this.currentTime>=h:this.currentTime<=0);const N=this.holdTime===null&&(this.state==="finished"||this.state==="running"&&H);return N&&i!==void 0&&(U.value=qg(l,this.options,i)),I&&I(U.value),N&&this.finish(),U}get duration(){const{resolved:e}=this;return e?Rs(e.calculatedDuration):0}get time(){return Rs(this.currentTime)}set time(e){e=ks(e),this.currentTime=e,this.holdTime!==null||this.speed===0?this.holdTime=e:this.driver&&(this.startTime=this.driver.now()-e/this.speed)}get speed(){return this.playbackSpeed}set speed(e){const n=this.playbackSpeed!==e;this.playbackSpeed=e,n&&(this.time=Rs(this.currentTime))}play(){if(this.resolver.isScheduled||this.resolver.resume(),!this._resolved){this.pendingPlayState="running";return}if(this.isStopped)return;const{driver:e=OK,onPlay:n,startTime:r}=this.options;this.driver||(this.driver=e(s=>this.tick(s))),n&&n();const i=this.driver.now();this.holdTime!==null?this.startTime=i-this.holdTime:this.startTime?this.state==="finished"&&(this.startTime=i):this.startTime=r??this.calcStartTime(),this.state==="finished"&&this.updateFinishedPromise(),this.cancelTime=this.startTime,this.holdTime=null,this.state="running",this.driver.start()}pause(){var e;if(!this._resolved){this.pendingPlayState="paused";return}this.state="paused",this.holdTime=(e=this.currentTime)!==null&&e!==void 0?e:0}complete(){this.state!=="running"&&this.play(),this.pendingPlayState=this.state="finished",this.holdTime=null}finish(){this.teardown(),this.state="finished";const{onComplete:e}=this.options;e&&e()}cancel(){this.cancelTime!==null&&this.tick(this.cancelTime),this.teardown(),this.updateFinishedPromise()}teardown(){this.state="idle",this.stopDriver(),this.resolveFinishedPromise(),this.updateFinishedPromise(),this.startTime=this.cancelTime=null,this.resolver.cancel()}stopDriver(){this.driver&&(this.driver.stop(),this.driver=void 0)}sample(e){return this.startTime=0,this.tick(e,!0)}}const jK=new Set(["opacity","clipPath","filter","transform"]);function LK(t,e,n,{delay:r=0,duration:i=300,repeat:s=0,repeatType:o="loop",ease:a="easeInOut",times:l}={}){const c={[e]:n};l&&(c.offset=l);const h=JO(a,i);return Array.isArray(h)&&(c.easing=h),t.animate(c,{delay:r,duration:i,easing:Array.isArray(h)?"linear":h,fill:"both",iterations:s+1,direction:o==="reverse"?"alternate":"normal"})}const FK=t1(()=>Object.hasOwnProperty.call(Element.prototype,"animate")),Wm=10,VK=2e4;function UK(t){return g1(t.type)||t.type==="spring"||!XO(t.ease)}function BK(t,e){const n=new k1({...e,keyframes:t,repeat:0,delay:0,isGenerator:!0});let r={done:!1,value:t[0]};const i=[];let s=0;for(;!r.done&&s<VK;)r=n.sample(s),i.push(r.value),s+=Wm;return{times:void 0,keyframes:i,duration:s-Wm,ease:"linear"}}const OD={anticipate:uD,backInOut:cD,circInOut:hD};function $K(t){return t in OD}class WC extends PD{constructor(e){super(e);const{name:n,motionValue:r,element:i,keyframes:s}=this.options;this.resolver=new TD(s,(o,a)=>this.onKeyframesResolved(o,a),n,r,i),this.resolver.scheduleResolve()}initPlayback(e,n){let{duration:r=300,times:i,ease:s,type:o,motionValue:a,name:l,startTime:c}=this.options;if(!a.owner||!a.owner.current)return!1;if(typeof s=="string"&&Bm()&&$K(s)&&(s=OD[s]),UK(this.options)){const{onComplete:p,onUpdate:m,motionValue:w,element:T,..._}=this.options,I=BK(e,_);e=I.keyframes,e.length===1&&(e[1]=e[0]),r=I.duration,i=I.times,s=I.ease,o="keyframes"}const h=LK(a.owner.current,l,e,{...this.options,duration:r,times:i,ease:s});return h.startTime=c??this.calcStartTime(),this.pendingTimeline?(PC(h,this.pendingTimeline),this.pendingTimeline=void 0):h.onfinish=()=>{const{onComplete:p}=this.options;a.set(qg(e,this.options,n)),p&&p(),this.cancel(),this.resolveFinishedPromise()},{animation:h,duration:r,times:i,type:o,ease:s,keyframes:e}}get duration(){const{resolved:e}=this;if(!e)return 0;const{duration:n}=e;return Rs(n)}get time(){const{resolved:e}=this;if(!e)return 0;const{animation:n}=e;return Rs(n.currentTime||0)}set time(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.currentTime=ks(e)}get speed(){const{resolved:e}=this;if(!e)return 1;const{animation:n}=e;return n.playbackRate}set speed(e){const{resolved:n}=this;if(!n)return;const{animation:r}=n;r.playbackRate=e}get state(){const{resolved:e}=this;if(!e)return"idle";const{animation:n}=e;return n.playState}get startTime(){const{resolved:e}=this;if(!e)return null;const{animation:n}=e;return n.startTime}attachTimeline(e){if(!this._resolved)this.pendingTimeline=e;else{const{resolved:n}=this;if(!n)return yr;const{animation:r}=n;PC(r,e)}return yr}play(){if(this.isStopped)return;const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.playState==="finished"&&this.updateFinishedPromise(),n.play()}pause(){const{resolved:e}=this;if(!e)return;const{animation:n}=e;n.pause()}stop(){if(this.resolver.cancel(),this.isStopped=!0,this.state==="idle")return;this.resolveFinishedPromise(),this.updateFinishedPromise();const{resolved:e}=this;if(!e)return;const{animation:n,keyframes:r,duration:i,type:s,ease:o,times:a}=e;if(n.playState==="idle"||n.playState==="finished")return;if(this.time){const{motionValue:c,onUpdate:h,onComplete:p,element:m,...w}=this.options,T=new k1({...w,keyframes:r,duration:i,type:s,ease:o,times:a,isGenerator:!0}),_=ks(this.time);c.setWithVelocity(T.sample(_-Wm).value,T.sample(_).value,Wm)}const{onStop:l}=this.options;l&&l(),this.cancel()}complete(){const{resolved:e}=this;e&&e.animation.finish()}cancel(){const{resolved:e}=this;e&&e.animation.cancel()}static supports(e){const{motionValue:n,name:r,repeatDelay:i,repeatType:s,damping:o,type:a}=e;if(!n||!n.owner||!(n.owner.current instanceof HTMLElement))return!1;const{onUpdate:l,transformTemplate:c}=n.owner.getProps();return FK()&&r&&jK.has(r)&&!l&&!c&&!i&&s!=="mirror"&&o!==0&&a!=="inertia"}}const zK={type:"spring",stiffness:500,damping:25,restSpeed:10},WK=t=>({type:"spring",stiffness:550,damping:t===0?2*Math.sqrt(550):30,restSpeed:10}),HK={type:"keyframes",duration:.8},KK={type:"keyframes",ease:[.25,.1,.35,1],duration:.3},GK=(t,{keyframes:e})=>e.length>2?HK:Cl.has(t)?t.startsWith("scale")?WK(e[1]):zK:KK;function qK({when:t,delay:e,delayChildren:n,staggerChildren:r,staggerDirection:i,repeat:s,repeatType:o,repeatDelay:a,from:l,elapsed:c,...h}){return!!Object.keys(h).length}const R1=(t,e,n,r={},i,s)=>o=>{const a=m1(r,t)||{},l=a.delay||r.delay||0;let{elapsed:c=0}=r;c=c-ks(l);let h={keyframes:Array.isArray(n)?n:[null,n],ease:"easeOut",velocity:e.getVelocity(),...a,delay:-c,onUpdate:m=>{e.set(m),a.onUpdate&&a.onUpdate(m)},onComplete:()=>{o(),a.onComplete&&a.onComplete()},name:t,motionValue:e,element:s?void 0:i};qK(a)||(h={...h,...GK(t,h)}),h.duration&&(h.duration=ks(h.duration)),h.repeatDelay&&(h.repeatDelay=ks(h.repeatDelay)),h.from!==void 0&&(h.keyframes[0]=h.from);let p=!1;if((h.type===!1||h.duration===0&&!h.repeatDelay)&&(h.duration=0,h.delay===0&&(p=!0)),p&&!s&&e.get()!==void 0){const m=qg(h.keyframes,a);if(m!==void 0)return Tt.update(()=>{h.onUpdate(m),h.onComplete()}),new p7([])}return!s&&WC.supports(h)?new WC(h):new k1(h)};function YK({protectedKeys:t,needsAnimating:e},n){const r=t.hasOwnProperty(n)&&e[n]!==!0;return e[n]=!1,r}function DD(t,e,{delay:n=0,transitionOverride:r,type:i}={}){var s;let{transition:o=t.getDefaultTransition(),transitionEnd:a,...l}=e;r&&(o=r);const c=[],h=i&&t.animationState&&t.animationState.getState()[i];for(const p in l){const m=t.getValue(p,(s=t.latestValues[p])!==null&&s!==void 0?s:null),w=l[p];if(w===void 0||h&&YK(h,p))continue;const T={delay:n,...m1(o||{},p)};let _=!1;if(window.MotionHandoffAnimation){const b=iD(t);if(b){const E=window.MotionHandoffAnimation(b,p,Tt);E!==null&&(T.startTime=E,_=!0)}}a0(t,p),m.start(R1(p,m,w,t.shouldReduceMotion&&nD.has(p)?{type:!1}:T,t,_));const I=m.animation;I&&c.push(I)}return a&&Promise.all(c).then(()=>{Tt.update(()=>{a&&I7(t,a)})}),c}function p0(t,e,n={}){var r;const i=Gg(t,e,n.type==="exit"?(r=t.presenceContext)===null||r===void 0?void 0:r.custom:void 0);let{transition:s=t.getDefaultTransition()||{}}=i||{};n.transitionOverride&&(s=n.transitionOverride);const o=i?()=>Promise.all(DD(t,i,n)):()=>Promise.resolve(),a=t.variantChildren&&t.variantChildren.size?(c=0)=>{const{delayChildren:h=0,staggerChildren:p,staggerDirection:m}=s;return QK(t,e,h+c,p,m,n)}:()=>Promise.resolve(),{when:l}=s;if(l){const[c,h]=l==="beforeChildren"?[o,a]:[a,o];return c().then(()=>h())}else return Promise.all([o(),a(n.delay)])}function QK(t,e,n=0,r=0,i=1,s){const o=[],a=(t.variantChildren.size-1)*r,l=i===1?(c=0)=>c*r:(c=0)=>a-c*r;return Array.from(t.variantChildren).sort(XK).forEach((c,h)=>{c.notify("AnimationStart",e),o.push(p0(c,e,{...s,delay:n+l(h)}).then(()=>c.notify("AnimationComplete",e)))}),Promise.all(o)}function XK(t,e){return t.sortNodePosition(e)}function JK(t,e,n={}){t.notify("AnimationStart",e);let r;if(Array.isArray(e)){const i=e.map(s=>p0(t,s,n));r=Promise.all(i)}else if(typeof e=="string")r=p0(t,e,n);else{const i=typeof e=="function"?Gg(t,e,n.custom):e;r=Promise.all(DD(t,i,n))}return r.then(()=>{t.notify("AnimationComplete",e)})}const ZK=r1.length;function MD(t){if(!t)return;if(!t.isControllingVariants){const n=t.parent?MD(t.parent)||{}:{};return t.props.initial!==void 0&&(n.initial=t.props.initial),n}const e={};for(let n=0;n<ZK;n++){const r=r1[n],i=t.props[r];(wh(i)||i===!1)&&(e[r]=i)}return e}const eG=[...n1].reverse(),tG=n1.length;function nG(t){return e=>Promise.all(e.map(({animation:n,options:r})=>JK(t,n,r)))}function rG(t){let e=nG(t),n=HC(),r=!0;const i=l=>(c,h)=>{var p;const m=Gg(t,h,l==="exit"?(p=t.presenceContext)===null||p===void 0?void 0:p.custom:void 0);if(m){const{transition:w,transitionEnd:T,..._}=m;c={...c,..._,...T}}return c};function s(l){e=l(t)}function o(l){const{props:c}=t,h=MD(t.parent)||{},p=[],m=new Set;let w={},T=1/0;for(let I=0;I<tG;I++){const b=eG[I],E=n[b],k=c[b]!==void 0?c[b]:h[b],M=wh(k),U=b===l?E.isActive:null;U===!1&&(T=I);let H=k===h[b]&&k!==c[b]&&M;if(H&&r&&t.manuallyAnimateOnMount&&(H=!1),E.protectedKeys={...w},!E.isActive&&U===null||!k&&!E.prevProp||Hg(k)||typeof k=="boolean")continue;const N=iG(E.prevProp,k);let R=N||b===l&&E.isActive&&!H&&M||I>T&&M,j=!1;const D=Array.isArray(k)?k:[k];let B=D.reduce(i(b),{});U===!1&&(B={});const{prevResolvedValues:L={}}=E,F={...L,...B},ae=Te=>{R=!0,m.has(Te)&&(j=!0,m.delete(Te)),E.needsAnimating[Te]=!0;const re=t.getValue(Te);re&&(re.liveStyle=!1)};for(const Te in F){const re=B[Te],le=L[Te];if(w.hasOwnProperty(Te))continue;let _e=!1;i0(re)&&i0(le)?_e=!qO(re,le):_e=re!==le,_e?re!=null?ae(Te):m.add(Te):re!==void 0&&m.has(Te)?ae(Te):E.protectedKeys[Te]=!0}E.prevProp=k,E.prevResolvedValues=B,E.isActive&&(w={...w,...B}),r&&t.blockInitialAnimation&&(R=!1),R&&(!(H&&N)||j)&&p.push(...D.map(Te=>({animation:Te,options:{type:b}})))}if(m.size){const I={};m.forEach(b=>{const E=t.getBaseTarget(b),k=t.getValue(b);k&&(k.liveStyle=!0),I[b]=E??null}),p.push({animation:I})}let _=!!p.length;return r&&(c.initial===!1||c.initial===c.animate)&&!t.manuallyAnimateOnMount&&(_=!1),r=!1,_?e(p):Promise.resolve()}function a(l,c){var h;if(n[l].isActive===c)return Promise.resolve();(h=t.variantChildren)===null||h===void 0||h.forEach(m=>{var w;return(w=m.animationState)===null||w===void 0?void 0:w.setActive(l,c)}),n[l].isActive=c;const p=o(l);for(const m in n)n[m].protectedKeys={};return p}return{animateChanges:o,setActive:a,setAnimateFunction:s,getState:()=>n,reset:()=>{n=HC(),r=!0}}}function iG(t,e){return typeof e=="string"?e!==t:Array.isArray(e)?!qO(e,t):!1}function Da(t=!1){return{isActive:t,protectedKeys:{},needsAnimating:{},prevResolvedValues:{}}}function HC(){return{animate:Da(!0),whileInView:Da(),whileHover:Da(),whileTap:Da(),whileDrag:Da(),whileFocus:Da(),exit:Da()}}class da{constructor(e){this.isMounted=!1,this.node=e}update(){}}class sG extends da{constructor(e){super(e),e.animationState||(e.animationState=rG(e))}updateAnimationControlsSubscription(){const{animate:e}=this.node.getProps();Hg(e)&&(this.unmountControls=e.subscribe(this.node))}mount(){this.updateAnimationControlsSubscription()}update(){const{animate:e}=this.node.getProps(),{animate:n}=this.node.prevProps||{};e!==n&&this.updateAnimationControlsSubscription()}unmount(){var e;this.node.animationState.reset(),(e=this.unmountControls)===null||e===void 0||e.call(this)}}let oG=0;class aG extends da{constructor(){super(...arguments),this.id=oG++}update(){if(!this.node.presenceContext)return;const{isPresent:e,onExitComplete:n}=this.node.presenceContext,{isPresent:r}=this.node.prevPresenceContext||{};if(!this.node.animationState||e===r)return;const i=this.node.animationState.setActive("exit",!e);n&&!e&&i.then(()=>n(this.id))}mount(){const{register:e}=this.node.presenceContext||{};e&&(this.unmount=e(this.id))}unmount(){}}const lG={animation:{Feature:sG},exit:{Feature:aG}};function Eh(t,e,n,r={passive:!0}){return t.addEventListener(e,n,r),()=>t.removeEventListener(e,n)}function tf(t){return{point:{x:t.pageX,y:t.pageY}}}const cG=t=>e=>v1(e)&&t(e,tf(e));function Nd(t,e,n,r){return Eh(t,e,cG(n),r)}const KC=(t,e)=>Math.abs(t-e);function uG(t,e){const n=KC(t.x,e.x),r=KC(t.y,e.y);return Math.sqrt(n**2+r**2)}class jD{constructor(e,n,{transformPagePoint:r,contextWindow:i,dragSnapToOrigin:s=!1}={}){if(this.startEvent=null,this.lastMoveEvent=null,this.lastMoveEventInfo=null,this.handlers={},this.contextWindow=window,this.updatePoint=()=>{if(!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const p=pv(this.lastMoveEventInfo,this.history),m=this.startEvent!==null,w=uG(p.offset,{x:0,y:0})>=3;if(!m&&!w)return;const{point:T}=p,{timestamp:_}=dn;this.history.push({...T,timestamp:_});const{onStart:I,onMove:b}=this.handlers;m||(I&&I(this.lastMoveEvent,p),this.startEvent=this.lastMoveEvent),b&&b(this.lastMoveEvent,p)},this.handlePointerMove=(p,m)=>{this.lastMoveEvent=p,this.lastMoveEventInfo=fv(m,this.transformPagePoint),Tt.update(this.updatePoint,!0)},this.handlePointerUp=(p,m)=>{this.end();const{onEnd:w,onSessionEnd:T,resumeAnimation:_}=this.handlers;if(this.dragSnapToOrigin&&_&&_(),!(this.lastMoveEvent&&this.lastMoveEventInfo))return;const I=pv(p.type==="pointercancel"?this.lastMoveEventInfo:fv(m,this.transformPagePoint),this.history);this.startEvent&&w&&w(p,I),T&&T(p,I)},!v1(e))return;this.dragSnapToOrigin=s,this.handlers=n,this.transformPagePoint=r,this.contextWindow=i||window;const o=tf(e),a=fv(o,this.transformPagePoint),{point:l}=a,{timestamp:c}=dn;this.history=[{...l,timestamp:c}];const{onSessionStart:h}=n;h&&h(e,pv(a,this.history)),this.removeListeners=ef(Nd(this.contextWindow,"pointermove",this.handlePointerMove),Nd(this.contextWindow,"pointerup",this.handlePointerUp),Nd(this.contextWindow,"pointercancel",this.handlePointerUp))}updateHandlers(e){this.handlers=e}end(){this.removeListeners&&this.removeListeners(),ra(this.updatePoint)}}function fv(t,e){return e?{point:e(t.point)}:t}function GC(t,e){return{x:t.x-e.x,y:t.y-e.y}}function pv({point:t},e){return{point:t,delta:GC(t,LD(e)),offset:GC(t,dG(e)),velocity:hG(e,.1)}}function dG(t){return t[0]}function LD(t){return t[t.length-1]}function hG(t,e){if(t.length<2)return{x:0,y:0};let n=t.length-1,r=null;const i=LD(t);for(;n>=0&&(r=t[n],!(i.timestamp-r.timestamp>ks(e)));)n--;if(!r)return{x:0,y:0};const s=Rs(i.timestamp-r.timestamp);if(s===0)return{x:0,y:0};const o={x:(i.x-r.x)/s,y:(i.y-r.y)/s};return o.x===1/0&&(o.x=0),o.y===1/0&&(o.y=0),o}const FD=1e-4,fG=1-FD,pG=1+FD,VD=.01,mG=0-VD,gG=0+VD;function _r(t){return t.max-t.min}function yG(t,e,n){return Math.abs(t-e)<=n}function qC(t,e,n,r=.5){t.origin=r,t.originPoint=Nt(e.min,e.max,t.origin),t.scale=_r(n)/_r(e),t.translate=Nt(n.min,n.max,t.origin)-t.originPoint,(t.scale>=fG&&t.scale<=pG||isNaN(t.scale))&&(t.scale=1),(t.translate>=mG&&t.translate<=gG||isNaN(t.translate))&&(t.translate=0)}function Od(t,e,n,r){qC(t.x,e.x,n.x,r?r.originX:void 0),qC(t.y,e.y,n.y,r?r.originY:void 0)}function YC(t,e,n){t.min=n.min+e.min,t.max=t.min+_r(e)}function vG(t,e,n){YC(t.x,e.x,n.x),YC(t.y,e.y,n.y)}function QC(t,e,n){t.min=e.min-n.min,t.max=t.min+_r(e)}function Dd(t,e,n){QC(t.x,e.x,n.x),QC(t.y,e.y,n.y)}function _G(t,{min:e,max:n},r){return e!==void 0&&t<e?t=r?Nt(e,t,r.min):Math.max(t,e):n!==void 0&&t>n&&(t=r?Nt(n,t,r.max):Math.min(t,n)),t}function XC(t,e,n){return{min:e!==void 0?t.min+e:void 0,max:n!==void 0?t.max+n-(t.max-t.min):void 0}}function wG(t,{top:e,left:n,bottom:r,right:i}){return{x:XC(t.x,n,i),y:XC(t.y,e,r)}}function JC(t,e){let n=e.min-t.min,r=e.max-t.max;return e.max-e.min<t.max-t.min&&([n,r]=[r,n]),{min:n,max:r}}function xG(t,e){return{x:JC(t.x,e.x),y:JC(t.y,e.y)}}function bG(t,e){let n=.5;const r=_r(t),i=_r(e);return i>r?n=ou(e.min,e.max-r,t.min):r>i&&(n=ou(t.min,t.max-i,e.min)),$s(0,1,n)}function SG(t,e){const n={};return e.min!==void 0&&(n.min=e.min-t.min),e.max!==void 0&&(n.max=e.max-t.min),n}const m0=.35;function EG(t=m0){return t===!1?t=0:t===!0&&(t=m0),{x:ZC(t,"left","right"),y:ZC(t,"top","bottom")}}function ZC(t,e,n){return{min:eT(t,e),max:eT(t,n)}}function eT(t,e){return typeof t=="number"?t:t[e]||0}const tT=()=>({translate:0,scale:1,origin:0,originPoint:0}),fc=()=>({x:tT(),y:tT()}),nT=()=>({min:0,max:0}),Ht=()=>({x:nT(),y:nT()});function kr(t){return[t("x"),t("y")]}function UD({top:t,left:e,right:n,bottom:r}){return{x:{min:e,max:n},y:{min:t,max:r}}}function CG({x:t,y:e}){return{top:e.min,right:t.max,bottom:e.max,left:t.min}}function TG(t,e){if(!e)return t;const n=e({x:t.left,y:t.top}),r=e({x:t.right,y:t.bottom});return{top:n.y,left:n.x,bottom:r.y,right:r.x}}function mv(t){return t===void 0||t===1}function g0({scale:t,scaleX:e,scaleY:n}){return!mv(t)||!mv(e)||!mv(n)}function Va(t){return g0(t)||BD(t)||t.z||t.rotate||t.rotateX||t.rotateY||t.skewX||t.skewY}function BD(t){return rT(t.x)||rT(t.y)}function rT(t){return t&&t!=="0%"}function Hm(t,e,n){const r=t-n,i=e*r;return n+i}function iT(t,e,n,r,i){return i!==void 0&&(t=Hm(t,i,r)),Hm(t,n,r)+e}function y0(t,e=0,n=1,r,i){t.min=iT(t.min,e,n,r,i),t.max=iT(t.max,e,n,r,i)}function $D(t,{x:e,y:n}){y0(t.x,e.translate,e.scale,e.originPoint),y0(t.y,n.translate,n.scale,n.originPoint)}const sT=.999999999999,oT=1.0000000000001;function PG(t,e,n,r=!1){const i=n.length;if(!i)return;e.x=e.y=1;let s,o;for(let a=0;a<i;a++){s=n[a],o=s.projectionDelta;const{visualElement:l}=s.options;l&&l.props.style&&l.props.style.display==="contents"||(r&&s.options.layoutScroll&&s.scroll&&s!==s.root&&mc(t,{x:-s.scroll.offset.x,y:-s.scroll.offset.y}),o&&(e.x*=o.x.scale,e.y*=o.y.scale,$D(t,o)),r&&Va(s.latestValues)&&mc(t,s.latestValues))}e.x<oT&&e.x>sT&&(e.x=1),e.y<oT&&e.y>sT&&(e.y=1)}function pc(t,e){t.min=t.min+e,t.max=t.max+e}function aT(t,e,n,r,i=.5){const s=Nt(t.min,t.max,i);y0(t,e,n,s,r)}function mc(t,e){aT(t.x,e.x,e.scaleX,e.scale,e.originX),aT(t.y,e.y,e.scaleY,e.scale,e.originY)}function zD(t,e){return UD(TG(t.getBoundingClientRect(),e))}function IG(t,e,n){const r=zD(t,n),{scroll:i}=e;return i&&(pc(r.x,i.offset.x),pc(r.y,i.offset.y)),r}const WD=({current:t})=>t?t.ownerDocument.defaultView:null,kG=new WeakMap;class RG{constructor(e){this.openDragLock=null,this.isDragging=!1,this.currentDirection=null,this.originPoint={x:0,y:0},this.constraints=!1,this.hasMutatedConstraints=!1,this.elastic=Ht(),this.visualElement=e}start(e,{snapToCursor:n=!1}={}){const{presenceContext:r}=this.visualElement;if(r&&r.isPresent===!1)return;const i=h=>{const{dragSnapToOrigin:p}=this.getProps();p?this.pauseAnimation():this.stopAnimation(),n&&this.snapToCursor(tf(h).point)},s=(h,p)=>{const{drag:m,dragPropagation:w,onDragStart:T}=this.getProps();if(m&&!w&&(this.openDragLock&&this.openDragLock(),this.openDragLock=S7(m),!this.openDragLock))return;this.isDragging=!0,this.currentDirection=null,this.resolveConstraints(),this.visualElement.projection&&(this.visualElement.projection.isAnimationBlocked=!0,this.visualElement.projection.target=void 0),kr(I=>{let b=this.getAxisMotionValue(I).get()||0;if(qi.test(b)){const{projection:E}=this.visualElement;if(E&&E.layout){const k=E.layout.layoutBox[I];k&&(b=_r(k)*(parseFloat(b)/100))}}this.originPoint[I]=b}),T&&Tt.postRender(()=>T(h,p)),a0(this.visualElement,"transform");const{animationState:_}=this.visualElement;_&&_.setActive("whileDrag",!0)},o=(h,p)=>{const{dragPropagation:m,dragDirectionLock:w,onDirectionLock:T,onDrag:_}=this.getProps();if(!m&&!this.openDragLock)return;const{offset:I}=p;if(w&&this.currentDirection===null){this.currentDirection=AG(I),this.currentDirection!==null&&T&&T(this.currentDirection);return}this.updateAxis("x",p.point,I),this.updateAxis("y",p.point,I),this.visualElement.render(),_&&_(h,p)},a=(h,p)=>this.stop(h,p),l=()=>kr(h=>{var p;return this.getAnimationState(h)==="paused"&&((p=this.getAxisMotionValue(h).animation)===null||p===void 0?void 0:p.play())}),{dragSnapToOrigin:c}=this.getProps();this.panSession=new jD(e,{onSessionStart:i,onStart:s,onMove:o,onSessionEnd:a,resumeAnimation:l},{transformPagePoint:this.visualElement.getTransformPagePoint(),dragSnapToOrigin:c,contextWindow:WD(this.visualElement)})}stop(e,n){const r=this.isDragging;if(this.cancel(),!r)return;const{velocity:i}=n;this.startAnimation(i);const{onDragEnd:s}=this.getProps();s&&Tt.postRender(()=>s(e,n))}cancel(){this.isDragging=!1;const{projection:e,animationState:n}=this.visualElement;e&&(e.isAnimationBlocked=!1),this.panSession&&this.panSession.end(),this.panSession=void 0;const{dragPropagation:r}=this.getProps();!r&&this.openDragLock&&(this.openDragLock(),this.openDragLock=null),n&&n.setActive("whileDrag",!1)}updateAxis(e,n,r){const{drag:i}=this.getProps();if(!r||!Xf(e,i,this.currentDirection))return;const s=this.getAxisMotionValue(e);let o=this.originPoint[e]+r[e];this.constraints&&this.constraints[e]&&(o=_G(o,this.constraints[e],this.elastic[e])),s.set(o)}resolveConstraints(){var e;const{dragConstraints:n,dragElastic:r}=this.getProps(),i=this.visualElement.projection&&!this.visualElement.projection.layout?this.visualElement.projection.measure(!1):(e=this.visualElement.projection)===null||e===void 0?void 0:e.layout,s=this.constraints;n&&dc(n)?this.constraints||(this.constraints=this.resolveRefConstraints()):n&&i?this.constraints=wG(i.layoutBox,n):this.constraints=!1,this.elastic=EG(r),s!==this.constraints&&i&&this.constraints&&!this.hasMutatedConstraints&&kr(o=>{this.constraints!==!1&&this.getAxisMotionValue(o)&&(this.constraints[o]=SG(i.layoutBox[o],this.constraints[o]))})}resolveRefConstraints(){const{dragConstraints:e,onMeasureDragConstraints:n}=this.getProps();if(!e||!dc(e))return!1;const r=e.current,{projection:i}=this.visualElement;if(!i||!i.layout)return!1;const s=IG(r,i.root,this.visualElement.getTransformPagePoint());let o=xG(i.layout.layoutBox,s);if(n){const a=n(CG(o));this.hasMutatedConstraints=!!a,a&&(o=UD(a))}return o}startAnimation(e){const{drag:n,dragMomentum:r,dragElastic:i,dragTransition:s,dragSnapToOrigin:o,onDragTransitionEnd:a}=this.getProps(),l=this.constraints||{},c=kr(h=>{if(!Xf(h,n,this.currentDirection))return;let p=l&&l[h]||{};o&&(p={min:0,max:0});const m=i?200:1e6,w=i?40:1e7,T={type:"inertia",velocity:r?e[h]:0,bounceStiffness:m,bounceDamping:w,timeConstant:750,restDelta:1,restSpeed:10,...s,...p};return this.startAxisValueAnimation(h,T)});return Promise.all(c).then(a)}startAxisValueAnimation(e,n){const r=this.getAxisMotionValue(e);return a0(this.visualElement,e),r.start(R1(e,r,0,n,this.visualElement,!1))}stopAnimation(){kr(e=>this.getAxisMotionValue(e).stop())}pauseAnimation(){kr(e=>{var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.pause()})}getAnimationState(e){var n;return(n=this.getAxisMotionValue(e).animation)===null||n===void 0?void 0:n.state}getAxisMotionValue(e){const n=`_drag${e.toUpperCase()}`,r=this.visualElement.getProps(),i=r[n];return i||this.visualElement.getValue(e,(r.initial?r.initial[e]:void 0)||0)}snapToCursor(e){kr(n=>{const{drag:r}=this.getProps();if(!Xf(n,r,this.currentDirection))return;const{projection:i}=this.visualElement,s=this.getAxisMotionValue(n);if(i&&i.layout){const{min:o,max:a}=i.layout.layoutBox[n];s.set(e[n]-Nt(o,a,.5))}})}scalePositionWithinConstraints(){if(!this.visualElement.current)return;const{drag:e,dragConstraints:n}=this.getProps(),{projection:r}=this.visualElement;if(!dc(n)||!r||!this.constraints)return;this.stopAnimation();const i={x:0,y:0};kr(o=>{const a=this.getAxisMotionValue(o);if(a&&this.constraints!==!1){const l=a.get();i[o]=bG({min:l,max:l},this.constraints[o])}});const{transformTemplate:s}=this.visualElement.getProps();this.visualElement.current.style.transform=s?s({},""):"none",r.root&&r.root.updateScroll(),r.updateLayout(),this.resolveConstraints(),kr(o=>{if(!Xf(o,e,null))return;const a=this.getAxisMotionValue(o),{min:l,max:c}=this.constraints[o];a.set(Nt(l,c,i[o]))})}addListeners(){if(!this.visualElement.current)return;kG.set(this.visualElement,this);const e=this.visualElement.current,n=Nd(e,"pointerdown",l=>{const{drag:c,dragListener:h=!0}=this.getProps();c&&h&&this.start(l)}),r=()=>{const{dragConstraints:l}=this.getProps();dc(l)&&l.current&&(this.constraints=this.resolveRefConstraints())},{projection:i}=this.visualElement,s=i.addEventListener("measure",r);i&&!i.layout&&(i.root&&i.root.updateScroll(),i.updateLayout()),Tt.read(r);const o=Eh(window,"resize",()=>this.scalePositionWithinConstraints()),a=i.addEventListener("didUpdate",({delta:l,hasLayoutChanged:c})=>{this.isDragging&&c&&(kr(h=>{const p=this.getAxisMotionValue(h);p&&(this.originPoint[h]+=l[h].translate,p.set(p.get()+l[h].translate))}),this.visualElement.render())});return()=>{o(),n(),s(),a&&a()}}getProps(){const e=this.visualElement.getProps(),{drag:n=!1,dragDirectionLock:r=!1,dragPropagation:i=!1,dragConstraints:s=!1,dragElastic:o=m0,dragMomentum:a=!0}=e;return{...e,drag:n,dragDirectionLock:r,dragPropagation:i,dragConstraints:s,dragElastic:o,dragMomentum:a}}}function Xf(t,e,n){return(e===!0||e===t)&&(n===null||n===t)}function AG(t,e=10){let n=null;return Math.abs(t.y)>e?n="y":Math.abs(t.x)>e&&(n="x"),n}class NG extends da{constructor(e){super(e),this.removeGroupControls=yr,this.removeListeners=yr,this.controls=new RG(e)}mount(){const{dragControls:e}=this.node.getProps();e&&(this.removeGroupControls=e.subscribe(this.controls)),this.removeListeners=this.controls.addListeners()||yr}unmount(){this.removeGroupControls(),this.removeListeners()}}const lT=t=>(e,n)=>{t&&Tt.postRender(()=>t(e,n))};class OG extends da{constructor(){super(...arguments),this.removePointerDownListener=yr}onPointerDown(e){this.session=new jD(e,this.createPanHandlers(),{transformPagePoint:this.node.getTransformPagePoint(),contextWindow:WD(this.node)})}createPanHandlers(){const{onPanSessionStart:e,onPanStart:n,onPan:r,onPanEnd:i}=this.node.getProps();return{onSessionStart:lT(e),onStart:lT(n),onMove:r,onEnd:(s,o)=>{delete this.session,i&&Tt.postRender(()=>i(s,o))}}}mount(){this.removePointerDownListener=Nd(this.node.current,"pointerdown",e=>this.onPointerDown(e))}update(){this.session&&this.session.updateHandlers(this.createPanHandlers())}unmount(){this.removePointerDownListener(),this.session&&this.session.end()}}const Pp={hasAnimatedSinceResize:!0,hasEverUpdated:!1};function cT(t,e){return e.max===e.min?0:t/(e.max-e.min)*100}const Ju={correct:(t,e)=>{if(!e.target)return t;if(typeof t=="string")if(Ae.test(t))t=parseFloat(t);else return t;const n=cT(t,e.target.x),r=cT(t,e.target.y);return`${n}% ${r}%`}},DG={correct:(t,{treeScale:e,projectionDelta:n})=>{const r=t,i=ia.parse(t);if(i.length>5)return r;const s=ia.createTransformer(t),o=typeof i[0]!="number"?1:0,a=n.x.scale*e.x,l=n.y.scale*e.y;i[0+o]/=a,i[1+o]/=l;const c=Nt(a,l,.5);return typeof i[2+o]=="number"&&(i[2+o]/=c),typeof i[3+o]=="number"&&(i[3+o]/=c),s(i)}};class MG extends S.Component{componentDidMount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r,layoutId:i}=this.props,{projection:s}=e;n7(jG),s&&(n.group&&n.group.add(s),r&&r.register&&i&&r.register(s),s.root.didUpdate(),s.addEventListener("animationComplete",()=>{this.safeToRemove()}),s.setOptions({...s.options,onExitComplete:()=>this.safeToRemove()})),Pp.hasEverUpdated=!0}getSnapshotBeforeUpdate(e){const{layoutDependency:n,visualElement:r,drag:i,isPresent:s}=this.props,o=r.projection;return o&&(o.isPresent=s,i||e.layoutDependency!==n||n===void 0?o.willUpdate():this.safeToRemove(),e.isPresent!==s&&(s?o.promote():o.relegate()||Tt.postRender(()=>{const a=o.getStack();(!a||!a.members.length)&&this.safeToRemove()}))),null}componentDidUpdate(){const{projection:e}=this.props.visualElement;e&&(e.root.didUpdate(),s1.postRender(()=>{!e.currentAnimation&&e.isLead()&&this.safeToRemove()}))}componentWillUnmount(){const{visualElement:e,layoutGroup:n,switchLayoutGroup:r}=this.props,{projection:i}=e;i&&(i.scheduleCheckAfterUnmount(),n&&n.group&&n.group.remove(i),r&&r.deregister&&r.deregister(i))}safeToRemove(){const{safeToRemove:e}=this.props;e&&e()}render(){return null}}function HD(t){const[e,n]=IO(),r=S.useContext(Xx);return g.jsx(MG,{...t,layoutGroup:r,switchLayoutGroup:S.useContext(MO),isPresent:e,safeToRemove:n})}const jG={borderRadius:{...Ju,applyTo:["borderTopLeftRadius","borderTopRightRadius","borderBottomLeftRadius","borderBottomRightRadius"]},borderTopLeftRadius:Ju,borderTopRightRadius:Ju,borderBottomLeftRadius:Ju,borderBottomRightRadius:Ju,boxShadow:DG};function LG(t,e,n){const r=In(t)?t:bh(t);return r.start(R1("",r,e,n)),r.animation}function FG(t){return t instanceof SVGElement&&t.tagName!=="svg"}const VG=(t,e)=>t.depth-e.depth;class UG{constructor(){this.children=[],this.isDirty=!1}add(e){_1(this.children,e),this.isDirty=!0}remove(e){w1(this.children,e),this.isDirty=!0}forEach(e){this.isDirty&&this.children.sort(VG),this.isDirty=!1,this.children.forEach(e)}}function BG(t,e){const n=Yi.now(),r=({timestamp:i})=>{const s=i-n;s>=e&&(ra(r),t(s-e))};return Tt.read(r,!0),()=>ra(r)}const KD=["TopLeft","TopRight","BottomLeft","BottomRight"],$G=KD.length,uT=t=>typeof t=="string"?parseFloat(t):t,dT=t=>typeof t=="number"||Ae.test(t);function zG(t,e,n,r,i,s){i?(t.opacity=Nt(0,n.opacity!==void 0?n.opacity:1,WG(r)),t.opacityExit=Nt(e.opacity!==void 0?e.opacity:1,0,HG(r))):s&&(t.opacity=Nt(e.opacity!==void 0?e.opacity:1,n.opacity!==void 0?n.opacity:1,r));for(let o=0;o<$G;o++){const a=`border${KD[o]}Radius`;let l=hT(e,a),c=hT(n,a);if(l===void 0&&c===void 0)continue;l||(l=0),c||(c=0),l===0||c===0||dT(l)===dT(c)?(t[a]=Math.max(Nt(uT(l),uT(c),r),0),(qi.test(c)||qi.test(l))&&(t[a]+="%")):t[a]=c}(e.rotate||n.rotate)&&(t.rotate=Nt(e.rotate||0,n.rotate||0,r))}function hT(t,e){return t[e]!==void 0?t[e]:t.borderRadius}const WG=GD(0,.5,dD),HG=GD(.5,.95,yr);function GD(t,e,n){return r=>r<t?0:r>e?1:n(ou(t,e,r))}function fT(t,e){t.min=e.min,t.max=e.max}function Ir(t,e){fT(t.x,e.x),fT(t.y,e.y)}function pT(t,e){t.translate=e.translate,t.scale=e.scale,t.originPoint=e.originPoint,t.origin=e.origin}function mT(t,e,n,r,i){return t-=e,t=Hm(t,1/n,r),i!==void 0&&(t=Hm(t,1/i,r)),t}function KG(t,e=0,n=1,r=.5,i,s=t,o=t){if(qi.test(e)&&(e=parseFloat(e),e=Nt(o.min,o.max,e/100)-o.min),typeof e!="number")return;let a=Nt(s.min,s.max,r);t===s&&(a-=e),t.min=mT(t.min,e,n,a,i),t.max=mT(t.max,e,n,a,i)}function gT(t,e,[n,r,i],s,o){KG(t,e[n],e[r],e[i],e.scale,s,o)}const GG=["x","scaleX","originX"],qG=["y","scaleY","originY"];function yT(t,e,n,r){gT(t.x,e,GG,n?n.x:void 0,r?r.x:void 0),gT(t.y,e,qG,n?n.y:void 0,r?r.y:void 0)}function vT(t){return t.translate===0&&t.scale===1}function qD(t){return vT(t.x)&&vT(t.y)}function _T(t,e){return t.min===e.min&&t.max===e.max}function YG(t,e){return _T(t.x,e.x)&&_T(t.y,e.y)}function wT(t,e){return Math.round(t.min)===Math.round(e.min)&&Math.round(t.max)===Math.round(e.max)}function YD(t,e){return wT(t.x,e.x)&&wT(t.y,e.y)}function xT(t){return _r(t.x)/_r(t.y)}function bT(t,e){return t.translate===e.translate&&t.scale===e.scale&&t.originPoint===e.originPoint}class QG{constructor(){this.members=[]}add(e){_1(this.members,e),e.scheduleRender()}remove(e){if(w1(this.members,e),e===this.prevLead&&(this.prevLead=void 0),e===this.lead){const n=this.members[this.members.length-1];n&&this.promote(n)}}relegate(e){const n=this.members.findIndex(i=>e===i);if(n===0)return!1;let r;for(let i=n;i>=0;i--){const s=this.members[i];if(s.isPresent!==!1){r=s;break}}return r?(this.promote(r),!0):!1}promote(e,n){const r=this.lead;if(e!==r&&(this.prevLead=r,this.lead=e,e.show(),r)){r.instance&&r.scheduleRender(),e.scheduleRender(),e.resumeFrom=r,n&&(e.resumeFrom.preserveOpacity=!0),r.snapshot&&(e.snapshot=r.snapshot,e.snapshot.latestValues=r.animationValues||r.latestValues),e.root&&e.root.isUpdating&&(e.isLayoutDirty=!0);const{crossfade:i}=e.options;i===!1&&r.hide()}}exitAnimationComplete(){this.members.forEach(e=>{const{options:n,resumingFrom:r}=e;n.onExitComplete&&n.onExitComplete(),r&&r.options.onExitComplete&&r.options.onExitComplete()})}scheduleRender(){this.members.forEach(e=>{e.instance&&e.scheduleRender(!1)})}removeLeadSnapshot(){this.lead&&this.lead.snapshot&&(this.lead.snapshot=void 0)}}function XG(t,e,n){let r="";const i=t.x.translate/e.x,s=t.y.translate/e.y,o=(n==null?void 0:n.z)||0;if((i||s||o)&&(r=`translate3d(${i}px, ${s}px, ${o}px) `),(e.x!==1||e.y!==1)&&(r+=`scale(${1/e.x}, ${1/e.y}) `),n){const{transformPerspective:c,rotate:h,rotateX:p,rotateY:m,skewX:w,skewY:T}=n;c&&(r=`perspective(${c}px) ${r}`),h&&(r+=`rotate(${h}deg) `),p&&(r+=`rotateX(${p}deg) `),m&&(r+=`rotateY(${m}deg) `),w&&(r+=`skewX(${w}deg) `),T&&(r+=`skewY(${T}deg) `)}const a=t.x.scale*e.x,l=t.y.scale*e.y;return(a!==1||l!==1)&&(r+=`scale(${a}, ${l})`),r||"none"}const Ua={type:"projectionFrame",totalNodes:0,resolvedTargetDeltas:0,recalculatedProjection:0},ld=typeof window<"u"&&window.MotionDebug!==void 0,gv=["","X","Y","Z"],JG={visibility:"hidden"},ST=1e3;let ZG=0;function yv(t,e,n,r){const{latestValues:i}=e;i[t]&&(n[t]=i[t],e.setStaticValue(t,0),r&&(r[t]=0))}function QD(t){if(t.hasCheckedOptimisedAppear=!0,t.root===t)return;const{visualElement:e}=t.options;if(!e)return;const n=iD(e);if(window.MotionHasOptimisedAnimation(n,"transform")){const{layout:i,layoutId:s}=t.options;window.MotionCancelOptimisedAnimation(n,"transform",Tt,!(i||s))}const{parent:r}=t;r&&!r.hasCheckedOptimisedAppear&&QD(r)}function XD({attachResizeListener:t,defaultParent:e,measureScroll:n,checkIsScrollRoot:r,resetTransform:i}){return class{constructor(o={},a=e==null?void 0:e()){this.id=ZG++,this.animationId=0,this.children=new Set,this.options={},this.isTreeAnimating=!1,this.isAnimationBlocked=!1,this.isLayoutDirty=!1,this.isProjectionDirty=!1,this.isSharedProjectionDirty=!1,this.isTransformDirty=!1,this.updateManuallyBlocked=!1,this.updateBlockedByResize=!1,this.isUpdating=!1,this.isSVG=!1,this.needsReset=!1,this.shouldResetTransform=!1,this.hasCheckedOptimisedAppear=!1,this.treeScale={x:1,y:1},this.eventHandlers=new Map,this.hasTreeAnimated=!1,this.updateScheduled=!1,this.scheduleUpdate=()=>this.update(),this.projectionUpdateScheduled=!1,this.checkUpdateFailed=()=>{this.isUpdating&&(this.isUpdating=!1,this.clearAllSnapshots())},this.updateProjection=()=>{this.projectionUpdateScheduled=!1,ld&&(Ua.totalNodes=Ua.resolvedTargetDeltas=Ua.recalculatedProjection=0),this.nodes.forEach(nq),this.nodes.forEach(aq),this.nodes.forEach(lq),this.nodes.forEach(rq),ld&&window.MotionDebug.record(Ua)},this.resolvedRelativeTargetAt=0,this.hasProjected=!1,this.isVisible=!0,this.animationProgress=0,this.sharedNodes=new Map,this.latestValues=o,this.root=a?a.root||a:this,this.path=a?[...a.path,a]:[],this.parent=a,this.depth=a?a.depth+1:0;for(let l=0;l<this.path.length;l++)this.path[l].shouldResetTransform=!0;this.root===this&&(this.nodes=new UG)}addEventListener(o,a){return this.eventHandlers.has(o)||this.eventHandlers.set(o,new x1),this.eventHandlers.get(o).add(a)}notifyListeners(o,...a){const l=this.eventHandlers.get(o);l&&l.notify(...a)}hasListeners(o){return this.eventHandlers.has(o)}mount(o,a=this.root.hasTreeAnimated){if(this.instance)return;this.isSVG=FG(o),this.instance=o;const{layoutId:l,layout:c,visualElement:h}=this.options;if(h&&!h.current&&h.mount(o),this.root.nodes.add(this),this.parent&&this.parent.children.add(this),a&&(c||l)&&(this.isLayoutDirty=!0),t){let p;const m=()=>this.root.updateBlockedByResize=!1;t(o,()=>{this.root.updateBlockedByResize=!0,p&&p(),p=BG(m,250),Pp.hasAnimatedSinceResize&&(Pp.hasAnimatedSinceResize=!1,this.nodes.forEach(CT))})}l&&this.root.registerSharedNode(l,this),this.options.animate!==!1&&h&&(l||c)&&this.addEventListener("didUpdate",({delta:p,hasLayoutChanged:m,hasRelativeTargetChanged:w,layout:T})=>{if(this.isTreeAnimationBlocked()){this.target=void 0,this.relativeTarget=void 0;return}const _=this.options.transition||h.getDefaultTransition()||fq,{onLayoutAnimationStart:I,onLayoutAnimationComplete:b}=h.getProps(),E=!this.targetLayout||!YD(this.targetLayout,T)||w,k=!m&&w;if(this.options.layoutRoot||this.resumeFrom&&this.resumeFrom.instance||k||m&&(E||!this.currentAnimation)){this.resumeFrom&&(this.resumingFrom=this.resumeFrom,this.resumingFrom.resumingFrom=void 0),this.setAnimationOrigin(p,k);const M={...m1(_,"layout"),onPlay:I,onComplete:b};(h.shouldReduceMotion||this.options.layoutRoot)&&(M.delay=0,M.type=!1),this.startAnimation(M)}else m||CT(this),this.isLead()&&this.options.onExitComplete&&this.options.onExitComplete();this.targetLayout=T})}unmount(){this.options.layoutId&&this.willUpdate(),this.root.nodes.remove(this);const o=this.getStack();o&&o.remove(this),this.parent&&this.parent.children.delete(this),this.instance=void 0,ra(this.updateProjection)}blockUpdate(){this.updateManuallyBlocked=!0}unblockUpdate(){this.updateManuallyBlocked=!1}isUpdateBlocked(){return this.updateManuallyBlocked||this.updateBlockedByResize}isTreeAnimationBlocked(){return this.isAnimationBlocked||this.parent&&this.parent.isTreeAnimationBlocked()||!1}startUpdate(){this.isUpdateBlocked()||(this.isUpdating=!0,this.nodes&&this.nodes.forEach(cq),this.animationId++)}getTransformTemplate(){const{visualElement:o}=this.options;return o&&o.getProps().transformTemplate}willUpdate(o=!0){if(this.root.hasTreeAnimated=!0,this.root.isUpdateBlocked()){this.options.onExitComplete&&this.options.onExitComplete();return}if(window.MotionCancelOptimisedAnimation&&!this.hasCheckedOptimisedAppear&&QD(this),!this.root.isUpdating&&this.root.startUpdate(),this.isLayoutDirty)return;this.isLayoutDirty=!0;for(let h=0;h<this.path.length;h++){const p=this.path[h];p.shouldResetTransform=!0,p.updateScroll("snapshot"),p.options.layoutRoot&&p.willUpdate(!1)}const{layoutId:a,layout:l}=this.options;if(a===void 0&&!l)return;const c=this.getTransformTemplate();this.prevTransformTemplateValue=c?c(this.latestValues,""):void 0,this.updateSnapshot(),o&&this.notifyListeners("willUpdate")}update(){if(this.updateScheduled=!1,this.isUpdateBlocked()){this.unblockUpdate(),this.clearAllSnapshots(),this.nodes.forEach(ET);return}this.isUpdating||this.nodes.forEach(sq),this.isUpdating=!1,this.nodes.forEach(oq),this.nodes.forEach(eq),this.nodes.forEach(tq),this.clearAllSnapshots();const a=Yi.now();dn.delta=$s(0,1e3/60,a-dn.timestamp),dn.timestamp=a,dn.isProcessing=!0,av.update.process(dn),av.preRender.process(dn),av.render.process(dn),dn.isProcessing=!1}didUpdate(){this.updateScheduled||(this.updateScheduled=!0,s1.read(this.scheduleUpdate))}clearAllSnapshots(){this.nodes.forEach(iq),this.sharedNodes.forEach(uq)}scheduleUpdateProjection(){this.projectionUpdateScheduled||(this.projectionUpdateScheduled=!0,Tt.preRender(this.updateProjection,!1,!0))}scheduleCheckAfterUnmount(){Tt.postRender(()=>{this.isLayoutDirty?this.root.didUpdate():this.root.checkUpdateFailed()})}updateSnapshot(){this.snapshot||!this.instance||(this.snapshot=this.measure())}updateLayout(){if(!this.instance||(this.updateScroll(),!(this.options.alwaysMeasureLayout&&this.isLead())&&!this.isLayoutDirty))return;if(this.resumeFrom&&!this.resumeFrom.instance)for(let l=0;l<this.path.length;l++)this.path[l].updateScroll();const o=this.layout;this.layout=this.measure(!1),this.layoutCorrected=Ht(),this.isLayoutDirty=!1,this.projectionDelta=void 0,this.notifyListeners("measure",this.layout.layoutBox);const{visualElement:a}=this.options;a&&a.notify("LayoutMeasure",this.layout.layoutBox,o?o.layoutBox:void 0)}updateScroll(o="measure"){let a=!!(this.options.layoutScroll&&this.instance);if(this.scroll&&this.scroll.animationId===this.root.animationId&&this.scroll.phase===o&&(a=!1),a){const l=r(this.instance);this.scroll={animationId:this.root.animationId,phase:o,isRoot:l,offset:n(this.instance),wasRoot:this.scroll?this.scroll.isRoot:l}}}resetTransform(){if(!i)return;const o=this.isLayoutDirty||this.shouldResetTransform||this.options.alwaysMeasureLayout,a=this.projectionDelta&&!qD(this.projectionDelta),l=this.getTransformTemplate(),c=l?l(this.latestValues,""):void 0,h=c!==this.prevTransformTemplateValue;o&&(a||Va(this.latestValues)||h)&&(i(this.instance,c),this.shouldResetTransform=!1,this.scheduleRender())}measure(o=!0){const a=this.measurePageBox();let l=this.removeElementScroll(a);return o&&(l=this.removeTransform(l)),pq(l),{animationId:this.root.animationId,measuredBox:a,layoutBox:l,latestValues:{},source:this.id}}measurePageBox(){var o;const{visualElement:a}=this.options;if(!a)return Ht();const l=a.measureViewportBox();if(!(((o=this.scroll)===null||o===void 0?void 0:o.wasRoot)||this.path.some(mq))){const{scroll:h}=this.root;h&&(pc(l.x,h.offset.x),pc(l.y,h.offset.y))}return l}removeElementScroll(o){var a;const l=Ht();if(Ir(l,o),!((a=this.scroll)===null||a===void 0)&&a.wasRoot)return l;for(let c=0;c<this.path.length;c++){const h=this.path[c],{scroll:p,options:m}=h;h!==this.root&&p&&m.layoutScroll&&(p.wasRoot&&Ir(l,o),pc(l.x,p.offset.x),pc(l.y,p.offset.y))}return l}applyTransform(o,a=!1){const l=Ht();Ir(l,o);for(let c=0;c<this.path.length;c++){const h=this.path[c];!a&&h.options.layoutScroll&&h.scroll&&h!==h.root&&mc(l,{x:-h.scroll.offset.x,y:-h.scroll.offset.y}),Va(h.latestValues)&&mc(l,h.latestValues)}return Va(this.latestValues)&&mc(l,this.latestValues),l}removeTransform(o){const a=Ht();Ir(a,o);for(let l=0;l<this.path.length;l++){const c=this.path[l];if(!c.instance||!Va(c.latestValues))continue;g0(c.latestValues)&&c.updateSnapshot();const h=Ht(),p=c.measurePageBox();Ir(h,p),yT(a,c.latestValues,c.snapshot?c.snapshot.layoutBox:void 0,h)}return Va(this.latestValues)&&yT(a,this.latestValues),a}setTargetDelta(o){this.targetDelta=o,this.root.scheduleUpdateProjection(),this.isProjectionDirty=!0}setOptions(o){this.options={...this.options,...o,crossfade:o.crossfade!==void 0?o.crossfade:!0}}clearMeasurements(){this.scroll=void 0,this.layout=void 0,this.snapshot=void 0,this.prevTransformTemplateValue=void 0,this.targetDelta=void 0,this.target=void 0,this.isLayoutDirty=!1}forceRelativeParentToResolveTarget(){this.relativeParent&&this.relativeParent.resolvedRelativeTargetAt!==dn.timestamp&&this.relativeParent.resolveTargetDelta(!0)}resolveTargetDelta(o=!1){var a;const l=this.getLead();this.isProjectionDirty||(this.isProjectionDirty=l.isProjectionDirty),this.isTransformDirty||(this.isTransformDirty=l.isTransformDirty),this.isSharedProjectionDirty||(this.isSharedProjectionDirty=l.isSharedProjectionDirty);const c=!!this.resumingFrom||this!==l;if(!(o||c&&this.isSharedProjectionDirty||this.isProjectionDirty||!((a=this.parent)===null||a===void 0)&&a.isProjectionDirty||this.attemptToResolveRelativeTarget||this.root.updateBlockedByResize))return;const{layout:p,layoutId:m}=this.options;if(!(!this.layout||!(p||m))){if(this.resolvedRelativeTargetAt=dn.timestamp,!this.targetDelta&&!this.relativeTarget){const w=this.getClosestProjectingParent();w&&w.layout&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Dd(this.relativeTargetOrigin,this.layout.layoutBox,w.layout.layoutBox),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}if(!(!this.relativeTarget&&!this.targetDelta)){if(this.target||(this.target=Ht(),this.targetWithTransforms=Ht()),this.relativeTarget&&this.relativeTargetOrigin&&this.relativeParent&&this.relativeParent.target?(this.forceRelativeParentToResolveTarget(),vG(this.target,this.relativeTarget,this.relativeParent.target)):this.targetDelta?(this.resumingFrom?this.target=this.applyTransform(this.layout.layoutBox):Ir(this.target,this.layout.layoutBox),$D(this.target,this.targetDelta)):Ir(this.target,this.layout.layoutBox),this.attemptToResolveRelativeTarget){this.attemptToResolveRelativeTarget=!1;const w=this.getClosestProjectingParent();w&&!!w.resumingFrom==!!this.resumingFrom&&!w.options.layoutScroll&&w.target&&this.animationProgress!==1?(this.relativeParent=w,this.forceRelativeParentToResolveTarget(),this.relativeTarget=Ht(),this.relativeTargetOrigin=Ht(),Dd(this.relativeTargetOrigin,this.target,w.target),Ir(this.relativeTarget,this.relativeTargetOrigin)):this.relativeParent=this.relativeTarget=void 0}ld&&Ua.resolvedTargetDeltas++}}}getClosestProjectingParent(){if(!(!this.parent||g0(this.parent.latestValues)||BD(this.parent.latestValues)))return this.parent.isProjecting()?this.parent:this.parent.getClosestProjectingParent()}isProjecting(){return!!((this.relativeTarget||this.targetDelta||this.options.layoutRoot)&&this.layout)}calcProjection(){var o;const a=this.getLead(),l=!!this.resumingFrom||this!==a;let c=!0;if((this.isProjectionDirty||!((o=this.parent)===null||o===void 0)&&o.isProjectionDirty)&&(c=!1),l&&(this.isSharedProjectionDirty||this.isTransformDirty)&&(c=!1),this.resolvedRelativeTargetAt===dn.timestamp&&(c=!1),c)return;const{layout:h,layoutId:p}=this.options;if(this.isTreeAnimating=!!(this.parent&&this.parent.isTreeAnimating||this.currentAnimation||this.pendingAnimation),this.isTreeAnimating||(this.targetDelta=this.relativeTarget=void 0),!this.layout||!(h||p))return;Ir(this.layoutCorrected,this.layout.layoutBox);const m=this.treeScale.x,w=this.treeScale.y;PG(this.layoutCorrected,this.treeScale,this.path,l),a.layout&&!a.target&&(this.treeScale.x!==1||this.treeScale.y!==1)&&(a.target=a.layout.layoutBox,a.targetWithTransforms=Ht());const{target:T}=a;if(!T){this.prevProjectionDelta&&(this.createProjectionDeltas(),this.scheduleRender());return}!this.projectionDelta||!this.prevProjectionDelta?this.createProjectionDeltas():(pT(this.prevProjectionDelta.x,this.projectionDelta.x),pT(this.prevProjectionDelta.y,this.projectionDelta.y)),Od(this.projectionDelta,this.layoutCorrected,T,this.latestValues),(this.treeScale.x!==m||this.treeScale.y!==w||!bT(this.projectionDelta.x,this.prevProjectionDelta.x)||!bT(this.projectionDelta.y,this.prevProjectionDelta.y))&&(this.hasProjected=!0,this.scheduleRender(),this.notifyListeners("projectionUpdate",T)),ld&&Ua.recalculatedProjection++}hide(){this.isVisible=!1}show(){this.isVisible=!0}scheduleRender(o=!0){var a;if((a=this.options.visualElement)===null||a===void 0||a.scheduleRender(),o){const l=this.getStack();l&&l.scheduleRender()}this.resumingFrom&&!this.resumingFrom.instance&&(this.resumingFrom=void 0)}createProjectionDeltas(){this.prevProjectionDelta=fc(),this.projectionDelta=fc(),this.projectionDeltaWithTransform=fc()}setAnimationOrigin(o,a=!1){const l=this.snapshot,c=l?l.latestValues:{},h={...this.latestValues},p=fc();(!this.relativeParent||!this.relativeParent.options.layoutRoot)&&(this.relativeTarget=this.relativeTargetOrigin=void 0),this.attemptToResolveRelativeTarget=!a;const m=Ht(),w=l?l.source:void 0,T=this.layout?this.layout.source:void 0,_=w!==T,I=this.getStack(),b=!I||I.members.length<=1,E=!!(_&&!b&&this.options.crossfade===!0&&!this.path.some(hq));this.animationProgress=0;let k;this.mixTargetDelta=M=>{const U=M/1e3;TT(p.x,o.x,U),TT(p.y,o.y,U),this.setTargetDelta(p),this.relativeTarget&&this.relativeTargetOrigin&&this.layout&&this.relativeParent&&this.relativeParent.layout&&(Dd(m,this.layout.layoutBox,this.relativeParent.layout.layoutBox),dq(this.relativeTarget,this.relativeTargetOrigin,m,U),k&&YG(this.relativeTarget,k)&&(this.isProjectionDirty=!1),k||(k=Ht()),Ir(k,this.relativeTarget)),_&&(this.animationValues=h,zG(h,c,this.latestValues,U,E,b)),this.root.scheduleUpdateProjection(),this.scheduleRender(),this.animationProgress=U},this.mixTargetDelta(this.options.layoutRoot?1e3:0)}startAnimation(o){this.notifyListeners("animationStart"),this.currentAnimation&&this.currentAnimation.stop(),this.resumingFrom&&this.resumingFrom.currentAnimation&&this.resumingFrom.currentAnimation.stop(),this.pendingAnimation&&(ra(this.pendingAnimation),this.pendingAnimation=void 0),this.pendingAnimation=Tt.update(()=>{Pp.hasAnimatedSinceResize=!0,this.currentAnimation=LG(0,ST,{...o,onUpdate:a=>{this.mixTargetDelta(a),o.onUpdate&&o.onUpdate(a)},onComplete:()=>{o.onComplete&&o.onComplete(),this.completeAnimation()}}),this.resumingFrom&&(this.resumingFrom.currentAnimation=this.currentAnimation),this.pendingAnimation=void 0})}completeAnimation(){this.resumingFrom&&(this.resumingFrom.currentAnimation=void 0,this.resumingFrom.preserveOpacity=void 0);const o=this.getStack();o&&o.exitAnimationComplete(),this.resumingFrom=this.currentAnimation=this.animationValues=void 0,this.notifyListeners("animationComplete")}finishAnimation(){this.currentAnimation&&(this.mixTargetDelta&&this.mixTargetDelta(ST),this.currentAnimation.stop()),this.completeAnimation()}applyTransformsToTarget(){const o=this.getLead();let{targetWithTransforms:a,target:l,layout:c,latestValues:h}=o;if(!(!a||!l||!c)){if(this!==o&&this.layout&&c&&JD(this.options.animationType,this.layout.layoutBox,c.layoutBox)){l=this.target||Ht();const p=_r(this.layout.layoutBox.x);l.x.min=o.target.x.min,l.x.max=l.x.min+p;const m=_r(this.layout.layoutBox.y);l.y.min=o.target.y.min,l.y.max=l.y.min+m}Ir(a,l),mc(a,h),Od(this.projectionDeltaWithTransform,this.layoutCorrected,a,h)}}registerSharedNode(o,a){this.sharedNodes.has(o)||this.sharedNodes.set(o,new QG),this.sharedNodes.get(o).add(a);const c=a.options.initialPromotionConfig;a.promote({transition:c?c.transition:void 0,preserveFollowOpacity:c&&c.shouldPreserveFollowOpacity?c.shouldPreserveFollowOpacity(a):void 0})}isLead(){const o=this.getStack();return o?o.lead===this:!0}getLead(){var o;const{layoutId:a}=this.options;return a?((o=this.getStack())===null||o===void 0?void 0:o.lead)||this:this}getPrevLead(){var o;const{layoutId:a}=this.options;return a?(o=this.getStack())===null||o===void 0?void 0:o.prevLead:void 0}getStack(){const{layoutId:o}=this.options;if(o)return this.root.sharedNodes.get(o)}promote({needsReset:o,transition:a,preserveFollowOpacity:l}={}){const c=this.getStack();c&&c.promote(this,l),o&&(this.projectionDelta=void 0,this.needsReset=!0),a&&this.setOptions({transition:a})}relegate(){const o=this.getStack();return o?o.relegate(this):!1}resetSkewAndRotation(){const{visualElement:o}=this.options;if(!o)return;let a=!1;const{latestValues:l}=o;if((l.z||l.rotate||l.rotateX||l.rotateY||l.rotateZ||l.skewX||l.skewY)&&(a=!0),!a)return;const c={};l.z&&yv("z",o,c,this.animationValues);for(let h=0;h<gv.length;h++)yv(`rotate${gv[h]}`,o,c,this.animationValues),yv(`skew${gv[h]}`,o,c,this.animationValues);o.render();for(const h in c)o.setStaticValue(h,c[h]),this.animationValues&&(this.animationValues[h]=c[h]);o.scheduleRender()}getProjectionStyles(o){var a,l;if(!this.instance||this.isSVG)return;if(!this.isVisible)return JG;const c={visibility:""},h=this.getTransformTemplate();if(this.needsReset)return this.needsReset=!1,c.opacity="",c.pointerEvents=Cp(o==null?void 0:o.pointerEvents)||"",c.transform=h?h(this.latestValues,""):"none",c;const p=this.getLead();if(!this.projectionDelta||!this.layout||!p.target){const _={};return this.options.layoutId&&(_.opacity=this.latestValues.opacity!==void 0?this.latestValues.opacity:1,_.pointerEvents=Cp(o==null?void 0:o.pointerEvents)||""),this.hasProjected&&!Va(this.latestValues)&&(_.transform=h?h({},""):"none",this.hasProjected=!1),_}const m=p.animationValues||p.latestValues;this.applyTransformsToTarget(),c.transform=XG(this.projectionDeltaWithTransform,this.treeScale,m),h&&(c.transform=h(m,c.transform));const{x:w,y:T}=this.projectionDelta;c.transformOrigin=`${w.origin*100}% ${T.origin*100}% 0`,p.animationValues?c.opacity=p===this?(l=(a=m.opacity)!==null&&a!==void 0?a:this.latestValues.opacity)!==null&&l!==void 0?l:1:this.preserveOpacity?this.latestValues.opacity:m.opacityExit:c.opacity=p===this?m.opacity!==void 0?m.opacity:"":m.opacityExit!==void 0?m.opacityExit:0;for(const _ in Um){if(m[_]===void 0)continue;const{correct:I,applyTo:b}=Um[_],E=c.transform==="none"?m[_]:I(m[_],p);if(b){const k=b.length;for(let M=0;M<k;M++)c[b[M]]=E}else c[_]=E}return this.options.layoutId&&(c.pointerEvents=p===this?Cp(o==null?void 0:o.pointerEvents)||"":"none"),c}clearSnapshot(){this.resumeFrom=this.snapshot=void 0}resetTree(){this.root.nodes.forEach(o=>{var a;return(a=o.currentAnimation)===null||a===void 0?void 0:a.stop()}),this.root.nodes.forEach(ET),this.root.sharedNodes.clear()}}}function eq(t){t.updateLayout()}function tq(t){var e;const n=((e=t.resumeFrom)===null||e===void 0?void 0:e.snapshot)||t.snapshot;if(t.isLead()&&t.layout&&n&&t.hasListeners("didUpdate")){const{layoutBox:r,measuredBox:i}=t.layout,{animationType:s}=t.options,o=n.source!==t.layout.source;s==="size"?kr(p=>{const m=o?n.measuredBox[p]:n.layoutBox[p],w=_r(m);m.min=r[p].min,m.max=m.min+w}):JD(s,n.layoutBox,r)&&kr(p=>{const m=o?n.measuredBox[p]:n.layoutBox[p],w=_r(r[p]);m.max=m.min+w,t.relativeTarget&&!t.currentAnimation&&(t.isProjectionDirty=!0,t.relativeTarget[p].max=t.relativeTarget[p].min+w)});const a=fc();Od(a,r,n.layoutBox);const l=fc();o?Od(l,t.applyTransform(i,!0),n.measuredBox):Od(l,r,n.layoutBox);const c=!qD(a);let h=!1;if(!t.resumeFrom){const p=t.getClosestProjectingParent();if(p&&!p.resumeFrom){const{snapshot:m,layout:w}=p;if(m&&w){const T=Ht();Dd(T,n.layoutBox,m.layoutBox);const _=Ht();Dd(_,r,w.layoutBox),YD(T,_)||(h=!0),p.options.layoutRoot&&(t.relativeTarget=_,t.relativeTargetOrigin=T,t.relativeParent=p)}}}t.notifyListeners("didUpdate",{layout:r,snapshot:n,delta:l,layoutDelta:a,hasLayoutChanged:c,hasRelativeTargetChanged:h})}else if(t.isLead()){const{onExitComplete:r}=t.options;r&&r()}t.options.transition=void 0}function nq(t){ld&&Ua.totalNodes++,t.parent&&(t.isProjecting()||(t.isProjectionDirty=t.parent.isProjectionDirty),t.isSharedProjectionDirty||(t.isSharedProjectionDirty=!!(t.isProjectionDirty||t.parent.isProjectionDirty||t.parent.isSharedProjectionDirty)),t.isTransformDirty||(t.isTransformDirty=t.parent.isTransformDirty))}function rq(t){t.isProjectionDirty=t.isSharedProjectionDirty=t.isTransformDirty=!1}function iq(t){t.clearSnapshot()}function ET(t){t.clearMeasurements()}function sq(t){t.isLayoutDirty=!1}function oq(t){const{visualElement:e}=t.options;e&&e.getProps().onBeforeLayoutMeasure&&e.notify("BeforeLayoutMeasure"),t.resetTransform()}function CT(t){t.finishAnimation(),t.targetDelta=t.relativeTarget=t.target=void 0,t.isProjectionDirty=!0}function aq(t){t.resolveTargetDelta()}function lq(t){t.calcProjection()}function cq(t){t.resetSkewAndRotation()}function uq(t){t.removeLeadSnapshot()}function TT(t,e,n){t.translate=Nt(e.translate,0,n),t.scale=Nt(e.scale,1,n),t.origin=e.origin,t.originPoint=e.originPoint}function PT(t,e,n,r){t.min=Nt(e.min,n.min,r),t.max=Nt(e.max,n.max,r)}function dq(t,e,n,r){PT(t.x,e.x,n.x,r),PT(t.y,e.y,n.y,r)}function hq(t){return t.animationValues&&t.animationValues.opacityExit!==void 0}const fq={duration:.45,ease:[.4,0,.1,1]},IT=t=>typeof navigator<"u"&&navigator.userAgent&&navigator.userAgent.toLowerCase().includes(t),kT=IT("applewebkit/")&&!IT("chrome/")?Math.round:yr;function RT(t){t.min=kT(t.min),t.max=kT(t.max)}function pq(t){RT(t.x),RT(t.y)}function JD(t,e,n){return t==="position"||t==="preserve-aspect"&&!yG(xT(e),xT(n),.2)}function mq(t){var e;return t!==t.root&&((e=t.scroll)===null||e===void 0?void 0:e.wasRoot)}const gq=XD({attachResizeListener:(t,e)=>Eh(t,"resize",e),measureScroll:()=>({x:document.documentElement.scrollLeft||document.body.scrollLeft,y:document.documentElement.scrollTop||document.body.scrollTop}),checkIsScrollRoot:()=>!0}),vv={current:void 0},ZD=XD({measureScroll:t=>({x:t.scrollLeft,y:t.scrollTop}),defaultParent:()=>{if(!vv.current){const t=new gq({});t.mount(window),t.setOptions({layoutScroll:!0}),vv.current=t}return vv.current},resetTransform:(t,e)=>{t.style.transform=e!==void 0?e:"none"},checkIsScrollRoot:t=>window.getComputedStyle(t).position==="fixed"}),yq={pan:{Feature:OG},drag:{Feature:NG,ProjectionNode:ZD,MeasureLayout:HD}};function AT(t,e,n){const{props:r}=t;t.animationState&&r.whileHover&&t.animationState.setActive("whileHover",n==="Start");const i="onHover"+n,s=r[i];s&&Tt.postRender(()=>s(e,tf(e)))}class vq extends da{mount(){const{current:e}=this.node;e&&(this.unmount=v7(e,n=>(AT(this.node,n,"Start"),r=>AT(this.node,r,"End"))))}unmount(){}}class _q extends da{constructor(){super(...arguments),this.isActive=!1}onFocus(){let e=!1;try{e=this.node.current.matches(":focus-visible")}catch{e=!0}!e||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!0),this.isActive=!0)}onBlur(){!this.isActive||!this.node.animationState||(this.node.animationState.setActive("whileFocus",!1),this.isActive=!1)}mount(){this.unmount=ef(Eh(this.node.current,"focus",()=>this.onFocus()),Eh(this.node.current,"blur",()=>this.onBlur()))}unmount(){}}function NT(t,e,n){const{props:r}=t;t.animationState&&r.whileTap&&t.animationState.setActive("whileTap",n==="Start");const i="onTap"+(n==="End"?"":n),s=r[i];s&&Tt.postRender(()=>s(e,tf(e)))}class wq extends da{mount(){const{current:e}=this.node;e&&(this.unmount=b7(e,n=>(NT(this.node,n,"Start"),(r,{success:i})=>NT(this.node,r,i?"End":"Cancel")),{useGlobalTarget:this.node.props.globalTapTarget}))}unmount(){}}const v0=new WeakMap,_v=new WeakMap,xq=t=>{const e=v0.get(t.target);e&&e(t)},bq=t=>{t.forEach(xq)};function Sq({root:t,...e}){const n=t||document;_v.has(n)||_v.set(n,{});const r=_v.get(n),i=JSON.stringify(e);return r[i]||(r[i]=new IntersectionObserver(bq,{root:t,...e})),r[i]}function Eq(t,e,n){const r=Sq(e);return v0.set(t,n),r.observe(t),()=>{v0.delete(t),r.unobserve(t)}}const Cq={some:0,all:1};class Tq extends da{constructor(){super(...arguments),this.hasEnteredView=!1,this.isInView=!1}startObserver(){this.unmount();const{viewport:e={}}=this.node.getProps(),{root:n,margin:r,amount:i="some",once:s}=e,o={root:n?n.current:void 0,rootMargin:r,threshold:typeof i=="number"?i:Cq[i]},a=l=>{const{isIntersecting:c}=l;if(this.isInView===c||(this.isInView=c,s&&!c&&this.hasEnteredView))return;c&&(this.hasEnteredView=!0),this.node.animationState&&this.node.animationState.setActive("whileInView",c);const{onViewportEnter:h,onViewportLeave:p}=this.node.getProps(),m=c?h:p;m&&m(l)};return Eq(this.node.current,o,a)}mount(){this.startObserver()}update(){if(typeof IntersectionObserver>"u")return;const{props:e,prevProps:n}=this.node;["amount","margin","root"].some(Pq(e,n))&&this.startObserver()}unmount(){}}function Pq({viewport:t={}},{viewport:e={}}={}){return n=>t[n]!==e[n]}const Iq={inView:{Feature:Tq},tap:{Feature:wq},focus:{Feature:_q},hover:{Feature:vq}},kq={layout:{ProjectionNode:ZD,MeasureLayout:HD}},_0={current:null},e2={current:!1};function Rq(){if(e2.current=!0,!!e1)if(window.matchMedia){const t=window.matchMedia("(prefers-reduced-motion)"),e=()=>_0.current=t.matches;t.addListener(e),e()}else _0.current=!1}const Aq=[...CD,Tn,ia],Nq=t=>Aq.find(ED(t)),OT=new WeakMap;function Oq(t,e,n){for(const r in e){const i=e[r],s=n[r];if(In(i))t.addValue(r,i);else if(In(s))t.addValue(r,bh(i,{owner:t}));else if(s!==i)if(t.hasValue(r)){const o=t.getValue(r);o.liveStyle===!0?o.jump(i):o.hasAnimated||o.set(i)}else{const o=t.getStaticValue(r);t.addValue(r,bh(o!==void 0?o:i,{owner:t}))}}for(const r in n)e[r]===void 0&&t.removeValue(r);return e}const DT=["AnimationStart","AnimationComplete","Update","BeforeLayoutMeasure","LayoutMeasure","LayoutAnimationStart","LayoutAnimationComplete"];class Dq{scrapeMotionValuesFromProps(e,n,r){return{}}constructor({parent:e,props:n,presenceContext:r,reducedMotionConfig:i,blockInitialAnimation:s,visualState:o},a={}){this.current=null,this.children=new Set,this.isVariantNode=!1,this.isControllingVariants=!1,this.shouldReduceMotion=null,this.values=new Map,this.KeyframeResolver=P1,this.features={},this.valueSubscriptions=new Map,this.prevMotionValues={},this.events={},this.propEventSubscriptions={},this.notifyUpdate=()=>this.notify("Update",this.latestValues),this.render=()=>{this.current&&(this.triggerBuild(),this.renderInstance(this.current,this.renderState,this.props.style,this.projection))},this.renderScheduledAt=0,this.scheduleRender=()=>{const w=Yi.now();this.renderScheduledAt<w&&(this.renderScheduledAt=w,Tt.render(this.render,!1,!0))};const{latestValues:l,renderState:c,onUpdate:h}=o;this.onUpdate=h,this.latestValues=l,this.baseTarget={...l},this.initialValues=n.initial?{...l}:{},this.renderState=c,this.parent=e,this.props=n,this.presenceContext=r,this.depth=e?e.depth+1:0,this.reducedMotionConfig=i,this.options=a,this.blockInitialAnimation=!!s,this.isControllingVariants=Kg(n),this.isVariantNode=OO(n),this.isVariantNode&&(this.variantChildren=new Set),this.manuallyAnimateOnMount=!!(e&&e.current);const{willChange:p,...m}=this.scrapeMotionValuesFromProps(n,{},this);for(const w in m){const T=m[w];l[w]!==void 0&&In(T)&&T.set(l[w],!1)}}mount(e){this.current=e,OT.set(e,this),this.projection&&!this.projection.instance&&this.projection.mount(e),this.parent&&this.isVariantNode&&!this.isControllingVariants&&(this.removeFromVariantTree=this.parent.addVariantChild(this)),this.values.forEach((n,r)=>this.bindToMotionValue(r,n)),e2.current||Rq(),this.shouldReduceMotion=this.reducedMotionConfig==="never"?!1:this.reducedMotionConfig==="always"?!0:_0.current,this.parent&&this.parent.children.add(this),this.update(this.props,this.presenceContext)}unmount(){OT.delete(this.current),this.projection&&this.projection.unmount(),ra(this.notifyUpdate),ra(this.render),this.valueSubscriptions.forEach(e=>e()),this.valueSubscriptions.clear(),this.removeFromVariantTree&&this.removeFromVariantTree(),this.parent&&this.parent.children.delete(this);for(const e in this.events)this.events[e].clear();for(const e in this.features){const n=this.features[e];n&&(n.unmount(),n.isMounted=!1)}this.current=null}bindToMotionValue(e,n){this.valueSubscriptions.has(e)&&this.valueSubscriptions.get(e)();const r=Cl.has(e),i=n.on("change",a=>{this.latestValues[e]=a,this.props.onUpdate&&Tt.preRender(this.notifyUpdate),r&&this.projection&&(this.projection.isTransformDirty=!0)}),s=n.on("renderRequest",this.scheduleRender);let o;window.MotionCheckAppearSync&&(o=window.MotionCheckAppearSync(this,e,n)),this.valueSubscriptions.set(e,()=>{i(),s(),o&&o(),n.owner&&n.stop()})}sortNodePosition(e){return!this.current||!this.sortInstanceNodePosition||this.type!==e.type?0:this.sortInstanceNodePosition(this.current,e.current)}updateFeatures(){let e="animation";for(e in au){const n=au[e];if(!n)continue;const{isEnabled:r,Feature:i}=n;if(!this.features[e]&&i&&r(this.props)&&(this.features[e]=new i(this)),this.features[e]){const s=this.features[e];s.isMounted?s.update():(s.mount(),s.isMounted=!0)}}}triggerBuild(){this.build(this.renderState,this.latestValues,this.props)}measureViewportBox(){return this.current?this.measureInstanceViewportBox(this.current,this.props):Ht()}getStaticValue(e){return this.latestValues[e]}setStaticValue(e,n){this.latestValues[e]=n}update(e,n){(e.transformTemplate||this.props.transformTemplate)&&this.scheduleRender(),this.prevProps=this.props,this.props=e,this.prevPresenceContext=this.presenceContext,this.presenceContext=n;for(let r=0;r<DT.length;r++){const i=DT[r];this.propEventSubscriptions[i]&&(this.propEventSubscriptions[i](),delete this.propEventSubscriptions[i]);const s="on"+i,o=e[s];o&&(this.propEventSubscriptions[i]=this.on(i,o))}this.prevMotionValues=Oq(this,this.scrapeMotionValuesFromProps(e,this.prevProps,this),this.prevMotionValues),this.handleChildMotionValue&&this.handleChildMotionValue(),this.onUpdate&&this.onUpdate(this)}getProps(){return this.props}getVariant(e){return this.props.variants?this.props.variants[e]:void 0}getDefaultTransition(){return this.props.transition}getTransformPagePoint(){return this.props.transformPagePoint}getClosestVariantNode(){return this.isVariantNode?this:this.parent?this.parent.getClosestVariantNode():void 0}addVariantChild(e){const n=this.getClosestVariantNode();if(n)return n.variantChildren&&n.variantChildren.add(e),()=>n.variantChildren.delete(e)}addValue(e,n){const r=this.values.get(e);n!==r&&(r&&this.removeValue(e),this.bindToMotionValue(e,n),this.values.set(e,n),this.latestValues[e]=n.get())}removeValue(e){this.values.delete(e);const n=this.valueSubscriptions.get(e);n&&(n(),this.valueSubscriptions.delete(e)),delete this.latestValues[e],this.removeValueFromRenderState(e,this.renderState)}hasValue(e){return this.values.has(e)}getValue(e,n){if(this.props.values&&this.props.values[e])return this.props.values[e];let r=this.values.get(e);return r===void 0&&n!==void 0&&(r=bh(n===null?void 0:n,{owner:this}),this.addValue(e,r)),r}readValue(e,n){var r;let i=this.latestValues[e]!==void 0||!this.current?this.latestValues[e]:(r=this.getBaseTargetFromProps(this.props,e))!==null&&r!==void 0?r:this.readValueFromInstance(this.current,e,this.options);return i!=null&&(typeof i=="string"&&(bD(i)||fD(i))?i=parseFloat(i):!Nq(i)&&ia.test(n)&&(i=_D(e,n)),this.setBaseTarget(e,In(i)?i.get():i)),In(i)?i.get():i}setBaseTarget(e,n){this.baseTarget[e]=n}getBaseTarget(e){var n;const{initial:r}=this.props;let i;if(typeof r=="string"||typeof r=="object"){const o=a1(this.props,r,(n=this.presenceContext)===null||n===void 0?void 0:n.custom);o&&(i=o[e])}if(r&&i!==void 0)return i;const s=this.getBaseTargetFromProps(this.props,e);return s!==void 0&&!In(s)?s:this.initialValues[e]!==void 0&&i===void 0?void 0:this.baseTarget[e]}on(e,n){return this.events[e]||(this.events[e]=new x1),this.events[e].add(n)}notify(e,...n){this.events[e]&&this.events[e].notify(...n)}}class t2 extends Dq{constructor(){super(...arguments),this.KeyframeResolver=TD}sortInstanceNodePosition(e,n){return e.compareDocumentPosition(n)&2?1:-1}getBaseTargetFromProps(e,n){return e.style?e.style[n]:void 0}removeValueFromRenderState(e,{vars:n,style:r}){delete n[e],delete r[e]}handleChildMotionValue(){this.childSubscription&&(this.childSubscription(),delete this.childSubscription);const{children:e}=this.props;In(e)&&(this.childSubscription=e.on("change",n=>{this.current&&(this.current.textContent=`${n}`)}))}}function Mq(t){return window.getComputedStyle(t)}class jq extends t2{constructor(){super(...arguments),this.type="html",this.renderInstance=$O}readValueFromInstance(e,n){if(Cl.has(n)){const r=T1(n);return r&&r.default||0}else{const r=Mq(e),i=(VO(n)?r.getPropertyValue(n):r[n])||0;return typeof i=="string"?i.trim():i}}measureInstanceViewportBox(e,{transformPagePoint:n}){return zD(e,n)}build(e,n,r){u1(e,n,r.transformTemplate)}scrapeMotionValuesFromProps(e,n,r){return p1(e,n,r)}}class Lq extends t2{constructor(){super(...arguments),this.type="svg",this.isSVGTag=!1,this.measureInstanceViewportBox=Ht}getBaseTargetFromProps(e,n){return e[n]}readValueFromInstance(e,n){if(Cl.has(n)){const r=T1(n);return r&&r.default||0}return n=zO.has(n)?n:i1(n),e.getAttribute(n)}scrapeMotionValuesFromProps(e,n,r){return KO(e,n,r)}build(e,n,r){d1(e,n,this.isSVGTag,r.transformTemplate)}renderInstance(e,n,r,i){WO(e,n,r,i)}mount(e){this.isSVGTag=f1(e.tagName),super.mount(e)}}const Fq=(t,e)=>o1(t)?new Lq(e):new jq(e,{allowProjection:t!==S.Fragment}),Vq=d7({...lG,...Iq,...yq,...kq},Fq),Dr=TH(Vq),MT={hidden:{opacity:0},show:{opacity:1,transition:{staggerChildren:.1}}},jT={hidden:{opacity:0,y:20},show:{opacity:1,y:0}};function Uq(){const t=[{title:"Total Revenue",value:"$12,450",change:"+12.5%",icon:k3,color:"text-chart-3"},{title:"Pending Orders",value:"24",change:"+3 from yesterday",icon:om,color:"text-primary"},{title:"Active Tables",value:"18",change:"Peak hours",icon:mR,color:"text-secondary"},{title:"Avg. Prep Time",value:"12 min",change:"-2 min today",icon:V3,color:"text-chart-4"}],e=[{title:"Billing Management",description:"Manage invoices, payments, and revenue tracking",icon:vR,to:"/billing",color:"bg-primary/10 text-primary",testId:"card-billing"},{title:"Kitchen Operations",description:"Track orders, manage queue, and monitor prep times",icon:om,to:"/kitchen",color:"bg-secondary/10 text-secondary",testId:"card-kitchen"}];return g.jsxs("div",{className:"min-h-screen",children:[g.jsxs("div",{className:"relative overflow-hidden bg-gradient-to-br from-primary via-primary/80 to-secondary py-20 sm:py-28",children:[g.jsx("div",{className:"absolute inset-0 bg-[url('data:image/svg+xml;base64,PHN2ZyB3aWR0aD0iNjAiIGhlaWdodD0iNjAiIHZpZXdCb3g9IjAgMCA2MCA2MCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIj48ZyBmaWxsPSJub25lIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiPjxwYXRoIGQ9Ik0zNiAxOGMzLjMxNCAwIDYgMi42ODYgNiA2cy0yLjY4NiA2LTYgNi02LTIuNjg2LTYtNiAyLjY4Ni02IDYtNiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utb3BhY2l0eT0iLjEiLz48L2c+PC9zdmc+')] opacity-20"}),g.jsx("div",{className:"container relative mx-auto px-4 sm:px-6 lg:px-8",children:g.jsxs(Dr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.5},className:"text-center",children:[g.jsx("h1",{className:"text-4xl font-bold tracking-tight text-white sm:text-5xl md:text-6xl","data-testid":"text-hero-title",children:"Kitchen & Billing Management"}),g.jsx("p",{className:"mx-auto mt-6 max-w-2xl text-lg text-white/90","data-testid":"text-hero-description",children:"Streamline your restaurant operations with our modern, efficient management system. Track orders, manage billing, and optimize your workflow."}),g.jsxs("div",{className:"mt-10 flex justify-center gap-4",children:[g.jsx(at,{size:"lg",variant:"secondary",asChild:!0,"data-testid":"button-get-started",children:g.jsx(_o,{to:"/kitchen",children:"Get Started"})}),g.jsx(at,{size:"lg",variant:"outline",className:"bg-white/10 border-white/20 text-white backdrop-blur-sm",asChild:!0,"data-testid":"button-learn-more",children:g.jsx(_o,{to:"/billing",children:"View Billing"})})]})]})})]}),g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 -mt-12",children:[g.jsx(Dr.div,{variants:MT,initial:"hidden",animate:"show",className:"grid gap-6 sm:grid-cols-2 lg:grid-cols-4",children:t.map((n,r)=>g.jsx(Dr.div,{variants:jT,children:g.jsxs(fn,{className:"relative overflow-hidden","data-testid":`card-stat-${r}`,children:[g.jsxs(su,{className:"flex flex-row items-center justify-between gap-2 space-y-0 pb-2",children:[g.jsx(_h,{className:"text-sm font-medium",children:n.title}),g.jsx(n.icon,{className:`h-4 w-4 ${n.color}`})]}),g.jsxs(Bn,{children:[g.jsx("div",{className:"text-2xl font-bold","data-testid":`text-stat-value-${r}`,children:n.value}),g.jsx("p",{className:"text-xs text-muted-foreground mt-1","data-testid":`text-stat-change-${r}`,children:n.change})]})]})},n.title))}),g.jsxs("div",{className:"mt-16 mb-16",children:[g.jsxs("div",{className:"text-center mb-8",children:[g.jsx("h2",{className:"text-3xl font-bold tracking-tight","data-testid":"text-quick-actions-title",children:"Quick Actions"}),g.jsx("p",{className:"mt-2 text-muted-foreground","data-testid":"text-quick-actions-description",children:"Access your most-used features instantly"})]}),g.jsx(Dr.div,{variants:MT,initial:"hidden",animate:"show",className:"grid gap-6 md:grid-cols-2 max-w-4xl mx-auto",children:e.map(n=>g.jsx(Dr.div,{variants:jT,children:g.jsx(_o,{to:n.to,"data-testid":`link-${n.testId}`,children:g.jsx(fn,{className:"hover-elevate active-elevate-2 transition-all cursor-pointer h-full",children:g.jsxs(su,{children:[g.jsx("div",{className:`w-12 h-12 rounded-lg ${n.color} flex items-center justify-center mb-4`,children:g.jsx(n.icon,{className:"h-6 w-6"})}),g.jsx(_h,{"data-testid":`text-${n.testId}-title`,children:n.title}),g.jsx($g,{"data-testid":`text-${n.testId}-description`,children:n.description})]})})})},n.title))})]})]})]})}var Bq="Separator",LT="horizontal",$q=["horizontal","vertical"],n2=S.forwardRef((t,e)=>{const{decorative:n,orientation:r=LT,...i}=t,s=zq(r)?r:LT,a=n?{role:"none"}:{"aria-orientation":s==="vertical"?s:void 0,role:"separator"};return g.jsx(Ve.div,{"data-orientation":s,...a,...i,ref:e})});n2.displayName=Bq;function zq(t){return $q.includes(t)}var r2=n2;const fr=S.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},i)=>g.jsx(r2,{ref:i,decorative:n,orientation:e,className:De("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));fr.displayName=r2.displayName;const vs=S.forwardRef(({className:t,type:e,...n},r)=>g.jsx("input",{type:e,className:De("flex h-9 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));vs.displayName="Input";const Jf=t=>JSON.stringify(t),FT=(t,e)=>{let n=t;return e.size==="large"&&(n+=10),e.addOns.extraGinger&&(n+=5),e.addOns.extraElaichi&&(n+=3),n},hn=Qx((t,e)=>({order:[],discountPercentage:0,addToOrder:(n,r,i)=>{const s=Jf(r),o=FT(n.price,r),a=o*i;t(l=>{const c=l.order.findIndex(h=>h.id===n.id&&Jf(h.modifiers)===s);if(c>=0){const h=[...l.order];return h[c]={...h[c],quantity:h[c].quantity+i,itemTotal:(h[c].quantity+i)*o},{order:h}}else return{order:[...l.order,{...n,quantity:i,modifiers:r,itemTotal:a}]}})},updateQuantity:(n,r,i)=>{t(s=>({order:s.order.map(a=>{if(a.id===n&&Jf(a.modifiers)===r){const l=a.quantity+i;if(l<=0)return null;const c=FT(a.price,a.modifiers);return{...a,quantity:l,itemTotal:c*l}}return a}).filter(a=>a!==null)}))},removeItem:(n,r)=>{t(i=>({order:i.order.filter(s=>!(s.id===n&&Jf(s.modifiers)===r))}))},setDiscountPercentage:n=>{const r=Math.max(0,Math.min(100,n));t({discountPercentage:r})},clearOrder:()=>t({order:[],discountPercentage:0}),getSubtotal:()=>e().order.reduce((n,r)=>n+r.itemTotal,0),getDiscount:()=>{const n=e().getSubtotal(),r=e().discountPercentage;return n*r/100},getGST:()=>{const n=e().getSubtotal(),r=e().getDiscount();return(n-r)*.05},getTotal:()=>{const n=e().getSubtotal(),r=e().getDiscount(),i=e().getGST();return n-r+i}}));var wv="focusScope.autoFocusOnMount",xv="focusScope.autoFocusOnUnmount",VT={bubbles:!1,cancelable:!0},Wq="FocusScope",A1=S.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:i,onUnmountAutoFocus:s,...o}=t,[a,l]=S.useState(null),c=nr(i),h=nr(s),p=S.useRef(null),m=dt(e,_=>l(_)),w=S.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;S.useEffect(()=>{if(r){let _=function(k){if(w.paused||!a)return;const M=k.target;a.contains(M)?p.current=M:fo(p.current,{select:!0})},I=function(k){if(w.paused||!a)return;const M=k.relatedTarget;M!==null&&(a.contains(M)||fo(p.current,{select:!0}))},b=function(k){if(document.activeElement===document.body)for(const U of k)U.removedNodes.length>0&&fo(a)};document.addEventListener("focusin",_),document.addEventListener("focusout",I);const E=new MutationObserver(b);return a&&E.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",_),document.removeEventListener("focusout",I),E.disconnect()}}},[r,a,w.paused]),S.useEffect(()=>{if(a){BT.add(w);const _=document.activeElement;if(!a.contains(_)){const b=new CustomEvent(wv,VT);a.addEventListener(wv,c),a.dispatchEvent(b),b.defaultPrevented||(Hq(Qq(i2(a)),{select:!0}),document.activeElement===_&&fo(a))}return()=>{a.removeEventListener(wv,c),setTimeout(()=>{const b=new CustomEvent(xv,VT);a.addEventListener(xv,h),a.dispatchEvent(b),b.defaultPrevented||fo(_??document.body,{select:!0}),a.removeEventListener(xv,h),BT.remove(w)},0)}}},[a,c,h,w]);const T=S.useCallback(_=>{if(!n&&!r||w.paused)return;const I=_.key==="Tab"&&!_.altKey&&!_.ctrlKey&&!_.metaKey,b=document.activeElement;if(I&&b){const E=_.currentTarget,[k,M]=Kq(E);k&&M?!_.shiftKey&&b===M?(_.preventDefault(),n&&fo(k,{select:!0})):_.shiftKey&&b===k&&(_.preventDefault(),n&&fo(M,{select:!0})):b===E&&_.preventDefault()}},[n,r,w.paused]);return g.jsx(Ve.div,{tabIndex:-1,...o,ref:m,onKeyDown:T})});A1.displayName=Wq;function Hq(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(fo(r,{select:e}),document.activeElement!==n)return}function Kq(t){const e=i2(t),n=UT(e,t),r=UT(e.reverse(),t);return[n,r]}function i2(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const i=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||i?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function UT(t,e){for(const n of t)if(!Gq(n,{upTo:e}))return n}function Gq(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function qq(t){return t instanceof HTMLInputElement&&"select"in t}function fo(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&qq(t)&&e&&t.select()}}var BT=Yq();function Yq(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=$T(t,e),t.unshift(e)},remove(e){var n;t=$T(t,e),(n=t[0])==null||n.resume()}}}function $T(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function Qq(t){return t.filter(e=>e.tagName!=="A")}var bv=0;function s2(){S.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??zT()),document.body.insertAdjacentElement("beforeend",t[1]??zT()),bv++,()=>{bv===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bv--}},[])}function zT(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Bi=function(){return Bi=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Bi.apply(this,arguments)};function o2(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function Xq(t,e,n){if(n||arguments.length===2)for(var r=0,i=e.length,s;r<i;r++)(s||!(r in e))&&(s||(s=Array.prototype.slice.call(e,0,r)),s[r]=e[r]);return t.concat(s||Array.prototype.slice.call(e))}var Ip="right-scroll-bar-position",kp="width-before-scroll-bar",Jq="with-scroll-bars-hidden",Zq="--removed-body-scroll-bar-size";function Sv(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function eY(t,e){var n=S.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var i=n.value;i!==r&&(n.value=r,n.callback(r,i))}}}})[0];return n.callback=e,n.facade}var tY=typeof window<"u"?S.useLayoutEffect:S.useEffect,WT=new WeakMap;function nY(t,e){var n=eY(null,function(r){return t.forEach(function(i){return Sv(i,r)})});return tY(function(){var r=WT.get(n);if(r){var i=new Set(r),s=new Set(t),o=n.current;i.forEach(function(a){s.has(a)||Sv(a,null)}),s.forEach(function(a){i.has(a)||Sv(a,o)})}WT.set(n,t)},[t]),n}function rY(t){return t}function iY(t,e){e===void 0&&(e=rY);var n=[],r=!1,i={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(s){var o=e(s,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(s){for(r=!0;n.length;){var o=n;n=[],o.forEach(s)}n={push:function(a){return s(a)},filter:function(){return n}}},assignMedium:function(s){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(s),o=n}var l=function(){var h=o;o=[],h.forEach(s)},c=function(){return Promise.resolve().then(l)};c(),n={push:function(h){o.push(h),c()},filter:function(h){return o=o.filter(h),n}}}};return i}function sY(t){t===void 0&&(t={});var e=iY(null);return e.options=Bi({async:!0,ssr:!1},t),e}var a2=function(t){var e=t.sideCar,n=o2(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return S.createElement(r,Bi({},n))};a2.isSideCarExport=!0;function oY(t,e){return t.useMedium(e),a2}var l2=sY(),Ev=function(){},Yg=S.forwardRef(function(t,e){var n=S.useRef(null),r=S.useState({onScrollCapture:Ev,onWheelCapture:Ev,onTouchMoveCapture:Ev}),i=r[0],s=r[1],o=t.forwardProps,a=t.children,l=t.className,c=t.removeScrollBar,h=t.enabled,p=t.shards,m=t.sideCar,w=t.noIsolation,T=t.inert,_=t.allowPinchZoom,I=t.as,b=I===void 0?"div":I,E=t.gapMode,k=o2(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noIsolation","inert","allowPinchZoom","as","gapMode"]),M=m,U=nY([n,e]),H=Bi(Bi({},k),i);return S.createElement(S.Fragment,null,h&&S.createElement(M,{sideCar:l2,removeScrollBar:c,shards:p,noIsolation:w,inert:T,setCallbacks:s,allowPinchZoom:!!_,lockRef:n,gapMode:E}),o?S.cloneElement(S.Children.only(a),Bi(Bi({},H),{ref:U})):S.createElement(b,Bi({},H,{className:l,ref:U}),a))});Yg.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Yg.classNames={fullWidth:kp,zeroRight:Ip};var aY=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function lY(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=aY();return e&&t.setAttribute("nonce",e),t}function cY(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function uY(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var dY=function(){var t=0,e=null;return{add:function(n){t==0&&(e=lY())&&(cY(e,n),uY(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},hY=function(){var t=dY();return function(e,n){S.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},c2=function(){var t=hY(),e=function(n){var r=n.styles,i=n.dynamic;return t(r,i),null};return e},fY={left:0,top:0,right:0,gap:0},Cv=function(t){return parseInt(t||"",10)||0},pY=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],i=e[t==="padding"?"paddingRight":"marginRight"];return[Cv(n),Cv(r),Cv(i)]},mY=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return fY;var e=pY(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},gY=c2(),Rc="data-scroll-locked",yY=function(t,e,n,r){var i=t.left,s=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(Jq,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Rc,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(i,`px;
    padding-top: `).concat(s,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Ip,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(kp,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Ip," .").concat(Ip,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(kp," .").concat(kp,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Rc,`] {
    `).concat(Zq,": ").concat(a,`px;
  }
`)},HT=function(){var t=parseInt(document.body.getAttribute(Rc)||"0",10);return isFinite(t)?t:0},vY=function(){S.useEffect(function(){return document.body.setAttribute(Rc,(HT()+1).toString()),function(){var t=HT()-1;t<=0?document.body.removeAttribute(Rc):document.body.setAttribute(Rc,t.toString())}},[])},_Y=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,i=r===void 0?"margin":r;vY();var s=S.useMemo(function(){return mY(i)},[i]);return S.createElement(gY,{styles:yY(s,!e,i,n?"":"!important")})},w0=!1;if(typeof window<"u")try{var Zf=Object.defineProperty({},"passive",{get:function(){return w0=!0,!0}});window.addEventListener("test",Zf,Zf),window.removeEventListener("test",Zf,Zf)}catch{w0=!1}var Gl=w0?{passive:!1}:!1,wY=function(t){return t.tagName==="TEXTAREA"},u2=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!wY(t)&&n[e]==="visible")},xY=function(t){return u2(t,"overflowY")},bY=function(t){return u2(t,"overflowX")},KT=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var i=d2(t,r);if(i){var s=h2(t,r),o=s[1],a=s[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},SY=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},EY=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},d2=function(t,e){return t==="v"?xY(e):bY(e)},h2=function(t,e){return t==="v"?SY(e):EY(e)},CY=function(t,e){return t==="h"&&e==="rtl"?-1:1},TY=function(t,e,n,r,i){var s=CY(t,window.getComputedStyle(e).direction),o=s*r,a=n.target,l=e.contains(a),c=!1,h=o>0,p=0,m=0;do{var w=h2(t,a),T=w[0],_=w[1],I=w[2],b=_-I-s*T;(T||b)&&d2(t,a)&&(p+=b,m+=T),a instanceof ShadowRoot?a=a.host:a=a.parentNode}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(p)<1||!i)||!h&&(Math.abs(m)<1||!i))&&(c=!0),c},ep=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},GT=function(t){return[t.deltaX,t.deltaY]},qT=function(t){return t&&"current"in t?t.current:t},PY=function(t,e){return t[0]===e[0]&&t[1]===e[1]},IY=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},kY=0,ql=[];function RY(t){var e=S.useRef([]),n=S.useRef([0,0]),r=S.useRef(),i=S.useState(kY++)[0],s=S.useState(c2)[0],o=S.useRef(t);S.useEffect(function(){o.current=t},[t]),S.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(i));var _=Xq([t.lockRef.current],(t.shards||[]).map(qT),!0).filter(Boolean);return _.forEach(function(I){return I.classList.add("allow-interactivity-".concat(i))}),function(){document.body.classList.remove("block-interactivity-".concat(i)),_.forEach(function(I){return I.classList.remove("allow-interactivity-".concat(i))})}}},[t.inert,t.lockRef.current,t.shards]);var a=S.useCallback(function(_,I){if("touches"in _&&_.touches.length===2||_.type==="wheel"&&_.ctrlKey)return!o.current.allowPinchZoom;var b=ep(_),E=n.current,k="deltaX"in _?_.deltaX:E[0]-b[0],M="deltaY"in _?_.deltaY:E[1]-b[1],U,H=_.target,N=Math.abs(k)>Math.abs(M)?"h":"v";if("touches"in _&&N==="h"&&H.type==="range")return!1;var R=KT(N,H);if(!R)return!0;if(R?U=N:(U=N==="v"?"h":"v",R=KT(N,H)),!R)return!1;if(!r.current&&"changedTouches"in _&&(k||M)&&(r.current=U),!U)return!0;var j=r.current||U;return TY(j,I,_,j==="h"?k:M,!0)},[]),l=S.useCallback(function(_){var I=_;if(!(!ql.length||ql[ql.length-1]!==s)){var b="deltaY"in I?GT(I):ep(I),E=e.current.filter(function(U){return U.name===I.type&&(U.target===I.target||I.target===U.shadowParent)&&PY(U.delta,b)})[0];if(E&&E.should){I.cancelable&&I.preventDefault();return}if(!E){var k=(o.current.shards||[]).map(qT).filter(Boolean).filter(function(U){return U.contains(I.target)}),M=k.length>0?a(I,k[0]):!o.current.noIsolation;M&&I.cancelable&&I.preventDefault()}}},[]),c=S.useCallback(function(_,I,b,E){var k={name:_,delta:I,target:b,should:E,shadowParent:AY(b)};e.current.push(k),setTimeout(function(){e.current=e.current.filter(function(M){return M!==k})},1)},[]),h=S.useCallback(function(_){n.current=ep(_),r.current=void 0},[]),p=S.useCallback(function(_){c(_.type,GT(_),_.target,a(_,t.lockRef.current))},[]),m=S.useCallback(function(_){c(_.type,ep(_),_.target,a(_,t.lockRef.current))},[]);S.useEffect(function(){return ql.push(s),t.setCallbacks({onScrollCapture:p,onWheelCapture:p,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Gl),document.addEventListener("touchmove",l,Gl),document.addEventListener("touchstart",h,Gl),function(){ql=ql.filter(function(_){return _!==s}),document.removeEventListener("wheel",l,Gl),document.removeEventListener("touchmove",l,Gl),document.removeEventListener("touchstart",h,Gl)}},[]);var w=t.removeScrollBar,T=t.inert;return S.createElement(S.Fragment,null,T?S.createElement(s,{styles:IY(i)}):null,w?S.createElement(_Y,{gapMode:t.gapMode}):null)}function AY(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NY=oY(l2,RY);var N1=S.forwardRef(function(t,e){return S.createElement(Yg,Bi({},t,{ref:e,sideCar:NY}))});N1.classNames=Yg.classNames;var OY=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Yl=new WeakMap,tp=new WeakMap,np={},Tv=0,f2=function(t){return t&&(t.host||f2(t.parentNode))},DY=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=f2(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},MY=function(t,e,n,r){var i=DY(e,Array.isArray(t)?t:[t]);np[n]||(np[n]=new WeakMap);var s=np[n],o=[],a=new Set,l=new Set(i),c=function(p){!p||a.has(p)||(a.add(p),c(p.parentNode))};i.forEach(c);var h=function(p){!p||l.has(p)||Array.prototype.forEach.call(p.children,function(m){if(a.has(m))h(m);else try{var w=m.getAttribute(r),T=w!==null&&w!=="false",_=(Yl.get(m)||0)+1,I=(s.get(m)||0)+1;Yl.set(m,_),s.set(m,I),o.push(m),_===1&&T&&tp.set(m,!0),I===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(b){console.error("aria-hidden: cannot operate on ",m,b)}})};return h(e),a.clear(),Tv++,function(){o.forEach(function(p){var m=Yl.get(p)-1,w=s.get(p)-1;Yl.set(p,m),s.set(p,w),m||(tp.has(p)||p.removeAttribute(r),tp.delete(p)),w||p.removeAttribute(n)}),Tv--,Tv||(Yl=new WeakMap,Yl=new WeakMap,tp=new WeakMap,np={})}},p2=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),i=OY(t);return i?(r.push.apply(r,Array.from(i.querySelectorAll("[aria-live]"))),MY(r,i,n,"aria-hidden")):function(){return null}},O1="Dialog",[m2,bJ]=Ji(O1),[jY,bi]=m2(O1),g2=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:i,onOpenChange:s,modal:o=!0}=t,a=S.useRef(null),l=S.useRef(null),[c=!1,h]=dl({prop:r,defaultProp:i,onChange:s});return g.jsx(jY,{scope:e,triggerRef:a,contentRef:l,contentId:tl(),titleId:tl(),descriptionId:tl(),open:c,onOpenChange:h,onOpenToggle:S.useCallback(()=>h(p=>!p),[h]),modal:o,children:n})};g2.displayName=O1;var y2="DialogTrigger",LY=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bi(y2,n),s=dt(e,i.triggerRef);return g.jsx(Ve.button,{type:"button","aria-haspopup":"dialog","aria-expanded":i.open,"aria-controls":i.contentId,"data-state":j1(i.open),...r,ref:s,onClick:ke(t.onClick,i.onOpenToggle)})});LY.displayName=y2;var D1="DialogPortal",[FY,v2]=m2(D1,{forceMount:void 0}),_2=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:i}=t,s=bi(D1,e);return g.jsx(FY,{scope:e,forceMount:n,children:S.Children.map(r,o=>g.jsx(la,{present:n||s.open,children:g.jsx(fg,{asChild:!0,container:i,children:o})}))})};_2.displayName=D1;var Km="DialogOverlay",w2=S.forwardRef((t,e)=>{const n=v2(Km,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=bi(Km,t.__scopeDialog);return s.modal?g.jsx(la,{present:r||s.open,children:g.jsx(UY,{...i,ref:e})}):null});w2.displayName=Km;var VY=qc("DialogOverlay.RemoveScroll"),UY=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bi(Km,n);return g.jsx(N1,{as:VY,allowPinchZoom:!0,shards:[i.contentRef],children:g.jsx(Ve.div,{"data-state":j1(i.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),vl="DialogContent",x2=S.forwardRef((t,e)=>{const n=v2(vl,t.__scopeDialog),{forceMount:r=n.forceMount,...i}=t,s=bi(vl,t.__scopeDialog);return g.jsx(la,{present:r||s.open,children:s.modal?g.jsx(BY,{...i,ref:e}):g.jsx($Y,{...i,ref:e})})});x2.displayName=vl;var BY=S.forwardRef((t,e)=>{const n=bi(vl,t.__scopeDialog),r=S.useRef(null),i=dt(e,n.contentRef,r);return S.useEffect(()=>{const s=r.current;if(s)return p2(s)},[]),g.jsx(b2,{...t,ref:i,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ke(t.onCloseAutoFocus,s=>{var o;s.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ke(t.onPointerDownOutside,s=>{const o=s.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&s.preventDefault()}),onFocusOutside:ke(t.onFocusOutside,s=>s.preventDefault())})}),$Y=S.forwardRef((t,e)=>{const n=bi(vl,t.__scopeDialog),r=S.useRef(!1),i=S.useRef(!1);return g.jsx(b2,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:s=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,s),s.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),s.preventDefault()),r.current=!1,i.current=!1},onInteractOutside:s=>{var l,c;(l=t.onInteractOutside)==null||l.call(t,s),s.defaultPrevented||(r.current=!0,s.detail.originalEvent.type==="pointerdown"&&(i.current=!0));const o=s.target;((c=n.triggerRef.current)==null?void 0:c.contains(o))&&s.preventDefault(),s.detail.originalEvent.type==="focusin"&&i.current&&s.preventDefault()}})}),b2=S.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:i,onCloseAutoFocus:s,...o}=t,a=bi(vl,n),l=S.useRef(null),c=dt(e,l);return s2(),g.jsxs(g.Fragment,{children:[g.jsx(A1,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:i,onUnmountAutoFocus:s,children:g.jsx(Dh,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":j1(a.open),...o,ref:c,onDismiss:()=>a.onOpenChange(!1)})}),g.jsxs(g.Fragment,{children:[g.jsx(zY,{titleId:a.titleId}),g.jsx(HY,{contentRef:l,descriptionId:a.descriptionId})]})]})}),M1="DialogTitle",S2=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bi(M1,n);return g.jsx(Ve.h2,{id:i.titleId,...r,ref:e})});S2.displayName=M1;var E2="DialogDescription",C2=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bi(E2,n);return g.jsx(Ve.p,{id:i.descriptionId,...r,ref:e})});C2.displayName=E2;var T2="DialogClose",P2=S.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,i=bi(T2,n);return g.jsx(Ve.button,{type:"button",...r,ref:e,onClick:ke(t.onClick,()=>i.onOpenChange(!1))})});P2.displayName=T2;function j1(t){return t?"open":"closed"}var I2="DialogTitleWarning",[SJ,k2]=O4(I2,{contentName:vl,titleName:M1,docsSlug:"dialog"}),zY=({titleId:t})=>{const e=k2(I2),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return S.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},WY="DialogDescriptionWarning",HY=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${k2(WY).contentName}}.`;return S.useEffect(()=>{var s;const i=(s=t.current)==null?void 0:s.getAttribute("aria-describedby");e&&i&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},KY=g2,GY=_2,R2=w2,A2=x2,N2=S2,O2=C2,qY=P2;const Rp=KY,YY=GY,D2=S.forwardRef(({className:t,...e},n)=>g.jsx(R2,{ref:n,className:De("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));D2.displayName=R2.displayName;const Md=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(YY,{children:[g.jsx(D2,{}),g.jsxs(A2,{ref:r,className:De("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,g.jsxs(qY,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-accent data-[state=open]:text-muted-foreground",children:[g.jsx(wR,{className:"h-4 w-4"}),g.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Md.displayName=A2.displayName;const jd=({className:t,...e})=>g.jsx("div",{className:De("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});jd.displayName="DialogHeader";const Ap=({className:t,...e})=>g.jsx("div",{className:De("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Ap.displayName="DialogFooter";const Ld=S.forwardRef(({className:t,...e},n)=>g.jsx(N2,{ref:n,className:De("text-lg font-semibold leading-none tracking-tight",t),...e}));Ld.displayName=N2.displayName;const Np=S.forwardRef(({className:t,...e},n)=>g.jsx(O2,{ref:n,className:De("text-sm text-muted-foreground",t),...e}));Np.displayName=O2.displayName;var QY=S.createContext(void 0);function L1(t){const e=S.useContext(QY);return t||e||"ltr"}var Pv="rovingFocusGroup.onEntryFocus",XY={bubbles:!1,cancelable:!0},Qg="RovingFocusGroup",[x0,M2,JY]=Nw(Qg),[ZY,j2]=Ji(Qg,[JY]),[eQ,tQ]=ZY(Qg),L2=S.forwardRef((t,e)=>g.jsx(x0.Provider,{scope:t.__scopeRovingFocusGroup,children:g.jsx(x0.Slot,{scope:t.__scopeRovingFocusGroup,children:g.jsx(nQ,{...t,ref:e})})}));L2.displayName=Qg;var nQ=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:s,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:c,preventScrollOnEntryFocus:h=!1,...p}=t,m=S.useRef(null),w=dt(e,m),T=L1(s),[_=null,I]=dl({prop:o,defaultProp:a,onChange:l}),[b,E]=S.useState(!1),k=nr(c),M=M2(n),U=S.useRef(!1),[H,N]=S.useState(0);return S.useEffect(()=>{const R=m.current;if(R)return R.addEventListener(Pv,k),()=>R.removeEventListener(Pv,k)},[k]),g.jsx(eQ,{scope:n,orientation:r,dir:T,loop:i,currentTabStopId:_,onItemFocus:S.useCallback(R=>I(R),[I]),onItemShiftTab:S.useCallback(()=>E(!0),[]),onFocusableItemAdd:S.useCallback(()=>N(R=>R+1),[]),onFocusableItemRemove:S.useCallback(()=>N(R=>R-1),[]),children:g.jsx(Ve.div,{tabIndex:b||H===0?-1:0,"data-orientation":r,...p,ref:w,style:{outline:"none",...t.style},onMouseDown:ke(t.onMouseDown,()=>{U.current=!0}),onFocus:ke(t.onFocus,R=>{const j=!U.current;if(R.target===R.currentTarget&&j&&!b){const D=new CustomEvent(Pv,XY);if(R.currentTarget.dispatchEvent(D),!D.defaultPrevented){const B=M().filter(xe=>xe.focusable),L=B.find(xe=>xe.active),F=B.find(xe=>xe.id===_),Ce=[L,F,...B].filter(Boolean).map(xe=>xe.ref.current);U2(Ce,h)}}U.current=!1}),onBlur:ke(t.onBlur,()=>E(!1))})})}),F2="RovingFocusGroupItem",V2=S.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:s,...o}=t,a=tl(),l=s||a,c=tQ(F2,n),h=c.currentTabStopId===l,p=M2(n),{onFocusableItemAdd:m,onFocusableItemRemove:w}=c;return S.useEffect(()=>{if(r)return m(),()=>w()},[r,m,w]),g.jsx(x0.ItemSlot,{scope:n,id:l,focusable:r,active:i,children:g.jsx(Ve.span,{tabIndex:h?0:-1,"data-orientation":c.orientation,...o,ref:e,onMouseDown:ke(t.onMouseDown,T=>{r?c.onItemFocus(l):T.preventDefault()}),onFocus:ke(t.onFocus,()=>c.onItemFocus(l)),onKeyDown:ke(t.onKeyDown,T=>{if(T.key==="Tab"&&T.shiftKey){c.onItemShiftTab();return}if(T.target!==T.currentTarget)return;const _=sQ(T,c.orientation,c.dir);if(_!==void 0){if(T.metaKey||T.ctrlKey||T.altKey||T.shiftKey)return;T.preventDefault();let b=p().filter(E=>E.focusable).map(E=>E.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const E=b.indexOf(T.currentTarget);b=c.loop?oQ(b,E+1):b.slice(E+1)}setTimeout(()=>U2(b))}})})})});V2.displayName=F2;var rQ={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function iQ(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function sQ(t,e,n){const r=iQ(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return rQ[r]}function U2(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function oQ(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var aQ=L2,lQ=V2;function F1(t){const e=S.useRef({value:t,previous:t});return S.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var V1="Radio",[cQ,B2]=Ji(V1),[uQ,dQ]=cQ(V1),$2=S.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:s,disabled:o,value:a="on",onCheck:l,form:c,...h}=t,[p,m]=S.useState(null),w=dt(e,I=>m(I)),T=S.useRef(!1),_=p?c||!!p.closest("form"):!0;return g.jsxs(uQ,{scope:n,checked:i,disabled:o,children:[g.jsx(Ve.button,{type:"button",role:"radio","aria-checked":i,"data-state":H2(i),"data-disabled":o?"":void 0,disabled:o,value:a,...h,ref:w,onClick:ke(t.onClick,I=>{i||l==null||l(),_&&(T.current=I.isPropagationStopped(),T.current||I.stopPropagation())})}),_&&g.jsx(hQ,{control:p,bubbles:!T.current,name:r,value:a,checked:i,required:s,disabled:o,form:c,style:{transform:"translateX(-100%)"}})]})});$2.displayName=V1;var z2="RadioIndicator",W2=S.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,s=dQ(z2,n);return g.jsx(la,{present:r||s.checked,children:g.jsx(Ve.span,{"data-state":H2(s.checked),"data-disabled":s.disabled?"":void 0,...i,ref:e})})});W2.displayName=z2;var hQ=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,s=S.useRef(null),o=F1(n),a=Hw(e);return S.useEffect(()=>{const l=s.current,c=window.HTMLInputElement.prototype,p=Object.getOwnPropertyDescriptor(c,"checked").set;if(o!==n&&p){const m=new Event("click",{bubbles:r});p.call(l,n),l.dispatchEvent(m)}},[o,n,r]),g.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:s,style:{...t.style,...a,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function H2(t){return t?"checked":"unchecked"}var fQ=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],U1="RadioGroup",[pQ,EJ]=Ji(U1,[j2,B2]),K2=j2(),G2=B2(),[mQ,gQ]=pQ(U1),q2=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:s,required:o=!1,disabled:a=!1,orientation:l,dir:c,loop:h=!0,onValueChange:p,...m}=t,w=K2(n),T=L1(c),[_,I]=dl({prop:s,defaultProp:i,onChange:p});return g.jsx(mQ,{scope:n,name:r,required:o,disabled:a,value:_,onValueChange:I,children:g.jsx(aQ,{asChild:!0,...w,orientation:l,dir:T,loop:h,children:g.jsx(Ve.div,{role:"radiogroup","aria-required":o,"aria-orientation":l,"data-disabled":a?"":void 0,dir:T,...m,ref:e})})})});q2.displayName=U1;var Y2="RadioGroupItem",Q2=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,s=gQ(Y2,n),o=s.disabled||r,a=K2(n),l=G2(n),c=S.useRef(null),h=dt(e,c),p=s.value===i.value,m=S.useRef(!1);return S.useEffect(()=>{const w=_=>{fQ.includes(_.key)&&(m.current=!0)},T=()=>m.current=!1;return document.addEventListener("keydown",w),document.addEventListener("keyup",T),()=>{document.removeEventListener("keydown",w),document.removeEventListener("keyup",T)}},[]),g.jsx(lQ,{asChild:!0,...a,focusable:!o,active:p,children:g.jsx($2,{disabled:o,required:s.required,checked:p,...l,...i,name:s.name,ref:h,onCheck:()=>s.onValueChange(i.value),onKeyDown:ke(w=>{w.key==="Enter"&&w.preventDefault()}),onFocus:ke(i.onFocus,()=>{var w;m.current&&((w=c.current)==null||w.click())})})})});Q2.displayName=Y2;var yQ="RadioGroupIndicator",X2=S.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=G2(n);return g.jsx(W2,{...i,...r,ref:e})});X2.displayName=yQ;var J2=q2,Z2=Q2,vQ=X2;const b0=S.forwardRef(({className:t,...e},n)=>g.jsx(J2,{className:De("grid gap-2",t),...e,ref:n}));b0.displayName=J2.displayName;const po=S.forwardRef(({className:t,...e},n)=>g.jsx(Z2,{ref:n,className:De("aspect-square h-4 w-4 rounded-full border border-primary text-primary ring-offset-background focus:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:g.jsx(vQ,{className:"flex items-center justify-center",children:g.jsx(P3,{className:"h-2.5 w-2.5 fill-current text-current"})})}));po.displayName=Z2.displayName;var B1="Checkbox",[_Q,CJ]=Ji(B1),[wQ,xQ]=_Q(B1),eM=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:s,required:o,disabled:a,value:l="on",onCheckedChange:c,form:h,...p}=t,[m,w]=S.useState(null),T=dt(e,M=>w(M)),_=S.useRef(!1),I=m?h||!!m.closest("form"):!0,[b=!1,E]=dl({prop:i,defaultProp:s,onChange:c}),k=S.useRef(b);return S.useEffect(()=>{const M=m==null?void 0:m.form;if(M){const U=()=>E(k.current);return M.addEventListener("reset",U),()=>M.removeEventListener("reset",U)}},[m,E]),g.jsxs(wQ,{scope:n,state:b,disabled:a,children:[g.jsx(Ve.button,{type:"button",role:"checkbox","aria-checked":Ho(b)?"mixed":b,"aria-required":o,"data-state":rM(b),"data-disabled":a?"":void 0,disabled:a,value:l,...p,ref:T,onKeyDown:ke(t.onKeyDown,M=>{M.key==="Enter"&&M.preventDefault()}),onClick:ke(t.onClick,M=>{E(U=>Ho(U)?!0:!U),I&&(_.current=M.isPropagationStopped(),_.current||M.stopPropagation())})}),I&&g.jsx(bQ,{control:m,bubbles:!_.current,name:r,value:l,checked:b,required:o,disabled:a,form:h,style:{transform:"translateX(-100%)"},defaultChecked:Ho(s)?!1:s})]})});eM.displayName=B1;var tM="CheckboxIndicator",nM=S.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,s=xQ(tM,n);return g.jsx(la,{present:r||Ho(s.state)||s.state===!0,children:g.jsx(Ve.span,{"data-state":rM(s.state),"data-disabled":s.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});nM.displayName=tM;var bQ=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...s}=t,o=S.useRef(null),a=F1(n),l=Hw(e);S.useEffect(()=>{const h=o.current,p=window.HTMLInputElement.prototype,w=Object.getOwnPropertyDescriptor(p,"checked").set;if(a!==n&&w){const T=new Event("click",{bubbles:r});h.indeterminate=Ho(n),w.call(h,Ho(n)?!1:n),h.dispatchEvent(T)}},[a,n,r]);const c=S.useRef(Ho(n)?!1:n);return g.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??c.current,...s,tabIndex:-1,ref:o,style:{...t.style,...l,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Ho(t){return t==="indeterminate"}function rM(t){return Ho(t)?"indeterminate":t?"checked":"unchecked"}var iM=eM,SQ=nM;const S0=S.forwardRef(({className:t,...e},n)=>g.jsx(iM,{ref:n,className:De("peer h-4 w-4 shrink-0 rounded-sm border border-primary ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground",t),...e,children:g.jsx(SQ,{className:De("flex items-center justify-center text-current"),children:g.jsx(pR,{className:"h-4 w-4"})})}));S0.displayName=iM.displayName;var EQ="Label",sM=S.forwardRef((t,e)=>g.jsx(Ve.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));sM.displayName=EQ;var oM=sM;const CQ=gg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Rt=S.forwardRef(({className:t,...e},n)=>g.jsx(oM,{ref:n,className:De(CQ(),t),...e}));Rt.displayName=oM.displayName;function TQ({item:t,open:e,onClose:n}){const r=hn(p=>p.addToOrder),[i,s]=S.useState({sugarLevel:"regular",size:"medium",addOns:{extraGinger:!1,extraElaichi:!1}}),[o,a]=S.useState(1);if(S.useEffect(()=>{e&&t&&(s({sugarLevel:"regular",size:"medium",addOns:{extraGinger:!1,extraElaichi:!1}}),a(1))},[e,t]),!t)return null;const l=()=>{let p=t.price;return i.size==="large"&&(p+=10),i.addOns.extraGinger&&(p+=5),i.addOns.extraElaichi&&(p+=3),p*o},c=()=>{r(t,i,o),n()},h=l();return g.jsx(Rp,{open:e,onOpenChange:n,children:g.jsxs(Md,{className:De("sm:max-w-[500px] p-0 gap-0","data-[state=open]:slide-in-from-bottom data-[state=closed]:slide-out-to-bottom","sm:data-[state=open]:slide-in-from-bottom-0 sm:data-[state=closed]:slide-out-to-bottom-0"),"data-testid":"modal-modifiers",children:[g.jsxs(jd,{className:"p-6 pb-4",children:[g.jsx(Ld,{className:"text-2xl","data-testid":"text-modal-item-name",children:t.name}),g.jsxs("p",{className:"text-lg font-semibold text-primary","data-testid":"text-modal-base-price",children:["Base Price: ",t.price]})]}),g.jsx(fr,{}),g.jsxs("div",{className:"p-6 space-y-6 max-h-[60vh] overflow-y-auto",children:[(t.category==="hot_drinks"||t.category==="cold_drinks")&&g.jsxs(g.Fragment,{children:[g.jsxs("div",{className:"space-y-3",children:[g.jsx(Rt,{className:"text-base font-semibold",children:"Sugar Level"}),g.jsxs(b0,{value:i.sugarLevel,onValueChange:p=>s({...i,sugarLevel:p}),"data-testid":"radiogroup-sugar-level",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"no_sugar",id:"no_sugar","data-testid":"radio-no-sugar"}),g.jsx(Rt,{htmlFor:"no_sugar",className:"cursor-pointer font-normal",children:"No Sugar"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"less_sugar",id:"less_sugar","data-testid":"radio-less-sugar"}),g.jsx(Rt,{htmlFor:"less_sugar",className:"cursor-pointer font-normal",children:"Less Sugar"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"regular",id:"regular","data-testid":"radio-regular-sugar"}),g.jsx(Rt,{htmlFor:"regular",className:"cursor-pointer font-normal",children:"Regular (Default)"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"extra_sugar",id:"extra_sugar","data-testid":"radio-extra-sugar"}),g.jsx(Rt,{htmlFor:"extra_sugar",className:"cursor-pointer font-normal",children:"Extra Sugar"})]})]})]}),g.jsx(fr,{}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Rt,{className:"text-base font-semibold",children:"Size"}),g.jsxs(b0,{value:i.size,onValueChange:p=>s({...i,size:p}),"data-testid":"radiogroup-size",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"small",id:"small","data-testid":"radio-small"}),g.jsx(Rt,{htmlFor:"small",className:"cursor-pointer font-normal",children:"Small"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"medium",id:"medium","data-testid":"radio-medium"}),g.jsx(Rt,{htmlFor:"medium",className:"cursor-pointer font-normal",children:"Medium (Default)"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(po,{value:"large",id:"large","data-testid":"radio-large"}),g.jsx(Rt,{htmlFor:"large",className:"cursor-pointer font-normal",children:"Large (+10)"})]})]})]}),g.jsx(fr,{}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Rt,{className:"text-base font-semibold",children:"Add-ons"}),g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(S0,{id:"extra_ginger",checked:i.addOns.extraGinger===!0,onCheckedChange:p=>s({...i,addOns:{...i.addOns,extraGinger:!!p}}),"data-testid":"checkbox-extra-ginger"}),g.jsx(Rt,{htmlFor:"extra_ginger",className:"cursor-pointer font-normal",children:"Extra Ginger (+5)"})]}),g.jsxs("div",{className:"flex items-center space-x-2",children:[g.jsx(S0,{id:"extra_elaichi",checked:i.addOns.extraElaichi===!0,onCheckedChange:p=>s({...i,addOns:{...i.addOns,extraElaichi:!!p}}),"data-testid":"checkbox-extra-elaichi"}),g.jsx(Rt,{htmlFor:"extra_elaichi",className:"cursor-pointer font-normal",children:"Extra Elaichi (+3)"})]})]})]}),g.jsx(fr,{})]}),g.jsxs("div",{className:"space-y-3",children:[g.jsx(Rt,{className:"text-base font-semibold",children:"Quantity"}),g.jsxs("div",{className:"flex items-center gap-3",children:[g.jsx(at,{size:"icon",variant:"outline",onClick:()=>a(Math.max(1,o-1)),disabled:o<=1,"data-testid":"button-decrease-quantity",children:g.jsx(yR,{className:"h-4 w-4"})}),g.jsx("span",{className:"text-2xl font-bold w-12 text-center","data-testid":"text-quantity",children:o}),g.jsx(at,{size:"icon",variant:"outline",onClick:()=>a(o+1),"data-testid":"button-increase-quantity",children:g.jsx(jw,{className:"h-4 w-4"})})]})]})]}),g.jsx(fr,{}),g.jsxs("div",{className:"p-6 pt-4 space-y-4",children:[g.jsxs("div",{className:"flex justify-between items-center",children:[g.jsx("span",{className:"text-lg font-semibold",children:"Total Price"}),g.jsxs("span",{className:"text-2xl font-bold text-primary","data-testid":"text-modal-total",children:["",h]})]}),g.jsx(at,{className:"w-full",size:"lg",onClick:c,"data-testid":"button-add-to-order",children:"Add to Order"})]})]})})}class PQ{constructor(){this.menuRef=Cs(Ts,"menuItems")}async getAllMenuItems(){try{const e=await mC(this.menuRef);if(!e.exists())return[];const n=e.val();return Object.keys(n).map(r=>({id:r,...n[r]}))}catch(e){return console.error("Error fetching menu items:",e),[]}}async createMenuItem(e){try{const n=Cs(Ts,`menuItems/${Date.now()}`);return await Lm(n,e),n.key}catch(n){throw console.error("Error creating menu item:",n),n}}async updateMenuItem(e,n){try{const r=Cs(Ts,`menuItems/${e}`);await EO(r,n)}catch(r){throw console.error("Error updating menu item:",r),r}}async deleteMenuItem(e){try{const n=Cs(Ts,`menuItems/${e}`);await $8(n)}catch(n){throw console.error("Error deleting menu item:",n),n}}subscribeToMenuItems(e){const n=()=>{};return mC(this.menuRef).then(r=>{if(r.exists()){const i=r.val(),s=Object.keys(i).map(o=>({id:o,...i[o]}));e(s)}else e([])}),n}}const cd=new PQ,IQ=[{id:1,name:"Chai",price:20,category:"hot_drinks",image:""},{id:2,name:"Coffee",price:30,category:"hot_drinks",image:""},{id:3,name:"Cappuccino",price:45,category:"hot_drinks",image:""},{id:4,name:"Hot Chocolate",price:50,category:"hot_drinks",image:""},{id:5,name:"Green Tea",price:25,category:"hot_drinks",image:""},{id:6,name:"Masala Chai",price:25,category:"hot_drinks",image:""},{id:7,name:"Cold Coffee",price:60,category:"cold_drinks",image:""},{id:8,name:"Mango Shake",price:70,category:"cold_drinks",image:""},{id:9,name:"Lemonade",price:40,category:"cold_drinks",image:""},{id:10,name:"Iced Tea",price:45,category:"cold_drinks",image:""},{id:11,name:"Chocolate Shake",price:75,category:"cold_drinks",image:""},{id:12,name:"Fresh Juice",price:55,category:"cold_drinks",image:""},{id:13,name:"Samosa",price:15,category:"snacks",image:""},{id:14,name:"Spring Roll",price:25,category:"snacks",image:""},{id:15,name:"Vada Pav",price:20,category:"snacks",image:""},{id:16,name:"Pakora",price:30,category:"snacks",image:""},{id:17,name:"Sandwich",price:40,category:"snacks",image:""},{id:18,name:"French Fries",price:35,category:"snacks",image:""},{id:19,name:"Chai + Samosa",price:30,category:"combos",image:""},{id:20,name:"Coffee + Sandwich",price:65,category:"combos",image:""},{id:21,name:"Cold Coffee + Fries",price:90,category:"combos",image:""},{id:22,name:"Tea + Pakora",price:45,category:"combos",image:""}],kQ=[{id:"hot_drinks",label:"Hot Drinks"},{id:"cold_drinks",label:"Cold Drinks"},{id:"snacks",label:"Snacks"},{id:"combos",label:"Combos"}],RQ={no_sugar:"No Sugar",less_sugar:"Less Sugar",regular:"Regular",extra_sugar:"Extra Sugar"},AQ={small:"S",medium:"M",large:"L"};function NQ(){const[,t]=Oh(),[e,n]=S.useState("hot_drinks"),[r,i]=S.useState(null),[s,o]=S.useState(!1),[a,l]=S.useState(IQ),c=hn(L=>L.order),h=hn(L=>L.updateQuantity),p=hn(L=>L.removeItem),m=hn(L=>L.discountPercentage),w=hn(L=>L.setDiscountPercentage),T=hn(L=>L.getSubtotal),_=hn(L=>L.getDiscount),I=hn(L=>L.getGST),b=hn(L=>L.getTotal);S.useEffect(()=>{(async()=>{try{const F=await cd.getAllMenuItems();if(F.length>0){const ae=F.map(Ce=>({id:parseInt(Ce.id)||Date.now(),name:Ce.name,price:Ce.price,category:Ce.category,image:""}));l(ae)}}catch(F){console.error("Failed to load menu from Firebase, using default menu",F)}})()},[]);const E=a.filter(L=>L.category===e),k=L=>{i(L),o(!0)},M=()=>{o(!1),i(null)},U=L=>JSON.stringify(L),H=T(),N=_(),R=I(),j=b(),D=c.reduce((L,F)=>L+F.quantity,0),B=L=>{const F=parseFloat(L);isNaN(F)?L===""&&w(0):w(F)};return g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"text-pos-title",children:"Point of Sale"}),g.jsx("p",{className:"text-muted-foreground mt-1","data-testid":"text-pos-description",children:"Select items to create an order"})]}),g.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[g.jsxs("div",{className:"flex-1 lg:w-[70%]",children:[g.jsx("div",{className:"mb-6 flex gap-2 overflow-x-auto pb-2",children:kQ.map(L=>g.jsx(at,{variant:e===L.id?"default":"outline",onClick:()=>n(L.id),className:"whitespace-nowrap","data-testid":`button-category-${L.id}`,children:L.label},L.id))}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-3 gap-4",children:E.map((L,F)=>g.jsx(Dr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2,delay:F*.03},children:g.jsx(fn,{className:"hover-elevate active-elevate-2 cursor-pointer h-full",onClick:()=>k(L),"data-testid":`card-menu-item-${L.id}`,children:g.jsxs(Bn,{className:"p-4 flex flex-col items-center text-center h-full min-h-[150px] justify-between",children:[g.jsx("div",{className:"w-full h-20 bg-muted rounded-md mb-3 flex items-center justify-center",children:g.jsx(PS,{className:"h-8 w-8 text-muted-foreground"})}),g.jsxs("div",{className:"flex-1 flex flex-col justify-center",children:[g.jsx("h3",{className:"font-semibold text-base mb-1","data-testid":`text-item-name-${L.id}`,children:L.name}),g.jsxs("p",{className:"text-lg font-bold text-primary","data-testid":`text-item-price-${L.id}`,children:["",L.price]})]})]})})},L.id))})]}),g.jsx("div",{className:"lg:w-[30%]",children:g.jsx(fn,{className:"sticky top-20",children:g.jsxs("div",{className:"p-6",children:[g.jsxs("div",{className:"flex items-center justify-between mb-4",children:[g.jsx("h2",{className:"text-xl font-bold","data-testid":"text-order-summary-title",children:"Order Summary"}),g.jsxs(hr,{variant:"outline","data-testid":"badge-item-count",children:[D," items"]})]}),g.jsx(fr,{className:"mb-4"}),g.jsx("div",{className:"space-y-3 mb-6 max-h-[400px] overflow-y-auto","data-testid":"container-order-items",children:c.length===0?g.jsxs("div",{className:"text-center py-12 text-muted-foreground",children:[g.jsx(PS,{className:"h-12 w-12 mx-auto mb-3 opacity-50"}),g.jsx("p",{children:"No items in order"})]}):c.map((L,F)=>{const ae=U(L.modifiers),Ce=L.modifiers.size!=="medium"||L.modifiers.sugarLevel!=="regular"||L.modifiers.addOns.extraGinger||L.modifiers.addOns.extraElaichi;return g.jsxs("div",{className:"flex items-start gap-3 p-3 rounded-lg bg-muted/50","data-testid":`order-item-${F}`,children:[g.jsxs("div",{className:"flex-1 min-w-0",children:[g.jsx("p",{className:"font-medium text-sm truncate","data-testid":`text-order-item-name-${F}`,children:L.name}),Ce&&g.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[L.modifiers.size!=="medium"&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:AQ[L.modifiers.size]}),L.modifiers.sugarLevel!=="regular"&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:RQ[L.modifiers.sugarLevel]}),L.modifiers.addOns.extraGinger&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:"+Ginger"}),L.modifiers.addOns.extraElaichi&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:"+Elaichi"})]}),g.jsxs("p",{className:"text-xs text-muted-foreground mt-1",children:["",L.itemTotal/L.quantity,"  ",L.quantity," = ",L.itemTotal]})]}),g.jsxs("div",{className:"flex items-center gap-1",children:[g.jsx(at,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>h(L.id,ae,-1),"data-testid":`button-decrease-${F}`,children:g.jsx(yR,{className:"h-3 w-3"})}),g.jsx("span",{className:"text-sm font-semibold w-6 text-center","data-testid":`text-quantity-${F}`,children:L.quantity}),g.jsx(at,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>h(L.id,ae,1),"data-testid":`button-increase-${F}`,children:g.jsx(jw,{className:"h-3 w-3"})}),g.jsx(at,{size:"icon",variant:"outline",className:"h-7 w-7",onClick:()=>p(L.id,ae),"data-testid":`button-remove-${F}`,children:g.jsx(_R,{className:"h-3 w-3"})})]})]},`${L.id}-${ae}`)})}),g.jsx(fr,{className:"mb-4"}),g.jsxs("div",{className:"space-y-2 mb-6",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),g.jsxs("span",{className:"font-medium","data-testid":"text-subtotal",children:["",H.toFixed(2)]})]}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx("div",{className:"flex-1",children:g.jsxs("label",{className:"text-sm text-muted-foreground flex items-center gap-1",children:[g.jsx(D3,{className:"h-3 w-3"}),"Discount"]})}),g.jsxs("div",{className:"flex items-center gap-2",children:[g.jsx(vs,{type:"number",min:"0",max:"100",step:"0.1",value:m||"",onChange:L=>B(L.target.value),placeholder:"0",className:"w-16 h-8 text-sm text-right","data-testid":"input-discount-percentage"}),g.jsxs("span",{className:"text-sm font-medium w-12 text-right","data-testid":"text-discount-amount",children:["-",N.toFixed(2)]})]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"GST (5%)"}),g.jsxs("span",{className:"font-medium","data-testid":"text-gst",children:["",R.toFixed(2)]})]}),g.jsx(fr,{}),g.jsxs("div",{className:"flex justify-between text-lg font-bold",children:[g.jsx("span",{children:"Total"}),g.jsxs("span",{className:"text-primary","data-testid":"text-total",children:["",j.toFixed(2)]})]})]}),g.jsxs(at,{className:"w-full gap-2",size:"lg",disabled:c.length===0,onClick:()=>t("/payment"),"data-testid":"button-payment",children:[g.jsx(T_,{className:"h-5 w-5"}),"Proceed to Payment"]})]})})})]})]}),g.jsx(TQ,{item:r,open:s,onClose:M})]})}const E0=Qx((t,e)=>({orders:[],orderCounter:1,setOrders:n=>{t({orders:n}),e().syncOrderCounter()},syncOrderCounter:()=>{const{orders:n}=e();if(n.length>0){const r=Math.max(...n.map(i=>i.orderNumber));t({orderCounter:r+1})}},addOrder:async(n,r,i,s,o,a,l)=>{const c=e().orderCounter,h={orderNumber:c,items:n,subtotal:r,discountPercentage:i,discountAmount:s,gst:o,total:a,status:"new",timestamp:new Date().toISOString(),paymentMethod:l};try{const p=await No.saveOrderLocally(h),m={...h,id:p};t(w=>({orders:[m,...w.orders],orderCounter:w.orderCounter+1})),console.log(` Order #${c} saved (${No.getOnlineStatus()?"will sync to Firebase":"offline, queued for sync"})`)}catch(p){console.error("Error adding order:",p),t(m=>({orders:[...m.orders,{...h,id:Date.now().toString()}],orderCounter:m.orderCounter+1}))}},updateOrderStatus:async(n,r)=>{try{await No.updateOrderStatusLocally(n,r),t(i=>({orders:i.orders.map(s=>s.id===n?{...s,status:r}:s)})),console.log(` Order status updated (${No.getOnlineStatus()?"will sync to Firebase":"offline, queued for sync"})`)}catch(i){console.error("Error updating order status:",i),t(s=>({orders:s.orders.map(o=>o.id===n?{...o,status:r}:o)}))}},removeOrder:n=>{t(r=>({orders:r.orders.filter(i=>i.id!==n)}))}}));function gn(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function OQ(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const rp=43200,YT=1440;let DQ={};function MQ(){return DQ}function QT(t){const e=gn(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function Op(t,e){const n=gn(t),r=gn(e),i=n.getTime()-r.getTime();return i<0?-1:i>0?1:i}function jQ(t){return OQ(t,Date.now())}function LQ(t,e){const n=gn(t),r=gn(e),i=n.getFullYear()-r.getFullYear(),s=n.getMonth()-r.getMonth();return i*12+s}function FQ(t){return e=>{const r=(t?Math[t]:Math.trunc)(e);return r===0?0:r}}function VQ(t,e){return+gn(t)-+gn(e)}function UQ(t){const e=gn(t);return e.setHours(23,59,59,999),e}function BQ(t){const e=gn(t),n=e.getMonth();return e.setFullYear(e.getFullYear(),n+1,0),e.setHours(23,59,59,999),e}function $Q(t){const e=gn(t);return+UQ(e)==+BQ(e)}function zQ(t,e){const n=gn(t),r=gn(e),i=Op(n,r),s=Math.abs(LQ(n,r));let o;if(s<1)o=0;else{n.getMonth()===1&&n.getDate()>27&&n.setDate(30),n.setMonth(n.getMonth()-i*s);let a=Op(n,r)===-i;$Q(gn(t))&&s===1&&Op(t,r)===1&&(a=!1),o=i*(s-Number(a))}return o===0?0:o}function WQ(t,e,n){const r=VQ(t,e)/1e3;return FQ(n==null?void 0:n.roundingMethod)(r)}const HQ={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},KQ=(t,e,n)=>{let r;const i=HQ[t];return typeof i=="string"?r=i:e===1?r=i.one:r=i.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Iv(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const GQ={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},qQ={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},YQ={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},QQ={date:Iv({formats:GQ,defaultWidth:"full"}),time:Iv({formats:qQ,defaultWidth:"full"}),dateTime:Iv({formats:YQ,defaultWidth:"full"})},XQ={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},JQ=(t,e,n,r)=>XQ[t];function Zu(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let i;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const ZQ={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},eX={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},tX={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nX={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},iX={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},sX=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},oX={ordinalNumber:sX,era:Zu({values:ZQ,defaultWidth:"wide"}),quarter:Zu({values:eX,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Zu({values:tX,defaultWidth:"wide"}),day:Zu({values:nX,defaultWidth:"wide"}),dayPeriod:Zu({values:rX,defaultWidth:"wide",formattingValues:iX,defaultFormattingWidth:"wide"})};function ed(t){return(e,n={})=>{const r=n.width,i=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?lX(a,p=>p.test(o)):aX(a,p=>p.test(o));let c;c=t.valueCallback?t.valueCallback(l):l,c=n.valueCallback?n.valueCallback(c):c;const h=e.slice(o.length);return{value:c,rest:h}}}function aX(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function lX(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function cX(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const i=r[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const uX=/^(\d+)(th|st|nd|rd)?/i,dX=/\d+/i,hX={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},fX={any:[/^b/i,/^(a|c)/i]},pX={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},mX={any:[/1/i,/2/i,/3/i,/4/i]},gX={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yX={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},vX={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},_X={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},wX={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},xX={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bX={ordinalNumber:cX({matchPattern:uX,parsePattern:dX,valueCallback:t=>parseInt(t,10)}),era:ed({matchPatterns:hX,defaultMatchWidth:"wide",parsePatterns:fX,defaultParseWidth:"any"}),quarter:ed({matchPatterns:pX,defaultMatchWidth:"wide",parsePatterns:mX,defaultParseWidth:"any",valueCallback:t=>t+1}),month:ed({matchPatterns:gX,defaultMatchWidth:"wide",parsePatterns:yX,defaultParseWidth:"any"}),day:ed({matchPatterns:vX,defaultMatchWidth:"wide",parsePatterns:_X,defaultParseWidth:"any"}),dayPeriod:ed({matchPatterns:wX,defaultMatchWidth:"any",parsePatterns:xX,defaultParseWidth:"any"})},SX={code:"en-US",formatDistance:KQ,formatLong:QQ,formatRelative:JQ,localize:oX,match:bX,options:{weekStartsOn:0,firstWeekContainsDate:1}};function EX(t,e,n){const r=MQ(),i=(n==null?void 0:n.locale)??r.locale??SX,s=2520,o=Op(t,e);if(isNaN(o))throw new RangeError("Invalid time value");const a=Object.assign({},n,{addSuffix:n==null?void 0:n.addSuffix,comparison:o});let l,c;o>0?(l=gn(e),c=gn(t)):(l=gn(t),c=gn(e));const h=WQ(c,l),p=(QT(c)-QT(l))/1e3,m=Math.round((h-p)/60);let w;if(m<2)return n!=null&&n.includeSeconds?h<5?i.formatDistance("lessThanXSeconds",5,a):h<10?i.formatDistance("lessThanXSeconds",10,a):h<20?i.formatDistance("lessThanXSeconds",20,a):h<40?i.formatDistance("halfAMinute",0,a):h<60?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",1,a):m===0?i.formatDistance("lessThanXMinutes",1,a):i.formatDistance("xMinutes",m,a);if(m<45)return i.formatDistance("xMinutes",m,a);if(m<90)return i.formatDistance("aboutXHours",1,a);if(m<YT){const T=Math.round(m/60);return i.formatDistance("aboutXHours",T,a)}else{if(m<s)return i.formatDistance("xDays",1,a);if(m<rp){const T=Math.round(m/YT);return i.formatDistance("xDays",T,a)}else if(m<rp*2)return w=Math.round(m/rp),i.formatDistance("aboutXMonths",w,a)}if(w=zQ(c,l),w<12){const T=Math.round(m/rp);return i.formatDistance("xMonths",T,a)}else{const T=w%12,_=Math.trunc(w/12);return T<3?i.formatDistance("aboutXYears",_,a):T<9?i.formatDistance("overXYears",_,a):i.formatDistance("almostXYears",_+1,a)}}function CX(t,e){return EX(t,jQ(t),e)}function TX(t,e,n){var r,i;typeof t=="function"?(r=e||[],i=n):(r=[],i=e);var s=pn.useRef({hasResult:!1,result:i,error:null}),o=pn.useReducer(function(c){return c+1},0);o[0];var a=o[1],l=pn.useMemo(function(){var c=typeof t=="function"?t():t;if(!c||typeof c.subscribe!="function")throw t===c?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!s.current.hasResult&&typeof window<"u"&&(typeof c.hasValue!="function"||c.hasValue()))if(typeof c.getValue=="function")s.current.result=c.getValue(),s.current.hasResult=!0;else{var h=c.subscribe(function(p){s.current.result=p,s.current.hasResult=!0});typeof h=="function"?h():h.unsubscribe()}return c},r);if(pn.useDebugValue(s.current.result),pn.useEffect(function(){var c=l.subscribe(function(h){var p=s.current;(p.error!==null||p.result!==h)&&(p.error=null,p.result=h,p.hasResult=!0,a())},function(h){var p=s.current;p.error!==h&&(p.error=h,a())});return typeof c=="function"?c:c.unsubscribe.bind(c)},r),s.current.error)throw s.current.error;return s.current.result}function PX(t,e,n){return TX(function(){return vh.liveQuery(t)},e||[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(t){var e=vh.DexieYProvider;e&&e.release(t)});const IX={no_sugar:"No Sugar",less_sugar:"Less Sugar",regular:"Regular",extra_sugar:"Extra Sugar"},kX={small:"S",medium:"M",large:"L"};function RX(){const t=E0(l=>l.setOrders),e=E0(l=>l.updateOrderStatus),n=PX(()=>Yn.orders.orderBy("timestamp").reverse().toArray(),[]);S.useEffect(()=>{const l=sd.subscribeToOrders(async c=>{await No.syncFromFirebase(c),t(c)});return No.getAllOrdersFromLocal().then(c=>{c.length>0&&t(c)}),()=>{l()}},[t]);const r=l=>{switch(l){case"new":return"bg-yellow-500/20 border-yellow-500/30";case"preparing":return"bg-blue-500/20 border-blue-500/30";case"ready":return"bg-green-500/20 border-green-500/30";default:return"bg-muted"}},i=l=>{switch(l){case"preparing":return"bg-blue-500 hover:bg-blue-600";case"ready":return"bg-green-500 hover:bg-green-600";default:return""}},s=l=>{e(l,"preparing")},o=l=>{e(l,"ready")},a=l=>{try{return CX(new Date(l),{addSuffix:!0})}catch{return"Just now"}};return g.jsx("div",{className:"min-h-screen bg-background",children:g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"text-kitchen-title",children:"Kitchen Display"}),g.jsx("p",{className:"text-muted-foreground mt-1","data-testid":"text-kitchen-description",children:"Manage incoming orders and track preparation"})]}),!n||n.length===0?g.jsx(fn,{className:"py-12",children:g.jsxs(Bn,{className:"text-center",children:[g.jsx(O3,{className:"h-16 w-16 mx-auto mb-4 text-muted-foreground opacity-50"}),g.jsx("p",{className:"text-lg font-medium mb-2",children:"No orders yet"}),g.jsx("p",{className:"text-muted-foreground",children:"Orders from the billing screen will appear here"})]})}):g.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:n==null?void 0:n.map((l,c)=>g.jsx(Dr.div,{initial:{opacity:0,scale:.9},animate:{opacity:1,scale:1},transition:{duration:.2,delay:c*.05},children:g.jsxs(fn,{className:`h-full ${r(l.status)}`,"data-testid":`card-kitchen-order-${c}`,children:[g.jsx(su,{className:"pb-3",children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsxs("h3",{className:"text-lg font-bold","data-testid":`text-order-number-${c}`,children:["Order #",l.orderNumber]}),g.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[g.jsx(om,{className:"h-3 w-3 text-muted-foreground"}),g.jsx("span",{className:"text-xs text-muted-foreground","data-testid":`text-order-time-${c}`,children:a(l.timestamp)})]})]}),g.jsx(hr,{variant:"outline",className:l.status==="new"?"bg-yellow-500 text-white border-yellow-600":l.status==="preparing"?"bg-blue-500 text-white border-blue-600":"bg-green-500 text-white border-green-600","data-testid":`badge-order-status-${c}`,children:l.status==="new"?"New":l.status==="preparing"?"Preparing":"Ready"})]})}),g.jsxs(Bn,{className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx("h4",{className:"text-sm font-semibold text-muted-foreground",children:"Items:"}),l.items.map((h,p)=>{const m=h.modifiers.size!=="medium"||h.modifiers.sugarLevel!=="regular"||h.modifiers.addOns.extraGinger||h.modifiers.addOns.extraElaichi;return g.jsxs("div",{className:"p-2 rounded-md bg-background/50","data-testid":`order-item-${c}-${p}`,children:[g.jsxs("div",{className:"flex justify-between items-start",children:[g.jsx("span",{className:"font-medium text-sm","data-testid":`text-item-name-${c}-${p}`,children:h.name}),g.jsxs("span",{className:"text-sm font-semibold","data-testid":`text-item-quantity-${c}-${p}`,children:["",h.quantity]})]}),m&&g.jsxs("div",{className:"flex flex-wrap gap-1 mt-1",children:[h.modifiers.size!=="medium"&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:kX[h.modifiers.size]}),h.modifiers.sugarLevel!=="regular"&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:IX[h.modifiers.sugarLevel]}),h.modifiers.addOns.extraGinger&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:"+Ginger"}),h.modifiers.addOns.extraElaichi&&g.jsx(hr,{variant:"secondary",className:"text-xs px-1 py-0 h-auto",children:"+Elaichi"})]})]},`${h.id}-${p}`)})]}),g.jsx(fr,{className:"my-3"}),g.jsxs("div",{className:"space-y-1 text-sm",children:[l.subtotal!==void 0&&g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),g.jsxs("span",{className:"font-medium",children:["",l.subtotal.toFixed(2)]})]}),l.discountPercentage!==void 0&&l.discountPercentage>0&&g.jsxs("div",{className:"flex justify-between",children:[g.jsxs("span",{className:"text-muted-foreground",children:["Discount (",l.discountPercentage,"%)"]}),g.jsxs("span",{className:"font-medium text-green-600","data-testid":`text-discount-${c}`,children:["-",(l.discountAmount||0).toFixed(2)]})]}),l.gst!==void 0&&g.jsxs("div",{className:"flex justify-between",children:[g.jsx("span",{className:"text-muted-foreground",children:"GST (5%)"}),g.jsxs("span",{className:"font-medium",children:["",l.gst.toFixed(2)]})]}),(l.subtotal!==void 0||l.gst!==void 0)&&g.jsx(fr,{className:"my-2"}),g.jsxs("div",{className:"flex justify-between font-bold",children:[g.jsx("span",{children:"Total"}),g.jsxs("span",{className:"text-primary","data-testid":`text-order-total-${c}`,children:["",l.total.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-xs text-muted-foreground mt-1",children:[g.jsx("span",{children:"Payment"}),g.jsx("span",{className:"capitalize",children:l.paymentMethod})]})]}),g.jsxs("div",{className:"pt-2 space-y-2",children:[l.status==="new"&&g.jsx(at,{className:"w-full",onClick:()=>s(l.id),"data-testid":`button-start-preparing-${c}`,children:"Start Preparing"}),l.status==="preparing"&&g.jsx(at,{className:`w-full ${i("preparing")}`,onClick:()=>o(l.id),"data-testid":`button-mark-ready-${c}`,children:"Mark Ready"}),l.status==="ready"&&g.jsx("div",{className:"text-center py-2",children:g.jsx(hr,{className:`${i("ready")} text-white`,children:"Ready for Pickup"})})]})]})]})},l.id))})]})})}const AX=[50,100,200,500];function NX(){const[,t]=Oh(),[e,n]=S.useState(null),[r,i]=S.useState(0),[s,o]=S.useState(!1),a=hn(b=>b.getSubtotal()),l=hn(b=>b.getDiscount()),c=hn(b=>b.discountPercentage),h=hn(b=>b.getGST()),p=hn(b=>b.getTotal()),m=hn(b=>b.order),w=hn(b=>b.clearOrder),T=E0(b=>b.addOrder),_=r>0?Math.max(0,r-p):0,I=()=>{if(!e)return;if(e==="cash"&&r<p){alert("Insufficient cash amount");return}const b={id:Date.now(),items:m,total:p,paymentMethod:e,timestamp:new Date().toISOString()},E=JSON.parse(localStorage.getItem("completedOrders")||"[]");E.push(b),localStorage.setItem("completedOrders",JSON.stringify(E)),T(m,a,c,l,h,p,e),o(!0),setTimeout(()=>{w(),t("/billing")},2e3)};return p===0?g.jsx("div",{className:"min-h-screen bg-background flex items-center justify-center",children:g.jsx(fn,{className:"max-w-md w-full mx-4",children:g.jsxs(Bn,{className:"pt-6 text-center",children:[g.jsx("p",{className:"text-muted-foreground mb-4",children:"No items in order"}),g.jsx(at,{onClick:()=>t("/billing"),"data-testid":"button-back-to-billing",children:"Back to Billing"})]})})}):g.jsxs("div",{className:"min-h-screen bg-background",children:[g.jsx(vH,{children:s&&g.jsx(Dr.div,{initial:{opacity:0},animate:{opacity:1},exit:{opacity:0},className:"fixed inset-0 z-50 flex items-center justify-center bg-background/80 backdrop-blur-sm",children:g.jsxs(Dr.div,{initial:{scale:0},animate:{scale:1},transition:{type:"spring",duration:.5},className:"text-center","data-testid":"success-animation",children:[g.jsx(T3,{className:"h-24 w-24 text-green-500 mx-auto mb-4"}),g.jsx("h2",{className:"text-3xl font-bold",children:"Order Completed!"}),g.jsx("p",{className:"text-muted-foreground mt-2",children:"Redirecting..."})]})})}),g.jsxs("div",{className:"container mx-auto px-4 sm:px-6 lg:px-8 py-6 max-w-4xl",children:[g.jsxs("div",{className:"mb-6",children:[g.jsx("h1",{className:"text-3xl font-bold tracking-tight","data-testid":"text-payment-title",children:"Payment"}),g.jsx("p",{className:"text-muted-foreground mt-1",children:"Complete your order"})]}),g.jsxs("div",{className:"space-y-6",children:[g.jsx(fn,{children:g.jsx(Bn,{className:"pt-6",children:g.jsxs("div",{className:"space-y-3",children:[g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),g.jsxs("span",{className:"font-medium",children:["",a.toFixed(2)]})]}),l>0&&g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsxs("span",{className:"text-muted-foreground",children:["Discount (",c,"%)"]}),g.jsxs("span",{className:"font-medium text-green-600","data-testid":"text-discount-amount",children:["-",l.toFixed(2)]})]}),g.jsxs("div",{className:"flex justify-between text-sm",children:[g.jsx("span",{className:"text-muted-foreground",children:"GST (5%)"}),g.jsxs("span",{className:"font-medium",children:["",h.toFixed(2)]})]}),g.jsx(fr,{}),g.jsxs("div",{className:"text-center pt-2",children:[g.jsx("p",{className:"text-muted-foreground mb-2",children:"Total Amount"}),g.jsxs("p",{className:"text-5xl font-bold text-primary","data-testid":"text-total-amount",children:["",p.toFixed(2)]})]})]})})}),g.jsxs("div",{children:[g.jsx("h2",{className:"text-xl font-semibold mb-4",children:"Select Payment Method"}),g.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[g.jsx(fn,{className:`cursor-pointer hover-elevate active-elevate-2 ${e==="cash"?"ring-2 ring-primary":""}`,onClick:()=>{n("cash"),i(0)},"data-testid":"button-payment-cash",children:g.jsxs(Bn,{className:"pt-6 text-center",children:[g.jsx(U3,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),g.jsx("p",{className:"font-semibold",children:"Cash"})]})}),g.jsx(fn,{className:`cursor-pointer hover-elevate active-elevate-2 ${e==="upi"?"ring-2 ring-primary":""}`,onClick:()=>n("upi"),"data-testid":"button-payment-upi",children:g.jsxs(Bn,{className:"pt-6 text-center",children:[g.jsx(L3,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),g.jsx("p",{className:"font-semibold",children:"UPI"})]})}),g.jsx(fn,{className:`cursor-pointer hover-elevate active-elevate-2 ${e==="card"?"ring-2 ring-primary":""}`,onClick:()=>n("card"),"data-testid":"button-payment-card",children:g.jsxs(Bn,{className:"pt-6 text-center",children:[g.jsx(T_,{className:"h-12 w-12 mx-auto mb-3 text-primary"}),g.jsx("p",{className:"font-semibold",children:"Card"})]})})]})]}),e==="cash"&&g.jsx(Dr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:g.jsx(fn,{children:g.jsxs(Bn,{className:"pt-6 space-y-6",children:[g.jsxs("div",{children:[g.jsx("h3",{className:"text-lg font-semibold mb-3",children:"Quick Amount"}),g.jsx("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-3",children:AX.map(b=>g.jsxs(at,{variant:"outline",size:"lg",onClick:()=>i(b),"data-testid":`button-quick-amount-${b}`,children:["",b]},b))})]}),g.jsx(fr,{}),g.jsxs("div",{className:"grid md:grid-cols-2 gap-4",children:[g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Cash Received"}),g.jsx("input",{type:"number",value:r||"",onChange:b=>i(Number(b.target.value)),className:"w-full px-4 py-2 border rounded-md bg-background",placeholder:"Enter amount","data-testid":"input-cash-amount"})]}),g.jsxs("div",{children:[g.jsx("label",{className:"text-sm font-medium mb-2 block",children:"Change to Return"}),g.jsxs("div",{className:"w-full px-4 py-2 border rounded-md bg-muted text-2xl font-bold","data-testid":"text-change-amount",children:["",_.toFixed(2)]})]})]})]})})}),e==="upi"&&g.jsx(Dr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:g.jsx(fn,{children:g.jsx(Bn,{className:"pt-6",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx("div",{className:"w-48 h-48 mx-auto bg-muted rounded-lg flex items-center justify-center",children:g.jsx(M3,{className:"h-32 w-32 text-muted-foreground","data-testid":"icon-qr-code"})}),g.jsx("p",{className:"text-lg font-semibold","data-testid":"text-scan-to-pay",children:"Scan to Pay"}),g.jsx("p",{className:"text-muted-foreground",children:"Use any UPI app to scan and complete payment"})]})})})}),e==="card"&&g.jsx(Dr.div,{initial:{opacity:0,y:20},animate:{opacity:1,y:0},transition:{duration:.3},children:g.jsx(fn,{children:g.jsx(Bn,{className:"pt-6",children:g.jsxs("div",{className:"text-center space-y-4",children:[g.jsx(T_,{className:"h-24 w-24 mx-auto text-muted-foreground"}),g.jsx("p",{className:"text-lg font-semibold",children:"Card Payment"}),g.jsx("p",{className:"text-muted-foreground",children:"Insert or tap your card on the payment terminal"})]})})})}),g.jsx(at,{className:"w-full",size:"lg",onClick:I,disabled:!e||e==="cash"&&r<p,"data-testid":"button-complete-order",children:"Complete Order"})]})]})]})}function OX(){const[t,e]=S.useState(""),[,n]=Oh(),r=Fm(o=>o.login),{toast:i}=Aw(),s=o=>{o.preventDefault(),r(t)?(i({title:"Login successful",description:"Welcome to the admin panel"}),n("/admin")):(i({title:"Login failed",description:"Invalid PIN. Please try again.",variant:"destructive"}),e(""))};return g.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/10 to-secondary/10 p-4",children:g.jsxs(fn,{className:"w-full max-w-md",children:[g.jsxs(su,{className:"space-y-1 text-center",children:[g.jsx("div",{className:"flex justify-center mb-4",children:g.jsx("div",{className:"p-3 bg-primary/10 rounded-full",children:g.jsx(A3,{className:"h-8 w-8 text-primary"})})}),g.jsx(_h,{className:"text-2xl",children:"Admin Login"}),g.jsx($g,{children:"Enter your PIN to access the admin panel"})]}),g.jsx(Bn,{children:g.jsxs("form",{onSubmit:s,className:"space-y-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"pin",children:"PIN"}),g.jsx(vs,{id:"pin",type:"password",placeholder:"Enter your PIN",value:t,onChange:o=>e(o.target.value),autoFocus:!0,"data-testid":"input-admin-pin"})]}),g.jsx(at,{type:"submit",className:"w-full","data-testid":"button-login",children:"Login"})]})})]})})}function XT(t,[e,n]){return Math.min(n,Math.max(e,t))}var DX=[" ","Enter","ArrowUp","ArrowDown"],MX=[" ","Enter"],nf="Select",[Xg,Jg,jX]=Nw(nf),[Su,TJ]=Ji(nf,[jX,wg]),Zg=wg(),[LX,ha]=Su(nf),[FX,VX]=Su(nf),aM=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:i,onOpenChange:s,value:o,defaultValue:a,onValueChange:l,dir:c,name:h,autoComplete:p,disabled:m,required:w,form:T}=t,_=Zg(e),[I,b]=S.useState(null),[E,k]=S.useState(null),[M,U]=S.useState(!1),H=L1(c),[N=!1,R]=dl({prop:r,defaultProp:i,onChange:s}),[j,D]=dl({prop:o,defaultProp:a,onChange:l}),B=S.useRef(null),L=I?T||!!I.closest("form"):!0,[F,ae]=S.useState(new Set),Ce=Array.from(F).map(xe=>xe.props.value).join(";");return g.jsx(N5,{..._,children:g.jsxs(LX,{required:w,scope:e,trigger:I,onTriggerChange:b,valueNode:E,onValueNodeChange:k,valueNodeHasChildren:M,onValueNodeHasChildrenChange:U,contentId:tl(),value:j,onValueChange:D,open:N,onOpenChange:R,dir:H,triggerPointerDownPosRef:B,disabled:m,children:[g.jsx(Xg.Provider,{scope:e,children:g.jsx(FX,{scope:t.__scopeSelect,onNativeOptionAdd:S.useCallback(xe=>{ae(Te=>new Set(Te).add(xe))},[]),onNativeOptionRemove:S.useCallback(xe=>{ae(Te=>{const re=new Set(Te);return re.delete(xe),re})},[]),children:n})}),L?g.jsxs(NM,{"aria-hidden":!0,required:w,tabIndex:-1,name:h,autoComplete:p,value:j,onChange:xe=>D(xe.target.value),disabled:m,form:T,children:[j===void 0?g.jsx("option",{value:""}):null,Array.from(F)]},Ce):null]})})};aM.displayName=nf;var lM="SelectTrigger",cM=S.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...i}=t,s=Zg(n),o=ha(lM,n),a=o.disabled||r,l=dt(e,o.onTriggerChange),c=Jg(n),h=S.useRef("touch"),[p,m,w]=OM(_=>{const I=c().filter(k=>!k.disabled),b=I.find(k=>k.value===o.value),E=DM(I,_,b);E!==void 0&&o.onValueChange(E.value)}),T=_=>{a||(o.onOpenChange(!0),w()),_&&(o.triggerPointerDownPosRef.current={x:Math.round(_.pageX),y:Math.round(_.pageY)})};return g.jsx(XR,{asChild:!0,...s,children:g.jsx(Ve.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":AM(o.value)?"":void 0,...i,ref:l,onClick:ke(i.onClick,_=>{_.currentTarget.focus(),h.current!=="mouse"&&T(_)}),onPointerDown:ke(i.onPointerDown,_=>{h.current=_.pointerType;const I=_.target;I.hasPointerCapture(_.pointerId)&&I.releasePointerCapture(_.pointerId),_.button===0&&_.ctrlKey===!1&&_.pointerType==="mouse"&&(T(_),_.preventDefault())}),onKeyDown:ke(i.onKeyDown,_=>{const I=p.current!=="";!(_.ctrlKey||_.altKey||_.metaKey)&&_.key.length===1&&m(_.key),!(I&&_.key===" ")&&DX.includes(_.key)&&(T(),_.preventDefault())})})})});cM.displayName=lM;var uM="SelectValue",dM=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,children:s,placeholder:o="",...a}=t,l=ha(uM,n),{onValueNodeHasChildrenChange:c}=l,h=s!==void 0,p=dt(e,l.onValueNodeChange);return Rn(()=>{c(h)},[c,h]),g.jsx(Ve.span,{...a,ref:p,style:{pointerEvents:"none"},children:AM(l.value)?g.jsx(g.Fragment,{children:o}):s})});dM.displayName=uM;var UX="SelectIcon",hM=S.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...i}=t;return g.jsx(Ve.span,{"aria-hidden":!0,...i,ref:e,children:r||""})});hM.displayName=UX;var BX="SelectPortal",fM=t=>g.jsx(fg,{asChild:!0,...t});fM.displayName=BX;var _l="SelectContent",pM=S.forwardRef((t,e)=>{const n=ha(_l,t.__scopeSelect),[r,i]=S.useState();if(Rn(()=>{i(new DocumentFragment)},[]),!n.open){const s=r;return s?bl.createPortal(g.jsx(mM,{scope:t.__scopeSelect,children:g.jsx(Xg.Slot,{scope:t.__scopeSelect,children:g.jsx("div",{children:t.children})})}),s):null}return g.jsx(gM,{...t,ref:e})});pM.displayName=_l;var ii=10,[mM,fa]=Su(_l),$X="SelectContentImpl",zX=qc("SelectContent.RemoveScroll"),gM=S.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:i,onEscapeKeyDown:s,onPointerDownOutside:o,side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:w,sticky:T,hideWhenDetached:_,avoidCollisions:I,...b}=t,E=ha(_l,n),[k,M]=S.useState(null),[U,H]=S.useState(null),N=dt(e,Ie=>M(Ie)),[R,j]=S.useState(null),[D,B]=S.useState(null),L=Jg(n),[F,ae]=S.useState(!1),Ce=S.useRef(!1);S.useEffect(()=>{if(k)return p2(k)},[k]),s2();const xe=S.useCallback(Ie=>{const[it,...we]=L().map(Pe=>Pe.ref.current),[st]=we.slice(-1),qe=document.activeElement;for(const Pe of Ie)if(Pe===qe||(Pe==null||Pe.scrollIntoView({block:"nearest"}),Pe===it&&U&&(U.scrollTop=0),Pe===st&&U&&(U.scrollTop=U.scrollHeight),Pe==null||Pe.focus(),document.activeElement!==qe))return},[L,U]),Te=S.useCallback(()=>xe([R,k]),[xe,R,k]);S.useEffect(()=>{F&&Te()},[F,Te]);const{onOpenChange:re,triggerPointerDownPosRef:le}=E;S.useEffect(()=>{if(k){let Ie={x:0,y:0};const it=st=>{var qe,Pe;Ie={x:Math.abs(Math.round(st.pageX)-(((qe=le.current)==null?void 0:qe.x)??0)),y:Math.abs(Math.round(st.pageY)-(((Pe=le.current)==null?void 0:Pe.y)??0))}},we=st=>{Ie.x<=10&&Ie.y<=10?st.preventDefault():k.contains(st.target)||re(!1),document.removeEventListener("pointermove",it),le.current=null};return le.current!==null&&(document.addEventListener("pointermove",it),document.addEventListener("pointerup",we,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",it),document.removeEventListener("pointerup",we,{capture:!0})}}},[k,re,le]),S.useEffect(()=>{const Ie=()=>re(!1);return window.addEventListener("blur",Ie),window.addEventListener("resize",Ie),()=>{window.removeEventListener("blur",Ie),window.removeEventListener("resize",Ie)}},[re]);const[_e,Re]=OM(Ie=>{const it=L().filter(qe=>!qe.disabled),we=it.find(qe=>qe.ref.current===document.activeElement),st=DM(it,Ie,we);st&&setTimeout(()=>st.ref.current.focus())}),Ze=S.useCallback((Ie,it,we)=>{const st=!Ce.current&&!we;(E.value!==void 0&&E.value===it||st)&&(j(Ie),st&&(Ce.current=!0))},[E.value]),bt=S.useCallback(()=>k==null?void 0:k.focus(),[k]),mt=S.useCallback((Ie,it,we)=>{const st=!Ce.current&&!we;(E.value!==void 0&&E.value===it||st)&&B(Ie)},[E.value]),Qt=r==="popper"?C0:yM,yt=Qt===C0?{side:a,sideOffset:l,align:c,alignOffset:h,arrowPadding:p,collisionBoundary:m,collisionPadding:w,sticky:T,hideWhenDetached:_,avoidCollisions:I}:{};return g.jsx(mM,{scope:n,content:k,viewport:U,onViewportChange:H,itemRefCallback:Ze,selectedItem:R,onItemLeave:bt,itemTextRefCallback:mt,focusSelectedItem:Te,selectedItemText:D,position:r,isPositioned:F,searchRef:_e,children:g.jsx(N1,{as:zX,allowPinchZoom:!0,children:g.jsx(A1,{asChild:!0,trapped:E.open,onMountAutoFocus:Ie=>{Ie.preventDefault()},onUnmountAutoFocus:ke(i,Ie=>{var it;(it=E.trigger)==null||it.focus({preventScroll:!0}),Ie.preventDefault()}),children:g.jsx(Dh,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:s,onPointerDownOutside:o,onFocusOutside:Ie=>Ie.preventDefault(),onDismiss:()=>E.onOpenChange(!1),children:g.jsx(Qt,{role:"listbox",id:E.contentId,"data-state":E.open?"open":"closed",dir:E.dir,onContextMenu:Ie=>Ie.preventDefault(),...b,...yt,onPlaced:()=>ae(!0),ref:N,style:{display:"flex",flexDirection:"column",outline:"none",...b.style},onKeyDown:ke(b.onKeyDown,Ie=>{const it=Ie.ctrlKey||Ie.altKey||Ie.metaKey;if(Ie.key==="Tab"&&Ie.preventDefault(),!it&&Ie.key.length===1&&Re(Ie.key),["ArrowUp","ArrowDown","Home","End"].includes(Ie.key)){let st=L().filter(qe=>!qe.disabled).map(qe=>qe.ref.current);if(["ArrowUp","End"].includes(Ie.key)&&(st=st.slice().reverse()),["ArrowUp","ArrowDown"].includes(Ie.key)){const qe=Ie.target,Pe=st.indexOf(qe);st=st.slice(Pe+1)}setTimeout(()=>xe(st)),Ie.preventDefault()}})})})})})})});gM.displayName=$X;var WX="SelectItemAlignedPosition",yM=S.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...i}=t,s=ha(_l,n),o=fa(_l,n),[a,l]=S.useState(null),[c,h]=S.useState(null),p=dt(e,N=>h(N)),m=Jg(n),w=S.useRef(!1),T=S.useRef(!0),{viewport:_,selectedItem:I,selectedItemText:b,focusSelectedItem:E}=o,k=S.useCallback(()=>{if(s.trigger&&s.valueNode&&a&&c&&_&&I&&b){const N=s.trigger.getBoundingClientRect(),R=c.getBoundingClientRect(),j=s.valueNode.getBoundingClientRect(),D=b.getBoundingClientRect();if(s.dir!=="rtl"){const qe=D.left-R.left,Pe=j.left-qe,It=N.left-Pe,An=N.width+It,Nn=Math.max(An,R.width),$r=window.innerWidth-ii,zr=XT(Pe,[ii,Math.max(ii,$r-Nn)]);a.style.minWidth=An+"px",a.style.left=zr+"px"}else{const qe=R.right-D.right,Pe=window.innerWidth-j.right-qe,It=window.innerWidth-N.right-Pe,An=N.width+It,Nn=Math.max(An,R.width),$r=window.innerWidth-ii,zr=XT(Pe,[ii,Math.max(ii,$r-Nn)]);a.style.minWidth=An+"px",a.style.right=zr+"px"}const B=m(),L=window.innerHeight-ii*2,F=_.scrollHeight,ae=window.getComputedStyle(c),Ce=parseInt(ae.borderTopWidth,10),xe=parseInt(ae.paddingTop,10),Te=parseInt(ae.borderBottomWidth,10),re=parseInt(ae.paddingBottom,10),le=Ce+xe+F+re+Te,_e=Math.min(I.offsetHeight*5,le),Re=window.getComputedStyle(_),Ze=parseInt(Re.paddingTop,10),bt=parseInt(Re.paddingBottom,10),mt=N.top+N.height/2-ii,Qt=L-mt,yt=I.offsetHeight/2,Ie=I.offsetTop+yt,it=Ce+xe+Ie,we=le-it;if(it<=mt){const qe=B.length>0&&I===B[B.length-1].ref.current;a.style.bottom="0px";const Pe=c.clientHeight-_.offsetTop-_.offsetHeight,It=Math.max(Qt,yt+(qe?bt:0)+Pe+Te),An=it+It;a.style.height=An+"px"}else{const qe=B.length>0&&I===B[0].ref.current;a.style.top="0px";const It=Math.max(mt,Ce+_.offsetTop+(qe?Ze:0)+yt)+we;a.style.height=It+"px",_.scrollTop=it-mt+_.offsetTop}a.style.margin=`${ii}px 0`,a.style.minHeight=_e+"px",a.style.maxHeight=L+"px",r==null||r(),requestAnimationFrame(()=>w.current=!0)}},[m,s.trigger,s.valueNode,a,c,_,I,b,s.dir,r]);Rn(()=>k(),[k]);const[M,U]=S.useState();Rn(()=>{c&&U(window.getComputedStyle(c).zIndex)},[c]);const H=S.useCallback(N=>{N&&T.current===!0&&(k(),E==null||E(),T.current=!1)},[k,E]);return g.jsx(KX,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:w,onScrollButtonChange:H,children:g.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:M},children:g.jsx(Ve.div,{...i,ref:p,style:{boxSizing:"border-box",maxHeight:"100%",...i.style}})})})});yM.displayName=WX;var HX="SelectPopperPosition",C0=S.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:i=ii,...s}=t,o=Zg(n);return g.jsx(JR,{...o,...s,ref:e,align:r,collisionPadding:i,style:{boxSizing:"border-box",...s.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});C0.displayName=HX;var[KX,$1]=Su(_l,{}),T0="SelectViewport",vM=S.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...i}=t,s=fa(T0,n),o=$1(T0,n),a=dt(e,s.onViewportChange),l=S.useRef(0);return g.jsxs(g.Fragment,{children:[g.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),g.jsx(Xg.Slot,{scope:n,children:g.jsx(Ve.div,{"data-radix-select-viewport":"",role:"presentation",...i,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...i.style},onScroll:ke(i.onScroll,c=>{const h=c.currentTarget,{contentWrapper:p,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&p){const w=Math.abs(l.current-h.scrollTop);if(w>0){const T=window.innerHeight-ii*2,_=parseFloat(p.style.minHeight),I=parseFloat(p.style.height),b=Math.max(_,I);if(b<T){const E=b+w,k=Math.min(T,E),M=E-k;p.style.height=k+"px",p.style.bottom==="0px"&&(h.scrollTop=M>0?M:0,p.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});vM.displayName=T0;var _M="SelectGroup",[GX,qX]=Su(_M),YX=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=tl();return g.jsx(GX,{scope:n,id:i,children:g.jsx(Ve.div,{role:"group","aria-labelledby":i,...r,ref:e})})});YX.displayName=_M;var wM="SelectLabel",xM=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=qX(wM,n);return g.jsx(Ve.div,{id:i.id,...r,ref:e})});xM.displayName=wM;var Gm="SelectItem",[QX,bM]=Su(Gm),SM=S.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:i=!1,textValue:s,...o}=t,a=ha(Gm,n),l=fa(Gm,n),c=a.value===r,[h,p]=S.useState(s??""),[m,w]=S.useState(!1),T=dt(e,E=>{var k;return(k=l.itemRefCallback)==null?void 0:k.call(l,E,r,i)}),_=tl(),I=S.useRef("touch"),b=()=>{i||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return g.jsx(QX,{scope:n,value:r,disabled:i,textId:_,isSelected:c,onItemTextChange:S.useCallback(E=>{p(k=>k||((E==null?void 0:E.textContent)??"").trim())},[]),children:g.jsx(Xg.ItemSlot,{scope:n,value:r,disabled:i,textValue:h,children:g.jsx(Ve.div,{role:"option","aria-labelledby":_,"data-highlighted":m?"":void 0,"aria-selected":c&&m,"data-state":c?"checked":"unchecked","aria-disabled":i||void 0,"data-disabled":i?"":void 0,tabIndex:i?void 0:-1,...o,ref:T,onFocus:ke(o.onFocus,()=>w(!0)),onBlur:ke(o.onBlur,()=>w(!1)),onClick:ke(o.onClick,()=>{I.current!=="mouse"&&b()}),onPointerUp:ke(o.onPointerUp,()=>{I.current==="mouse"&&b()}),onPointerDown:ke(o.onPointerDown,E=>{I.current=E.pointerType}),onPointerMove:ke(o.onPointerMove,E=>{var k;I.current=E.pointerType,i?(k=l.onItemLeave)==null||k.call(l):I.current==="mouse"&&E.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ke(o.onPointerLeave,E=>{var k;E.currentTarget===document.activeElement&&((k=l.onItemLeave)==null||k.call(l))}),onKeyDown:ke(o.onKeyDown,E=>{var M;((M=l.searchRef)==null?void 0:M.current)!==""&&E.key===" "||(MX.includes(E.key)&&b(),E.key===" "&&E.preventDefault())})})})})});SM.displayName=Gm;var ud="SelectItemText",EM=S.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:i,...s}=t,o=ha(ud,n),a=fa(ud,n),l=bM(ud,n),c=VX(ud,n),[h,p]=S.useState(null),m=dt(e,b=>p(b),l.onItemTextChange,b=>{var E;return(E=a.itemTextRefCallback)==null?void 0:E.call(a,b,l.value,l.disabled)}),w=h==null?void 0:h.textContent,T=S.useMemo(()=>g.jsx("option",{value:l.value,disabled:l.disabled,children:w},l.value),[l.disabled,l.value,w]),{onNativeOptionAdd:_,onNativeOptionRemove:I}=c;return Rn(()=>(_(T),()=>I(T)),[_,I,T]),g.jsxs(g.Fragment,{children:[g.jsx(Ve.span,{id:l.textId,...s,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?bl.createPortal(s.children,o.valueNode):null]})});EM.displayName=ud;var CM="SelectItemIndicator",TM=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return bM(CM,n).isSelected?g.jsx(Ve.span,{"aria-hidden":!0,...r,ref:e}):null});TM.displayName=CM;var P0="SelectScrollUpButton",PM=S.forwardRef((t,e)=>{const n=fa(P0,t.__scopeSelect),r=$1(P0,t.__scopeSelect),[i,s]=S.useState(!1),o=dt(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollTop>0;s(c)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(kM,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});PM.displayName=P0;var I0="SelectScrollDownButton",IM=S.forwardRef((t,e)=>{const n=fa(I0,t.__scopeSelect),r=$1(I0,t.__scopeSelect),[i,s]=S.useState(!1),o=dt(e,r.onScrollButtonChange);return Rn(()=>{if(n.viewport&&n.isPositioned){let a=function(){const c=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<c;s(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),i?g.jsx(kM,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});IM.displayName=I0;var kM=S.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...i}=t,s=fa("SelectScrollButton",n),o=S.useRef(null),a=Jg(n),l=S.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return S.useEffect(()=>()=>l(),[l]),Rn(()=>{var h;const c=a().find(p=>p.ref.current===document.activeElement);(h=c==null?void 0:c.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),g.jsx(Ve.div,{"aria-hidden":!0,...i,ref:e,style:{flexShrink:0,...i.style},onPointerDown:ke(i.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ke(i.onPointerMove,()=>{var c;(c=s.onItemLeave)==null||c.call(s),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ke(i.onPointerLeave,()=>{l()})})}),XX="SelectSeparator",RM=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return g.jsx(Ve.div,{"aria-hidden":!0,...r,ref:e})});RM.displayName=XX;var k0="SelectArrow",JX=S.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,i=Zg(n),s=ha(k0,n),o=fa(k0,n);return s.open&&o.position==="popper"?g.jsx(ZR,{...i,...r,ref:e}):null});JX.displayName=k0;function AM(t){return t===""||t===void 0}var NM=S.forwardRef((t,e)=>{const{value:n,...r}=t,i=S.useRef(null),s=dt(e,i),o=F1(n);return S.useEffect(()=>{const a=i.current,l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==n&&h){const p=new Event("change",{bubbles:!0});h.call(a,n),a.dispatchEvent(p)}},[o,n]),g.jsx(Mh,{asChild:!0,children:g.jsx("select",{...r,ref:s,defaultValue:n})})});NM.displayName="BubbleSelect";function OM(t){const e=nr(t),n=S.useRef(""),r=S.useRef(0),i=S.useCallback(o=>{const a=n.current+o;e(a),function l(c){n.current=c,window.clearTimeout(r.current),c!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),s=S.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return S.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,i,s]}function DM(t,e,n){const i=e.length>1&&Array.from(e).every(c=>c===e[0])?e[0]:e,s=n?t.indexOf(n):-1;let o=ZX(t,Math.max(s,0));i.length===1&&(o=o.filter(c=>c!==n));const l=o.find(c=>c.textValue.toLowerCase().startsWith(i.toLowerCase()));return l!==n?l:void 0}function ZX(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var eJ=aM,MM=cM,tJ=dM,nJ=hM,rJ=fM,jM=pM,iJ=vM,LM=xM,FM=SM,sJ=EM,oJ=TM,VM=PM,UM=IM,BM=RM;const JT=eJ,ZT=tJ,R0=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(MM,{ref:r,className:De("flex h-9 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background data-[placeholder]:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,g.jsx(nJ,{asChild:!0,children:g.jsx(gR,{className:"h-4 w-4 opacity-50"})})]}));R0.displayName=MM.displayName;const $M=S.forwardRef(({className:t,...e},n)=>g.jsx(VM,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(C3,{className:"h-4 w-4"})}));$M.displayName=VM.displayName;const zM=S.forwardRef(({className:t,...e},n)=>g.jsx(UM,{ref:n,className:De("flex cursor-default items-center justify-center py-1",t),...e,children:g.jsx(gR,{className:"h-4 w-4"})}));zM.displayName=UM.displayName;const A0=S.forwardRef(({className:t,children:e,position:n="popper",...r},i)=>g.jsx(rJ,{children:g.jsxs(jM,{ref:i,className:De("relative z-50 max-h-[--radix-select-content-available-height] min-w-[8rem] overflow-y-auto overflow-x-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 origin-[--radix-select-content-transform-origin]",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[g.jsx($M,{}),g.jsx(iJ,{className:De("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),g.jsx(zM,{})]})}));A0.displayName=jM.displayName;const aJ=S.forwardRef(({className:t,...e},n)=>g.jsx(LM,{ref:n,className:De("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));aJ.displayName=LM.displayName;const ms=S.forwardRef(({className:t,children:e,...n},r)=>g.jsxs(FM,{ref:r,className:De("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none focus:bg-accent focus:text-accent-foreground data-[disabled]:pointer-events-none data-[disabled]:opacity-50",t),...n,children:[g.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:g.jsx(oJ,{children:g.jsx(pR,{className:"h-4 w-4"})})}),g.jsx(sJ,{children:e})]}));ms.displayName=FM.displayName;const lJ=S.forwardRef(({className:t,...e},n)=>g.jsx(BM,{ref:n,className:De("-mx-1 my-1 h-px bg-muted",t),...e}));lJ.displayName=BM.displayName;const WM=S.forwardRef(({className:t,...e},n)=>g.jsx("div",{className:"relative w-full overflow-auto",children:g.jsx("table",{ref:n,className:De("w-full caption-bottom text-sm",t),...e})}));WM.displayName="Table";const HM=S.forwardRef(({className:t,...e},n)=>g.jsx("thead",{ref:n,className:De("[&_tr]:border-b",t),...e}));HM.displayName="TableHeader";const KM=S.forwardRef(({className:t,...e},n)=>g.jsx("tbody",{ref:n,className:De("[&_tr:last-child]:border-0",t),...e}));KM.displayName="TableBody";const cJ=S.forwardRef(({className:t,...e},n)=>g.jsx("tfoot",{ref:n,className:De("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));cJ.displayName="TableFooter";const Dp=S.forwardRef(({className:t,...e},n)=>g.jsx("tr",{ref:n,className:De("border-b transition-colors hover:bg-muted/50 data-[state=selected]:bg-muted",t),...e}));Dp.displayName="TableRow";const Ql=S.forwardRef(({className:t,...e},n)=>g.jsx("th",{ref:n,className:De("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));Ql.displayName="TableHead";const Ba=S.forwardRef(({className:t,...e},n)=>g.jsx("td",{ref:n,className:De("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Ba.displayName="TableCell";const uJ=S.forwardRef(({className:t,...e},n)=>g.jsx("caption",{ref:n,className:De("mt-4 text-sm text-muted-foreground",t),...e}));uJ.displayName="TableCaption";const dJ={hot_drinks:"Hot Drinks",cold_drinks:"Cold Drinks",snacks:"Snacks",combos:"Combos"};function hJ(){const[,t]=Oh(),e=Fm(D=>D.isAuthenticated),n=Fm(D=>D.logout),{toast:r}=Aw(),[i,s]=S.useState([]),[o,a]=S.useState(!1),[l,c]=S.useState(!1),[h,p]=S.useState(!1),[m,w]=S.useState(null),[T,_]=S.useState(!1),[I,b]=S.useState({name:"",category:"hot_drinks",price:"",gstRate:"5"});S.useEffect(()=>{if(!e){t("/login");return}E()},[e,t]);const E=async()=>{try{const D=await cd.getAllMenuItems();s(D)}catch{r({title:"Error",description:"Failed to load menu items",variant:"destructive"})}},k=()=>{n(),t("/login")},M=()=>{b({name:"",category:"hot_drinks",price:"",gstRate:"5"})},U=async()=>{if(!I.name||!I.price){r({title:"Validation Error",description:"Please fill in all required fields",variant:"destructive"});return}_(!0);try{await cd.createMenuItem({name:I.name,category:I.category,price:parseFloat(I.price),gstRate:parseFloat(I.gstRate)}),r({title:"Success",description:"Menu item added successfully"}),a(!1),M(),E()}catch{r({title:"Error",description:"Failed to add menu item",variant:"destructive"})}finally{_(!1)}},H=async()=>{if(!(!m||!I.name||!I.price)){_(!0);try{await cd.updateMenuItem(m.id,{name:I.name,category:I.category,price:parseFloat(I.price),gstRate:parseFloat(I.gstRate)}),r({title:"Success",description:"Menu item updated successfully"}),c(!1),w(null),M(),E()}catch{r({title:"Error",description:"Failed to update menu item",variant:"destructive"})}finally{_(!1)}}},N=async()=>{if(m){_(!0);try{await cd.deleteMenuItem(m.id),r({title:"Success",description:"Menu item deleted successfully"}),p(!1),w(null),E()}catch{r({title:"Error",description:"Failed to delete menu item",variant:"destructive"})}finally{_(!1)}}},R=D=>{w(D),b({name:D.name,category:D.category,price:D.price.toString(),gstRate:D.gstRate.toString()}),c(!0)},j=D=>{w(D),p(!0)};return e?g.jsxs("div",{className:"container mx-auto px-4 py-8 max-w-6xl",children:[g.jsxs("div",{className:"flex items-center justify-between mb-8",children:[g.jsxs("div",{children:[g.jsx("h1",{className:"text-3xl font-bold",children:"Menu Management"}),g.jsx("p",{className:"text-muted-foreground mt-2",children:"Manage your restaurant menu items"})]}),g.jsxs(at,{variant:"outline",onClick:k,"data-testid":"button-logout",children:[g.jsx(N3,{className:"h-4 w-4 mr-2"}),"Logout"]})]}),g.jsxs(fn,{children:[g.jsx(su,{children:g.jsxs("div",{className:"flex items-center justify-between",children:[g.jsxs("div",{children:[g.jsx(_h,{children:"Menu Items"}),g.jsx($g,{children:"Add, edit, or remove items from your menu"})]}),g.jsxs(at,{onClick:()=>{M(),a(!0)},"data-testid":"button-add-menu-item",children:[g.jsx(jw,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})}),g.jsx(Bn,{children:g.jsxs(WM,{children:[g.jsx(HM,{children:g.jsxs(Dp,{children:[g.jsx(Ql,{children:"Name"}),g.jsx(Ql,{children:"Category"}),g.jsx(Ql,{children:"Price"}),g.jsx(Ql,{children:"GST Rate"}),g.jsx(Ql,{className:"text-right",children:"Actions"})]})}),g.jsx(KM,{children:i.length===0?g.jsx(Dp,{children:g.jsx(Ba,{colSpan:5,className:"text-center text-muted-foreground py-8",children:"No menu items found. Add your first item to get started."})}):i.map(D=>g.jsxs(Dp,{"data-testid":`row-menu-item-${D.id}`,children:[g.jsx(Ba,{className:"font-medium",children:D.name}),g.jsx(Ba,{children:dJ[D.category]}),g.jsxs(Ba,{children:["",D.price.toFixed(2)]}),g.jsxs(Ba,{children:[D.gstRate,"%"]}),g.jsx(Ba,{className:"text-right",children:g.jsxs("div",{className:"flex justify-end gap-2",children:[g.jsx(at,{variant:"ghost",size:"icon",onClick:()=>R(D),"data-testid":`button-edit-${D.id}`,children:g.jsx(F3,{className:"h-4 w-4"})}),g.jsx(at,{variant:"ghost",size:"icon",onClick:()=>j(D),"data-testid":`button-delete-${D.id}`,children:g.jsx(_R,{className:"h-4 w-4 text-destructive"})})]})})]},D.id))})]})})]}),g.jsx(Rp,{open:o,onOpenChange:a,children:g.jsxs(Md,{"data-testid":"dialog-add-menu-item",children:[g.jsxs(jd,{children:[g.jsx(Ld,{children:"Add Menu Item"}),g.jsx(Np,{children:"Add a new item to your menu"})]}),g.jsxs("div",{className:"space-y-4 py-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"name",children:"Name"}),g.jsx(vs,{id:"name",value:I.name,onChange:D=>b({...I,name:D.target.value}),placeholder:"e.g., Chai","data-testid":"input-item-name"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"category",children:"Category"}),g.jsxs(JT,{value:I.category,onValueChange:D=>b({...I,category:D}),children:[g.jsx(R0,{"data-testid":"select-category",children:g.jsx(ZT,{})}),g.jsxs(A0,{children:[g.jsx(ms,{value:"hot_drinks",children:"Hot Drinks"}),g.jsx(ms,{value:"cold_drinks",children:"Cold Drinks"}),g.jsx(ms,{value:"snacks",children:"Snacks"}),g.jsx(ms,{value:"combos",children:"Combos"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"price",children:"Price ()"}),g.jsx(vs,{id:"price",type:"number",step:"0.01",value:I.price,onChange:D=>b({...I,price:D.target.value}),placeholder:"0.00","data-testid":"input-item-price"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"gstRate",children:"GST Rate (%)"}),g.jsx(vs,{id:"gstRate",type:"number",step:"0.1",value:I.gstRate,onChange:D=>b({...I,gstRate:D.target.value}),placeholder:"5","data-testid":"input-item-gst"})]})]}),g.jsxs(Ap,{children:[g.jsx(at,{variant:"outline",onClick:()=>a(!1),disabled:T,children:"Cancel"}),g.jsx(at,{onClick:U,disabled:T,"data-testid":"button-confirm-add",children:T?"Adding...":"Add Item"})]})]})}),g.jsx(Rp,{open:l,onOpenChange:c,children:g.jsxs(Md,{"data-testid":"dialog-edit-menu-item",children:[g.jsxs(jd,{children:[g.jsx(Ld,{children:"Edit Menu Item"}),g.jsx(Np,{children:"Update the menu item details"})]}),g.jsxs("div",{className:"space-y-4 py-4",children:[g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"edit-name",children:"Name"}),g.jsx(vs,{id:"edit-name",value:I.name,onChange:D=>b({...I,name:D.target.value}),"data-testid":"input-edit-name"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"edit-category",children:"Category"}),g.jsxs(JT,{value:I.category,onValueChange:D=>b({...I,category:D}),children:[g.jsx(R0,{"data-testid":"select-edit-category",children:g.jsx(ZT,{})}),g.jsxs(A0,{children:[g.jsx(ms,{value:"hot_drinks",children:"Hot Drinks"}),g.jsx(ms,{value:"cold_drinks",children:"Cold Drinks"}),g.jsx(ms,{value:"snacks",children:"Snacks"}),g.jsx(ms,{value:"combos",children:"Combos"})]})]})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"edit-price",children:"Price ()"}),g.jsx(vs,{id:"edit-price",type:"number",step:"0.01",value:I.price,onChange:D=>b({...I,price:D.target.value}),"data-testid":"input-edit-price"})]}),g.jsxs("div",{className:"space-y-2",children:[g.jsx(Rt,{htmlFor:"edit-gstRate",children:"GST Rate (%)"}),g.jsx(vs,{id:"edit-gstRate",type:"number",step:"0.1",value:I.gstRate,onChange:D=>b({...I,gstRate:D.target.value}),"data-testid":"input-edit-gst"})]})]}),g.jsxs(Ap,{children:[g.jsx(at,{variant:"outline",onClick:()=>c(!1),disabled:T,children:"Cancel"}),g.jsx(at,{onClick:H,disabled:T,"data-testid":"button-confirm-edit",children:T?"Updating...":"Update Item"})]})]})}),g.jsx(Rp,{open:h,onOpenChange:p,children:g.jsxs(Md,{"data-testid":"dialog-delete-menu-item",children:[g.jsxs(jd,{children:[g.jsx(Ld,{children:"Delete Menu Item"}),g.jsxs(Np,{children:['Are you sure you want to delete "',m==null?void 0:m.name,'"? This action cannot be undone.']})]}),g.jsxs(Ap,{children:[g.jsx(at,{variant:"outline",onClick:()=>p(!1),disabled:T,children:"Cancel"}),g.jsx(at,{variant:"destructive",onClick:N,disabled:T,"data-testid":"button-confirm-delete",children:T?"Deleting...":"Delete"})]})]})})]}):null}function fJ(){return g.jsx(E4,{client:P4,children:g.jsxs(Q5,{children:[g.jsx("div",{className:"min-h-screen bg-background",children:g.jsxs(hS,{children:[g.jsx(Oa,{path:"/login",component:OX}),g.jsx(Oa,{path:"/admin",component:hJ}),g.jsx(Oa,{path:"*",children:()=>g.jsxs(g.Fragment,{children:[g.jsx(hH,{}),g.jsxs(hS,{children:[g.jsx(Oa,{path:"/",component:Uq}),g.jsx(Oa,{path:"/billing",component:NQ}),g.jsx(Oa,{path:"/kitchen",component:RX}),g.jsx(Oa,{path:"/payment",component:NX})]})]})})]})}),g.jsx(EV,{})]})})}xk(document.getElementById("root")).render(g.jsx(fJ,{}));
